(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function s(e){return c.p+"js/"+({about:"about","directory~pluginManager~sidenav":"directory~pluginManager~sidenav",directory:"directory",concepts:"concepts",organizations:"organizations",crosswalk:"crosswalk",import:"import",organization:"organization",framework:"framework",conceptScheme:"conceptScheme",progressionModel:"progressionModel",configurationEditor:"configurationEditor",pluginManager:"pluginManager",sidenav:"sidenav",forbidden:"forbidden",internalError:"internalError",login:"login",pluginContainer:"pluginContainer",timeline:"timeline",topbar:"topbar",userGroupEditor:"userGroupEditor",welcome:"welcome"}[e]||e)+"."+{about:"f8798f5b","chunk-01d6e340":"e8892644","chunk-0758cb88":"fa11bfa7","chunk-118f2fc7":"1271fd4e","chunk-124f8616":"f8d968de","chunk-167b745b":"ab0ed8cb","chunk-23da9201":"70528305","chunk-26645c60":"613a463d","chunk-2b521cf9":"f8325dd0","chunk-2d0a4fe9":"ccdfefb7","chunk-06507814":"969cb942","directory~pluginManager~sidenav":"e6b92e18",directory:"d57888c3","chunk-2d0d5fe2":"c3fb68c8","chunk-2d22bdc1":"8d1279d4",concepts:"cf2baed5",organizations:"fdb702f1","chunk-d5b1fd50":"0fe3d387","chunk-25e58aa8":"0233224f","chunk-392e2d97":"ab76c94b","chunk-c8ba69f0":"0667b83f",crosswalk:"e778cc59",import:"b987ac51",organization:"bce1cca6","chunk-2d21ecda":"2f3d16f7",framework:"80f2ef68",conceptScheme:"f2274ca3",progressionModel:"4607e340","chunk-34aef0d0":"f4b21933","chunk-2d0b2ce8":"cd54a6f6",configurationEditor:"6b55a647","chunk-3d311776":"5fadf5e8","chunk-414980ec":"88c1df56","chunk-55a2e0f0":"7ac582c3","chunk-60c4da6e":"02044e13","chunk-6457d67f":"b06ff214","chunk-698822b4":"2ad86753","chunk-73e195ca":"6f728c9b","chunk-7730d321":"aa5f0747","chunk-7cc6508c":"01872735","chunk-882aab22":"f76f9558","chunk-9da69672":"881364c8","chunk-bdc9b010":"e9e39519",pluginManager:"efc18415",sidenav:"6416e647",forbidden:"fce42d3b",internalError:"a37d221b",login:"9ceb4836",pluginContainer:"dd52f60f",timeline:"0547f053",topbar:"83e7487e",userGroupEditor:"128c0332",welcome:"3ba69b28","chunk-2d0cbec1":"41ea45db","chunk-d3a5e010":"3988d8b6","chunk-53caa434":"3d463cd6","chunk-f3b8fe20":"71fe8f6e","chunk-0b826d8e":"32b165f1","chunk-74a95bb3":"6b60a41d","chunk-2adf32c6":"0cf02286","chunk-4a5f46a6":"89f7691b","chunk-b9f1694a":"cc8593de","chunk-8e40605e":"704b458d","chunk-2d0ddf90":"126e2748","chunk-750809ec":"b68044a0","chunk-2d0dab46":"e8387539","chunk-53fe8327":"70402e79","chunk-57f94815":"657d1976","chunk-51369fc1":"6c32966f","chunk-2d0daac9":"c9d0ca6c","chunk-2d21eb37":"866dd1d9","chunk-3fb38d12":"8ab4e16a","chunk-6b291276":"db754e1a"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-01d6e340":1,"chunk-0758cb88":1,"chunk-118f2fc7":1,"chunk-124f8616":1,"chunk-167b745b":1,"chunk-23da9201":1,"chunk-26645c60":1,"chunk-2b521cf9":1,"chunk-06507814":1,directory:1,concepts:1,organizations:1,"chunk-d5b1fd50":1,"chunk-25e58aa8":1,"chunk-392e2d97":1,"chunk-c8ba69f0":1,crosswalk:1,import:1,organization:1,framework:1,conceptScheme:1,progressionModel:1,"chunk-34aef0d0":1,configurationEditor:1,"chunk-3d311776":1,"chunk-414980ec":1,"chunk-55a2e0f0":1,"chunk-60c4da6e":1,"chunk-6457d67f":1,"chunk-698822b4":1,"chunk-73e195ca":1,"chunk-7730d321":1,"chunk-7cc6508c":1,"chunk-882aab22":1,"chunk-9da69672":1,"chunk-bdc9b010":1,pluginManager:1,sidenav:1,forbidden:1,internalError:1,login:1,pluginContainer:1,timeline:1,userGroupEditor:1,"chunk-d3a5e010":1,"chunk-53caa434":1,"chunk-f3b8fe20":1,"chunk-0b826d8e":1,"chunk-2adf32c6":1,"chunk-b9f1694a":1,"chunk-8e40605e":1,"chunk-750809ec":1,"chunk-53fe8327":1,"chunk-57f94815":1,"chunk-51369fc1":1,"chunk-3fb38d12":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({about:"about","directory~pluginManager~sidenav":"directory~pluginManager~sidenav",directory:"directory",concepts:"concepts",organizations:"organizations",crosswalk:"crosswalk",import:"import",organization:"organization",framework:"framework",conceptScheme:"conceptScheme",progressionModel:"progressionModel",configurationEditor:"configurationEditor",pluginManager:"pluginManager",sidenav:"sidenav",forbidden:"forbidden",internalError:"internalError",login:"login",pluginContainer:"pluginContainer",timeline:"timeline",topbar:"topbar",userGroupEditor:"userGroupEditor",welcome:"welcome"}[e]||e)+"."+{about:"31d6cfe0","chunk-01d6e340":"60471a70","chunk-0758cb88":"60471a70","chunk-118f2fc7":"60471a70","chunk-124f8616":"73ccae3d","chunk-167b745b":"daa4e784","chunk-23da9201":"369d5d3a","chunk-26645c60":"73ccae3d","chunk-2b521cf9":"60471a70","chunk-2d0a4fe9":"31d6cfe0","chunk-06507814":"37763076","directory~pluginManager~sidenav":"31d6cfe0",directory:"c167a297","chunk-2d0d5fe2":"31d6cfe0","chunk-2d22bdc1":"31d6cfe0",concepts:"1a7357f1",organizations:"05da92df","chunk-d5b1fd50":"d8e69eab","chunk-25e58aa8":"7b855f94","chunk-392e2d97":"1d2cf1ba","chunk-c8ba69f0":"caaa14bc",crosswalk:"4b9045c2",import:"06f3fdcc",organization:"1a0abe8b","chunk-2d21ecda":"31d6cfe0",framework:"9eaa0f5c",conceptScheme:"8cae2c01",progressionModel:"8cae2c01","chunk-34aef0d0":"d0a47e88","chunk-2d0b2ce8":"31d6cfe0",configurationEditor:"fd1f578c","chunk-3d311776":"60471a70","chunk-414980ec":"60471a70","chunk-55a2e0f0":"60471a70","chunk-60c4da6e":"60471a70","chunk-6457d67f":"60471a70","chunk-698822b4":"60471a70","chunk-73e195ca":"60471a70","chunk-7730d321":"60471a70","chunk-7cc6508c":"60471a70","chunk-882aab22":"60471a70","chunk-9da69672":"6fe35a3d","chunk-bdc9b010":"60471a70",pluginManager:"7dbcc073",sidenav:"2468bea9",forbidden:"1b0a0109",internalError:"7f0e233f",login:"be292f08",pluginContainer:"ae42be31",timeline:"5ae6be9f",topbar:"31d6cfe0",userGroupEditor:"83fefc67",welcome:"31d6cfe0","chunk-2d0cbec1":"31d6cfe0","chunk-d3a5e010":"a30ab66b","chunk-53caa434":"a2bf2d06","chunk-f3b8fe20":"60471a70","chunk-0b826d8e":"1161e7d1","chunk-74a95bb3":"31d6cfe0","chunk-2adf32c6":"60471a70","chunk-4a5f46a6":"31d6cfe0","chunk-b9f1694a":"c8484769","chunk-8e40605e":"4b4f9add","chunk-2d0ddf90":"31d6cfe0","chunk-750809ec":"6bbc8dd3","chunk-2d0dab46":"31d6cfe0","chunk-53fe8327":"87a3c1f3","chunk-57f94815":"c8484769","chunk-51369fc1":"c8484769","chunk-2d0daac9":"31d6cfe0","chunk-2d21eb37":"31d6cfe0","chunk-3fb38d12":"cc85466d","chunk-6b291276":"31d6cfe0"}[e]+".css",a=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],p.parentNode.removeChild(p),n(i)},p.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;i.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("56d7")},2:function(e,t){},3:function(e,t){},"3dfd":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.editorClass,attrs:{id:"app"}},[e.bannerMessage?n("div",{staticClass:"banner",style:e.bannerStyle},[n("span",[e._v(e._s(e.bannerMessage))])]):e._e(),n("DynamicModal",{on:{"create-directory":e.saveDirectory,"create-another-directory":e.saveDirectoryAndAddAnother}}),n("router-view",{class:[{"clear-side-bar":e.showSideNav},{"clear-narrow-side-bar":!e.showSideNav},{"clear-right-aside":e.showRightAside}],on:{"create-new-framework":e.createNewFramework,"create-new-concept-scheme":e.createNewConceptScheme,"create-new-progression-model":e.createNewProgressionModel,"create-new-collection":e.createNewCollection}}),n("router-view",{attrs:{showSideNav:e.showSideNav,name:"sidebar"},on:{"create-new-framework":e.createNewFramework,"create-new-concept-scheme":e.createNewConceptScheme,"create-new-progression-model":e.createNewProgressionModel,"create-new-collection":e.createNewCollection}}),n("vue-progress-bar"),e.bannerMessage?n("div",{staticClass:"banner banner-bot",style:e.bannerStyle},[n("span",[e._v(e._s(e.bannerMessage))])]):e._e()],1)},o=[],a=(n("b0c0"),n("ac1f"),n("8a79"),n("5319"),n("841c"),n("2ca0"),n("f3f3")),i=n("54f8"),s=(n("96cf"),n("c964")),c=n("2f62"),u=n("872c"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.dynamicModal,{tag:"Component",attrs:{title:e.title,view:"modal",content:e.dynamicModalContent},on:{"create-directory":function(t){return e.$emit("create-directory",t)},"create-another-directory":function(t){return e.$emit("create-another-directory",t)},close:function(t){return e.$emit("app/closeModal")},cancel:function(t){return e.$emit("app/closeModal")}}})],1)},l=[],p=(n("d3b7"),{name:"DynamicModal",props:{type:{default:"info",type:String},color:{default:"white",type:String}},components:{Share:function(){return n.e("chunk-23da9201").then(n.bind(null,"c24a"))},MultiEdit:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-d5b1fd50"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-392e2d97")]).then(n.bind(null,"71a9"))},SearchModal:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-d5b1fd50"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-c8ba69f0")]).then(n.bind(null,"fbde"))},AddComment:function(){return n.e("chunk-26645c60").then(n.bind(null,"8a30"))},DeleteCommentConfirm:function(){return n.e("chunk-bdc9b010").then(n.bind(null,"4d6a"))},DeleteDirectoryConfirm:function(){return n.e("chunk-124f8616").then(n.bind(null,"5f07"))},SupportedImportDetails:function(){return n.e("chunk-9da69672").then(n.bind(null,"aaa3"))},Single:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-d5b1fd50"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-25e58aa8")]).then(n.bind(null,"9765"))},AddDirectory:function(){return n.e("chunk-882aab22").then(n.bind(null,"76c6"))},DeleteConfigurationConfirm:function(){return n.e("chunk-0758cb88").then(n.bind(null,"b123"))},FrameworkConfiguration:function(){return Promise.all([n.e("chunk-34aef0d0"),n.e("chunk-2d0b2ce8")]).then(n.bind(null,"264b"))},DeleteCompetencyConfirm:function(){return n.e("chunk-7cc6508c").then(n.bind(null,"b5c7"))},DeleteFrameworkConfirm:function(){return n.e("chunk-698822b4").then(n.bind(null,"c4df"))},DeleteLevelConfirm:function(){return n.e("chunk-414980ec").then(n.bind(null,"9d8f"))},DeleteConceptConfirm:function(){return n.e("chunk-7730d321").then(n.bind(null,"26bb"))},DeleteConceptSchemeConfirm:function(){return n.e("chunk-118f2fc7").then(n.bind(null,"a6a6"))},RemoveCompetencyConfirm:function(){return n.e("chunk-2b521cf9").then(n.bind(null,"2d77"))},ExportOptionsModal:function(){return n.e("chunk-01d6e340").then(n.bind(null,"03d5"))},RequiredPropertyModal:function(){return n.e("chunk-60c4da6e").then(n.bind(null,"1948"))},DuplicateImport:function(){return n.e("chunk-73e195ca").then(n.bind(null,"1a52"))},ImportError:function(){return n.e("chunk-6457d67f").then(n.bind(null,"ef89"))},ShareAssertions:function(){return n.e("chunk-167b745b").then(n.bind(null,"4d343"))},LogoutSuccess:function(){return n.e("chunk-55a2e0f0").then(n.bind(null,"0dd5"))},MessageOfTheDay:function(){return n.e("chunk-3d311776").then(n.bind(null,"1d06"))}},data:function(){return{}},computed:{showModal:function(){return this.$store.getters["app/showModal"]},dynamicModalContent:function(){return this.showModal?this.$store.getters["app/dynamicModalContent"]:{}},dynamicModal:function(){return this.dynamicModalContent?this.dynamicModalContent.component:""},title:function(){return this.dynamicModalContent&&this.dynamicModalContent.title?this.dynamicModalContent.title:""}},watch:{}}),m=p,f=(n("d0e4"),n("2877")),h=Object(f["a"])(m,d,l,!1,null,null,null),g=h.exports,y=n("9224"),w={mixins:[u["a"]],name:"App",components:{DynamicModal:g},data:function(){return{navBarActive:!1,repo:window.repo,itemsSaving:0,showNav:!0,GROUP_SEARCH_SIZE:1e4,linkedPerson:null,addAnotherDirectory:!1,appVersion:y["a"]}},$router:function(e,t){e.path!==t.path&&(this.navBarActive=!1)},beforeDestroy:function(){window.removeEventListener("message",this.cappend),window.removeEventListener("message",this.messageListener)},methods:{initializeApp:function(){var e=this;this.appVersion&&(document.title="CaSS Editor "+this.appVersion);var t=window.origin+"/api/";"https://cassproject.github.io"===window.location.origin?t="https://dev.cassproject.org/api/":Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_SELECTEDSERVER&&(t=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_SELECTEDSERVER);var n="https://dev.rest.api.cassproject.org/";this.$store.commit("environment/cassApiLocation",n);var r=this;if(this.$route.query){var o=JSON.parse(JSON.stringify(this.$route.query));for(var a in window.queryParams)o[a]=window.queryParams[a];this.$store.commit("editor/queryParams",o),this.queryParams.server&&(this.queryParams.server.endsWith&&!1===this.queryParams.server.endsWith("/")&&(this.queryParams.server+="/"),t=this.queryParams.server),"true"===this.queryParams.concepts&&(this.$store.commit("editor/conceptMode",!0),this.$store.commit("editor/progressionMode",!1)),"true"===this.queryParams.ceasnDataFields&&(this.$store.commit("featuresEnabled/configurationsEnabled",!1),this.$store.commit("featuresEnabled/userManagementEnabled",!1),this.$store.commit("featuresEnabled/searchByOwnerNameEnabled",!1),this.$store.commit("featuresEnabled/loginEnabled",!1),this.$store.commit("featuresEnabled/pluginsEnabled",!1)),"wait"===this.queryParams.user&&this.$store.commit("featuresEnabled/shareEnabled",!1)}var i=new EcRepository;i.selectedServer=t,i.init(t,(function(){if(appLog("Repository initialized"),0===EcIdentityManager.default.ids.length&&(EcIdentityManager.default.readContacts(),EcIdentityManager.default.readIdentities()),EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0&&r.findLinkedPersonForIdentity(),EcRepository.defaultPlugins&&EcRepository.defaultPlugins.length>0){var e=[];for(var t in EcRepository.defaultPlugins){var n=EcRepository.defaultPlugins[t];n.startsWith("/")&&(n=window.location.origin+n),e.push({id:t,url:n})}r.$store.commit("app/setCuratedPlugins",e)}}),appError,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,o,a,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.commit("user/repositorySsoOptions",n),null!=n.ssoPublicKey&&null==n.ssoLogin&&(e.$store.commit("featuresEnabled/loginEnabled",!1),e.$store.commit("featuresEnabled/userManagementEnabled",!1)),null!=n.ssoLogin&&e.$store.commit("featuresEnabled/apiLoginEnabled",!0),n.banner&&e.$store.commit("app/setBanner",n.banner),n.motd&&(e.$store.commit("app/setMotd",n.motd),n.motd.message&&e.$store.commit("app/showModal",{component:"MessageOfTheDay"})),!(window.EcIdentityManager.default.ids.length>0)){t.next=16;break}return t.prev=6,t.next=9,window.EcPerson.getByPk(i,window.EcIdentityManager.default.ids[0].ppk.toPk());case 9:r=t.sent,null!=r&&(window.EcIdentityManager.default.ids[0].displayName=r.getName()),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](6),window.EcIdentityManager.default.ids[0].displayName="Unknown Person";case 16:if(null==n.ssoAdditionalPublicKeys){t.next=36;break}o=0;case 18:if(!(o<n.ssoAdditionalPublicKeys.length)){t.next=36;break}return a=window.EcPpkFacade.fromPem(n.ssoAdditionalPublicKeys[o]),s=new window.EcIdentity,t.prev=21,t.next=24,window.EcPerson.getByPk(i,a.toPk());case 24:c=t.sent,null!=c&&(s.displayName=c.getName()),t.next=31;break;case 28:t.prev=28,t.t1=t["catch"](21),s.displayName="Unknown Person";case 31:s.ppk=a,window.EcIdentityManager.default.addIdentity(s);case 33:o++,t.next=18;break;case 36:case"end":return t.stop()}}),t,null,[[6,13],[21,28]])})));return function(e){return t.apply(this,arguments)}}()),window.repo=i,this.repo=i;try{window.addEventListener("message",this.cappend,!1)}catch(g){appError(g)}if(this.openWebSocket(i),window.addEventListener?window.addEventListener("message",this.messageListener,!1):window.attachEvent("onmessage",this.messageListener),this.loadIdentity((function(){r.queryParams&&(r.queryParams.frameworkId&&(!0===r.$store.getters["editor/conceptMode"]?EcConceptScheme.get(r.queryParams.frameworkId,(function(e){r.$store.commit("editor/framework",e),r.$store.commit("editor/clearFrameworkCommentData"),r.$store.commit("app/setCanViewComments",r.canViewCommentsCurrentFramework()),r.$store.commit("app/setCanAddComments",r.canAddCommentsCurrentFramework()),r.$router.push({name:"conceptScheme",params:{frameworkId:r.queryParams.frameworkId}})}),appError):!0===r.$store.getters["editor/progressionMode"]?EcConceptScheme.get(r.queryParams.frameworkId,(function(e){r.$store.commit("editor/framework",e),r.$store.commit("editor/clearFrameworkCommentData"),r.$store.commit("app/setCanViewComments",r.canViewCommentsCurrentFramework()),r.$store.commit("app/setCanAddComments",r.canAddCommentsCurrentFramework()),r.$router.push({name:"progressionModel",params:{frameworkId:r.queryParams.frameworkId}})}),appError):EcFramework.get(r.queryParams.frameworkId,(function(e){r.$store.commit("editor/framework",e),r.$store.commit("editor/clearFrameworkCommentData"),r.$store.commit("app/setCanViewComments",r.canViewCommentsCurrentFramework()),r.$store.commit("app/setCanAddComments",r.canAddCommentsCurrentFramework()),r.$router.push({name:"framework",params:{frameworkId:r.queryParams.frameworkId}})}),appError)),r.queryParams.directoryId&&EcDirectory.get(r.queryParams.directoryId,(function(e){r.$store.commit("app/selectDirectory",e),r.$router.push({name:"directory"})}),appError),"import"===r.queryParams.action&&r.$router.push({name:"import"}),"add"===r.queryParams.action&&r.createNew(),"true"!==r.queryParams.ceasnDataFields&&"true"!==r.queryParams.frameworksPage||r.queryParams.action||r.queryParams.frameworkId||("true"===r.queryParams.collections?(r.$store.commit("editor/collectionMode",!0),r.$router.push({name:"collections"})):!0===r.$store.getters["editor/conceptMode"]?r.$router.push({name:"concepts"}):!0===r.$store.getters["editor/progressionMode"]?r.$router.push({name:"progressionLevels"}):"frameworks"!==r.$route.name&&"concepts"!==r.$route.name&&"progressionLevels"!==r.$route.name&&r.$router.push({name:"frameworks"})))})),parent!==window){for(var c=document.getElementsByTagName("head")[0],u=parent.document.getElementsByTagName("*"),d=0;d<u.length;d++)"link"!==u[d].tagName.toLowerCase()&&"style"!==u[d].tagName.toLowerCase()||null!=u[d].attributes.inherit&&c.appendChild(u[d].cloneNode(!0));try{this.importParentStyles()}catch(g){}}if(null!=this.queryParams.css){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=this.queryParams.css,document.getElementsByTagName("head")[0].appendChild(l)}for(var p=["https://schema.cassproject.org/0.4","https://schema.cassproject.org/0.4/Directory","https://schema.cassproject.org/0.4/","https://schema.cassproject.org/0.4/Directory/","https://schema.cassproject.org/0.4/skos/ConceptScheme/","https://schema.cassproject.org/0.4/skos/","https://schema.cassproject.org/0.4/Framework/","https://schema.cassproject.org/0.4/skos/ConceptScheme","https://schema.cassproject.org/0.4/skos/Concept","https://schema.cassproject.org/0.4/skos","https://schema.cassproject.org/0.4/Framework","https://schema.cassproject.org/0.4/Competency","https://schema.cassproject.org/0.4/skos/Concept/","https://schema.cassproject.org/0.4/Competency/"],m=function(){var t=h[f];if(void 0===e.$store.state.lode.schemata[t]&&-1===t.indexOf("EncryptedValue")){var n=t.indexOf("schema.cassproject.org"),o=t;-1!==n&&(o=o.substring(n),o=window.location.origin+window.location.pathname+o+"/index.json-ld"),EcRemote.getExpectingObject("",o,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.$store.commit("lode/rawSchemata",{id:t,obj:n}),e.prev=1,e.next=4,jsonld.expand(n);case 4:o=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),appError(e.t0);case 10:r.$store.dispatch("lode/schemata",{id:t,obj:o});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),(function(){}))}},f=0,h=p;f<h.length;f++)m();EcRemote.getExpectingString(window.repo.selectedServer,"badge/pk",(function(t){e.$store.commit("editor/setBadgePk",EcPk.fromPem(t))}),appError),setTimeout((function(){null==e.linkedPerson&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0&&r.findLinkedPersonForIdentity()}),1e3)},onSidebarEvent:function(){this.showSideNav=!this.showSideNav},findLinkedPersonForIdentity:function(){appLog("Finding linked person for identity..."),window.EcPerson.getByPk(window.repo,window.EcIdentityManager.default.ids[0].ppk.toPk(),this.findLinkedPersonPersonSearchSuccess,this.findLinkedPersonPersonSearchFailure)},findLinkedPersonPersonSearchSuccess:function(e){EcArray.isArray(e)||(e=[e]),appLog("Linked person person search success: "),appLog(e);var t,n=!1,r=Object(i["a"])(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=new EcPerson;a.copyFrom(o),a.getGuid().equals(EcIdentityManager.default.ids[0].ppk.toPk().fingerprint())&&(n=!0,this.$store.commit("user/loggedOnPerson",a),this.linkedPerson=a,appLog("Matching person record found: "),appLog(a))}}catch(s){r.e(s)}finally{r.f()}n&&this.addGroupIdentities()},findLinkedPersonPersonSearchFailure:function(e){appLog("Linked person person search failure: "+e)},searchRepositoryForGroupsSuccess:function(e){var t=this.linkedPerson.shortId();if(e&&e.length>0){var n,r=Object(i["a"])(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.employee&&o.employee.length>0){var a,s=Object(i["a"])(o.employee);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.equals(t)){this.addGroupIdentity(o);break}}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}"frameworks"!==this.$route.name&&"concepts"!==this.$route.name&&"progressionLevels"!==this.$route.name||(this.$store.dispatch("app/refreshDirectories"),this.$store.commit("app/refreshSearch",!0))}},searchRepositoryForGroupsFailure:function(e){appLog("Group search failure: "+e)},addGroupIdentities:function(){appLog("Finding assigned groups...");var e={};e.size=this.GROUP_SEARCH_SIZE,EcOrganization.search(window.repo,"",this.searchRepositoryForGroupsSuccess,this.searchRepositoryForGroupsFailure,e)},addGroupIdentity:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getOrgKeys();case 3:for(n=e.sent,appLog("Adding group identities: ("+t.shortId()+") - "+t.getName()+" - ("+n.length+") keys"),r=0;r<n.length;r++)o=n[r],a=new EcIdentity,a.displayName=t.getName()+" - key["+r+"]",a.ppk=o,EcIdentityManager.default.addIdentityQuietly(a);e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}(),saveDirectory:function(e){var t=this,n=new EcDirectory;n.name=e,n.generateId(window.repo.selectedServer),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),n.save((function(e){appLog("Directory saved: "+n.id),t.$store.commit("app/closeModal"),t.$store.dispatch("app/refreshDirectories"),t.addAnotherDirectory?(t.addAnotherDirectory=!1,t.$nextTick((function(){t.$store.commit("app/showModal",{component:"AddDirectory"})}))):t.selectDirectory(n)}),appError,window.repo)},saveDirectoryAndAddAnother:function(e){this.addAnotherDirectory=!0,this.saveDirectory(e)},selectDirectory:function(e){this.$store.commit("app/selectDirectory",e),this.$store.commit("app/rightAsideObject",e),"directory"!==this.$router.currentRoute.name&&this.$router.push({name:"directory"})},cappend:function(e){if("selected"===e.data.message){for(var t=[],n=0;n<e.data.selected.length;n++)e.data.selected[n]["ceasn:exactAlignment"]?t.push(e.data.selected[n]["ceasn:exactAlignment"]):e.data.selected[n]["@id"]?t.push(e.data.selected[n]["@id"]):t.push(e.data.selected[n]);appLog("I got "+e.data.selected.length+" selected items from the iframe"),appLog(e.data.selected)}else if("back"===e.data.message)this.$router.push({name:"framework",params:{frameworkId:this.$store.state.editor.framework.id}});else if("highlightedCompetencies"===e.data.message){if(!e.data.competencies)return;this.queryParams.highlightCompetency=e.data.competencies}else"select"===e.data.message&&"framework"===this.$route.name&&this.queryParams.select&&this.select()},openWebSocket:function(e){var t,n=this;t=null==this.queryParams.webSocketOverride||void 0===this.queryParams.webSocketOverride?new WebSocket(e.selectedServer.replace(/http/,"ws").replace(/api\//,"ws/custom")):new WebSocket(this.queryParams.webSocketOverride),t.onopen=function(){appLog("WebSocket open.")},t.onerror=function(e){appLog(e)},t.onclose=function(t){appLog(t),n.$store.commit("editor/webSocketBackoffIncrease"),setTimeout((function(){n.openWebSocket(e)}),n.$store.state.editor.webSocketBackoff)},t.changedObject=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.$store.commit("editor/changedObject",t.shortId()),"Assertion"!==t.type){e.next=9;break}return e.next=4,EcAssertion.get(t.shortId());case 4:return r=e.sent,e.next=7,r.getAssertionDate();case 7:r.assertionDateDecrypted=e.sent,n.$store.commit("editor/addAssertion",r);case 9:if("framework"===n.$route.name||"conceptScheme"===n.$route.name||"progressionModel"===n.$route.name){e.next=11;break}return e.abrupt("return");case 11:if(o=n.$store.state.editor.framework,!(new ConceptScheme).isA(t.getFullType())&&"ConceptScheme"!==t["encryptedType"]){e.next=27;break}if(null==o){e.next=27;break}if(o.shortId()!==t.shortId()){e.next=27;break}if(a=new ConceptScheme,"ConceptScheme"!==t["encryptedType"]){e.next=24;break}return e.t0=a,e.next=20,EcEncryptedValue.fromEncryptedValue(t);case 20:e.t1=e.sent,e.t0.copyFrom.call(e.t0,e.t1),e.next=25;break;case 24:a.copyFrom(t);case 25:n.$store.commit("editor/framework",a),n.spitEvent("frameworkChanged",a.shortId());case 27:if(!(new EcFramework).isA(t.getFullType())&&"Framework"!==t["encryptedType"]){e.next=42;break}if(null==o){e.next=42;break}if(o.shortId()!==t.shortId()){e.next=42;break}if(a=new EcFramework,"Framework"!==t["encryptedType"]){e.next=39;break}return e.t2=a,e.next=35,EcEncryptedValue.fromEncryptedValue(t);case 35:e.t3=e.sent,e.t2.copyFrom.call(e.t2,e.t3),e.next=40;break;case 39:a.copyFrom(t);case 40:n.$store.commit("editor/framework",a),n.spitEvent("frameworkChanged",a.shortId());case 42:if(!(new Concept).isA(t.getFullType())&&"Concept"!==t["encryptedType"]){e.next=58;break}if(null==o){e.next=58;break}if(null==n.$store.state.editor.selectedCompetency){e.next=58;break}if(n.$store.state.editor.selectedCompetency.shortId()!==t.shortId()){e.next=57;break}if(i=new EcConcept,"Concept"!==t["encryptedType"]){e.next=55;break}return e.t4=i,e.next=51,EcEncryptedValue.fromEncryptedValue(t);case 51:e.t5=e.sent,e.t4.copyFrom.call(e.t4,e.t5),e.next=56;break;case 55:i.copyFrom(t);case 56:n.$store.commit("editor/selectedCompetency",i);case 57:n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId());case 58:if(!(new EcCompetency).isA(t.getFullType())&&"Competency"!==t["encryptedType"]){e.next=74;break}if(null==o){e.next=74;break}if(null==n.$store.state.editor.selectedCompetency){e.next=74;break}if(n.$store.state.editor.selectedCompetency.shortId()!==t.shortId()){e.next=73;break}if(i=new EcCompetency,"Competency"!==t["encryptedType"]){e.next=71;break}return e.t6=i,e.next=67,EcEncryptedValue.fromEncryptedValue(t);case 67:e.t7=e.sent,e.t6.copyFrom.call(e.t6,e.t7),e.next=72;break;case 71:i.copyFrom(t);case 72:n.$store.commit("editor/selectedCompetency",i);case 73:n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId());case 74:if(!(new EcLevel).isA(t.getFullType())&&"Level"!==t["encryptedType"]){e.next=90;break}if(null==o){e.next=90;break}if(null==n.$store.state.editor.selectedCompetency){e.next=90;break}if(n.$store.state.editor.selectedCompetency.shortId()!==t.shortId()){e.next=89;break}if(i=new EcLevel,"Level"!==t["encryptedType"]){e.next=87;break}return e.t8=i,e.next=83,EcEncryptedValue.fromEncryptedValue(t);case 83:e.t9=e.sent,e.t8.copyFrom.call(e.t8,e.t9),e.next=88;break;case 87:i.copyFrom(t);case 88:n.$store.commit("editor/selectedCompetency",i);case 89:n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId());case 90:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onmessage=function(e){var r=e.data;if(appLog("Server: "+r),!EcArray.isArray(r)&&r.startsWith("[")&&(r=JSON.parse(r)),EcArray.isArray(r)){for(var o=0;o<r.length;o++)delete EcRepository.cache[r[o]],delete EcRepository.cache[EcRemoteLinkedData.trimVersionFromUrl(r[o])];if(null==n.$store.state.editor.framework)return;n.repo.precache(r,(function(){for(var e=0;e<r.length;e++)EcRepository.get(r[e],t.changedObject,appError)}))}else delete EcRepository.cache[r],delete EcRepository.cache[EcRemoteLinkedData.trimVersionFromUrl(r)],EcRepository.get(r,t.changedObject,appError)}},createNewFramework:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,this.$store.commit("editor/t3Profile",!1),this.setDefaultLanguage(),r=new EcFramework,null!=this.queryParams.newObjectEndpoint?r.generateShortId(this.queryParams.newObjectEndpoint):r.generateId(this.repo.selectedServer),r["schema:dateCreated"]=(new Date).toISOString(),r["schema:dateModified"]=(new Date).toISOString(),t&&(r.directory=t.shortId(),t.owner&&(r.owner=t.owner),t.reader&&(r.reader=t.reader)),EcIdentityManager.default.ids.length>0&&r.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.name={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Framework"},this.$store.commit("editor/newFramework",r.shortId()),"true"===this.queryParams.ceasnDataFields&&(r["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]),o=r,"true"!==this.queryParams.private){e.next=17;break}return e.next=16,EcEncryptedValue.toEncryptedValue(r);case 16:o=e.sent;case 17:this.repo.saveTo(o,(function(){n.$store.commit("editor/framework",r),"framework"!==n.$route.name&&n.$router.push({name:"framework"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createNewCollection:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.$store.commit("editor/t3Profile",!1),this.setDefaultLanguage(),n=new EcFramework,null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),n.name={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Collection"},this.$store.commit("editor/newFramework",n.shortId()),"true"===this.queryParams.ceasnDataFields&&(n["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]),n.subType="Collection",r=n,"true"!==this.queryParams.private){e.next=17;break}return e.next=16,EcEncryptedValue.toEncryptedValue(n);case 16:r=e.sent;case 17:this.repo.saveTo(r,(function(){t.$store.commit("editor/framework",n),"framework"!==t.$route.name&&t.$router.push({name:"framework"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createNewConceptScheme:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.setDefaultLanguage(),n=new EcConceptScheme,null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r="New Taxonomy","true"===this.queryParams.ceasnDataFields&&(r="New Concept Scheme"),n["dcterms:title"]={"@language":this.$store.state.editor.defaultLanguage,"@value":r},"true"===this.queryParams.ceasnDataFields&&(n["dcterms:language"]=[this.$store.state.editor.defaultLanguage]),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),this.$store.commit("editor/newFramework",n.shortId()),o=n,"true"!==this.queryParams.private){e.next=17;break}return e.next=16,EcEncryptedValue.toEncryptedValue(n);case 16:o=e.sent;case 17:this.repo.saveTo(o,(function(){t.$store.commit("editor/framework",n),"conceptScheme"!==t.$route.name&&t.$router.push({name:"conceptScheme"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createNewProgressionModel:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.setDefaultLanguage(),n=new EcConceptScheme,null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r="New Progression Model",n["dcterms:title"]={"@language":this.$store.state.editor.defaultLanguage,"@value":r},"true"===this.queryParams.ceasnDataFields&&(n["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),this.$store.commit("editor/newFramework",n.shortId()),o=n,"true"!==this.queryParams.private){e.next=16;break}return e.next=15,EcEncryptedValue.toEncryptedValue(n);case 15:o=e.sent;case 16:n.subType="Progression",this.repo.saveTo(o,(function(){t.$store.commit("editor/framework",n),"progressionModel"!==t.$route.name&&t.$router.push({name:"progressionModel"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createNew:function(){this.setDefaultLanguage();var e=this;!0===e.$store.getters["editor/conceptMode"]?this.createNewConceptScheme():!0===e.$store.getters["editor/progressionMode"]?this.createNewProgressionModel():this.createNewFramework()},loadIdentity:function(e){var t;if("self"===this.queryParams.user)EcIdentityManager.default.readIdentities(),EcIdentityManager.default.readContacts(),0===EcIdentityManager.default.ids.length?EcPpk.generateKeyAsync((function(n){t=new EcIdentity,t.ppk=n,t.displayName="You",EcIdentityManager.default.onIdentityChanged=EcIdentityManager.default.saveIdentities,EcIdentityManager.default.addIdentity(t),e()})):e();else if("wait"===this.queryParams.user&&this.inIframe()){var n=this,r=function(r){var o=r.data;if(null==o||""===o||EcObject.isObject(o)||(o=JSON.parse(o)),"identity"===o.action){t=new EcIdentity,t.ppk=EcPpk.fromPem(o.identity),t.displayName="You",EcIdentityManager.default.addIdentity(t),e();var a={action:"response",message:"identityOk"};appLog(a),parent.postMessage(a,n.queryParams.origin)}};window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r);var o={message:"waiting"};appLog(o),parent.postMessage(o,this.queryParams.origin)}else e()},messageListener:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,s,c,u,d,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,r=this,null!=n&&""!==n&&!EcObject.isObject(n))try{n=JSON.parse(n)}catch(m){}if(null==n||""===n){e.next=32;break}if("template"!==n.action){e.next=15;break}null!=n.framework&&(EcFramework.template=this.removeNewlines(n.framework)),null!=n.competency&&(EcCompetency.template=this.removeNewlines(n.competency)),null!=n.conceptScheme&&(EcConceptScheme.template=this.removeNewlines(n.conceptScheme)),null!=n.concept&&(EcConcept.template=this.removeNewlines(n.concept)),null!=n.directory&&(EcDirectory.template=this.removeNewlines(n.directory)),o={action:"response",message:"templateOk"},appLog(o),parent.postMessage(o,this.queryParams.origin),e.next=32;break;case 15:if("set"!==n.action){e.next=31;break}if(null==n.id){e.next=20;break}return e.next=19,EcRepository.get(n.id);case 19:a=e.sent;case 20:for(i in delete n.id,delete n.action,n)a[i]=n[i];if(a["schema:dateModified"]=(new Date).toISOString(),!0!==r.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[a.id]){e.next=28;break}return e.next=27,EcEncryptedValue.toEncryptedValue(a);case 27:a=e.sent;case 28:repo.saveTo(a,(function(e){var t={action:"response",message:"setOk"};appLog(t),parent.postMessage(t,r.queryParams.origin)}),(function(e){var t={action:"response",message:"setFail"};appLog(t),parent.postMessage(t,r.queryParams.origin)})),e.next=32;break;case 31:"export"===n.action&&(s=n.schema,l=this.$store.state.editor.framework,null!=this.$store.state.editor.selectedCompetency?(p=this.$store.state.editor.selectedCompetency,!1===EcRepository.shouldTryUrl(p.id)&&-1===p.id.indexOf(this.repo.selectedServer)?(c=this.repo.selectedServer+"data/"+EcCrypto.md5(p.shortId()),u=this.repo.selectedServer+"data/"+EcCrypto.md5(l.shortId()),d=EcCrypto.md5(p.shortId())):(c=p.id,u=l.id,d=p.getGuid())):!1===EcRepository.shouldTryUrl(l.id)&&-1===l.id.indexOf(this.repo.selectedServer)?(c=this.repo.selectedServer+"data/"+EcCrypto.md5(l.shortId()),u=this.repo.selectedServer+"data/"+EcCrypto.md5(l.shortId()),d=EcCrypto.md5(l.shortId())):(c=l.id,u=l.id,d=l.getGuid()),"asn"===s?this.get(u.replace("/data/","/asn/"),null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"asn",format:"rdf+xml",data:t},r.queryParams.origin)})):"cass"===s?this.get(c,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/ld+json",data:t},r.queryParams.origin)})):"cassn4"===s?this.get(c,null,{Accept:"text/n4"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"text/n4",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):"cassrdfxml"===s?this.get(c,null,{Accept:"application/rdf+xml"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/rdf+xml",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):"cassturtle"===s?this.get(c,null,{Accept:"text/turtle"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"text/turtle",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):"ceasn"===s||"ctdlasn"===s?this.get(u.replace("/data/","/ceasn/"),null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:s,format:"application/ld+json",data:t},r.queryParams.origin)})):"case"===s&&(null==p?this.get(this.repo.selectedServer+"ims/case/v1p0/CFDocuments/"+d,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"case",format:"application/json",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):this.get(this.repo.selectedServer+"ims/case/v1p0/CFItems/"+d,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"case",format:"application/json",data:t},r.queryParams.origin)}),(function(e){appLog(e)}))));case 32:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeNewlines:function(e){if(null!=e["owner"])for(var t=0;t<e["owner"].length;t++){var n=e["owner"][t];e["owner"][t]=EcPk.fromPem(n).toPem()}if(null!=e["reader"])for(t=0;t<e["reader"].length;t++){n=e["reader"][t];e["reader"][t]=EcPk.fromPem(n).toPem()}if(null!=e["@owner"])for(t=0;t<e["@owner"].length;t++){n=e["@owner"][t];e["@owner"][t]=EcPk.fromPem(n).toPem()}if(null!=e["@reader"])for(t=0;t<e["@reader"].length;t++){n=e["@reader"][t];e["@reader"][t]=EcPk.fromPem(n).toPem()}return e},attachUrlProperties:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.$store.state.editor.framework,null!=this.$store.state.editor.selectedCompetency&&(n=this.$store.state.editor.selectedCompetency),r=0;case 3:if(!(r<t.length)){e.next=11;break}return e.next=6,EcRepository.get(t[r]);case 6:o=e.sent,o.isAny((new EcConcept).getTypes())&&(EcArray.isArray(n[this.$store.state.editor.selectCompetencyRelation])||(n[this.$store.state.editor.selectCompetencyRelation]=[]),EcArray.setAdd(n[this.$store.state.editor.selectCompetencyRelation],o.shortId()));case 8:r++,e.next=3;break;case 11:if(n["schema:dateModified"]=(new Date).toISOString(),!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[n.id]){e.next=16;break}return e.next=15,EcEncryptedValue.toEncryptedValue(n);case 15:n=e.sent;case 16:this.repo.saveTo(n,(function(){}),appError);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),copyOrLink:function(e,t){"Copy"===e?this.copyCompetencies(t):this.appendCompetencies(t,!0)},copyCompetencies:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,s,c,u,d,l,p,m,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={},r=this.$store.state.editor.framework,o=this,a=0;case 4:if(!(a<t.length)){e.next=46;break}return e.next=7,EcRepository.get(t[a]);case 7:if(i=e.sent,null==i||!i.isAny((new EcCompetency).getTypes())){e.next=28;break}if(s=new EcCompetency,s.copyFrom(i),null!=this.queryParams.newObjectEndpoint?s.generateShortId(this.queryParams.newObjectEndpoint):s.generateId(this.repo.selectedServer),s["schema:dateCreated"]=(new Date).toISOString(),s["schema:dateModified"]=(new Date).toISOString(),delete s.owner,EcIdentityManager.default.ids.length>0&&s.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(c=0;c<r.owner.length;c++)u=r.owner[c],s.addOwner(EcPk.fromPem(u));if(r.reader&&r.reader.length>0)for(c=0;c<r.reader.length;c++)d=r.reader[c],s.addReader(EcPk.fromPem(d));if(s["ceasn:derivedFrom"]=i.id,n[s["ceasn:derivedFrom"]]=s,!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[s.id]){e.next=24;break}return e.next=23,EcEncryptedValue.toEncryptedValue(s);case 23:s=e.sent;case 24:this.itemsSaving++,function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){r.addCompetency(e.id),o.$store.commit("editor/framework",r),o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))}(s),e.next=43;break;case 28:if(null==i||!i.isAny((new EcLevel).getTypes())){e.next=43;break}if(l=new EcLevel,l.copyFrom(i),null!=this.queryParams.newObjectEndpoint?l.generateShortId(this.queryParams.newObjectEndpoint):l.generateId(this.repo.selectedServer),l["schema:dateCreated"]=(new Date).toISOString(),l.competency=this.$store.state.editor.selectedCompetency.shortId(),delete l.owner,l["ceasn:derivedFrom"]=i.id,n[l["ceasn:derivedFrom"]]=l,!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[l.id]){e.next=41;break}return e.next=40,EcEncryptedValue.toEncryptedValue(l);case 40:l=e.sent;case 41:this.itemsSaving++,function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){r.addLevel(e.id),o.$store.commit("editor/framework",r),o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))}(l);case 43:a++,e.next=4;break;case 46:a=0;case 47:if(!(a<t.length)){e.next=77;break}return e.next=50,EcRepository.get(t[a]);case 50:if(i=e.sent,null==i||!i.isAny((new EcAlignment).getTypes())){e.next=74;break}if(p=n[i.target],m=n[i.source],"undefined"===typeof p||"undefined"===typeof m){e.next=74;break}if(f=new EcAlignment,f.copyFrom(i),null!=this.queryParams.newObjectEndpoint?f.generateShortId(this.queryParams.newObjectEndpoint):f.generateId(this.repo.selectedServer),f["schema:dateCreated"]=(new Date).toISOString(),f.target=p.shortId(),f.source=m.shortId(),f.relationType=i.relationType,EcIdentityManager.default.ids.length>0&&f.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(c=0;c<r.owner.length;c++)u=r.owner[c],f.addOwner(EcPk.fromPem(u));if(r.reader&&r.reader.length>0)for(c=0;c<r.reader.length;c++)d=r.reader[c],f.addReader(EcPk.fromPem(d));if(f.source===f.target){e.next=74;break}if(r["schema:dateModified"]=(new Date).toISOString(),EcArray.setRemove(t,i.source),!0!==this.$store.state.editor.private){e.next=72;break}return e.next=71,EcEncryptedValue.toEncryptedValue(f);case 71:f=e.sent;case 72:this.itemsSaving++,function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){r.addRelation(e.id),o.$store.commit("editor/framework",r),o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))}(f);case 74:a++,e.next=47;break;case 77:h=this.$store.state.editor.selectedCompetency,a=0;case 79:if(!(a<t.length)){e.next=107;break}return e.next=82,EcRepository.get(t[a]);case 82:if(i=e.sent,null==i||!i.isAny((new EcCompetency).getTypes())){e.next=104;break}if(null==h){e.next=104;break}if(f=new EcAlignment,null!=this.queryParams.newObjectEndpoint?f.generateShortId(this.queryParams.newObjectEndpoint):f.generateId(this.repo.selectedServer),f["schema:dateCreated"]=(new Date).toISOString(),m=n[i.id],f.target=h.shortId(),f.source=m.shortId(),f.relationType=Relation.NARROWS,EcIdentityManager.default.ids.length>0&&f.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(c=0;c<r.owner.length;c++)u=r.owner[c],f.addOwner(EcPk.fromPem(u));if(r.reader&&r.reader.length>0)for(c=0;c<r.reader.length;c++)d=r.reader[c],f.addReader(EcPk.fromPem(d));if(f.source===f.target){e.next=104;break}if(this.itemsSaving++,r.addRelation(f.id),r["schema:dateModified"]=(new Date).toISOString(),!0!==this.$store.state.editor.private){e.next=103;break}return e.next=102,EcEncryptedValue.toEncryptedValue(f);case 102:f=e.sent;case 103:(function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))})(f);case 104:a++,e.next=79;break;case 107:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),afterCopy:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.itemsSaving--,0!==this.itemsSaving){e.next=8;break}if(t=this.$store.state.editor.framework,!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[t.id]){e.next=7;break}return e.next=6,EcEncryptedValue.toEncryptedValue(t);case 6:t=e.sent;case 7:this.repo.saveTo(t,(function(){}),appError);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),appendCompetencies:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u,d,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.$store.state.editor.selectedCompetency,o=this.$store.state.editor.framework,a=this,i=0;case 4:if(!(i<t.length)){e.next=12;break}return e.next=7,EcRepository.get(t[i]);case 7:c=e.sent,c.isAny((new EcCompetency).getTypes())?o.addCompetency(c.shortId()):c.isAny((new EcLevel).getTypes())&&(o.addLevel(c.shortId()),EcArray.isArray(c.competency)||(c.competency=[c.competency]),c.competency.push(r.shortId()),this.repo.saveTo(c,(function(){}),appError));case 9:i++,e.next=4;break;case 12:i=0;case 13:if(!(i<t.length)){e.next=21;break}return e.next=16,EcRepository.get(t[i]);case 16:c=e.sent,c.isAny((new EcAlignment).getTypes())&&EcArray.has(o.competency,c.source)&&EcArray.has(o.competency,c.target)&&(o.addRelation(c.shortId()),EcArray.setRemove(t,c.source));case 18:i++,e.next=13;break;case 21:i=0;case 22:if(!(i<t.length)){e.next=47;break}return e.next=25,EcRepository.get(t[i]);case 25:if(c=e.sent,!c.isAny((new EcCompetency).getTypes())){e.next=44;break}if(null==r){e.next=44;break}if(u=new EcAlignment,null!=this.queryParams.newObjectEndpoint?u.generateShortId(this.queryParams.newObjectEndpoint):u.generateId(this.repo.selectedServer),u["schema:dateCreated"]=(new Date).toISOString(),u.target=r.shortId(),u.source=c.shortId(),u.relationType=Relation.NARROWS,EcIdentityManager.default.ids.length>0&&u.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),o.owner&&o.owner.length>0)for(d=0;d<o.owner.length;d++)l=o.owner[d],u.addOwner(EcPk.fromPem(l));if(o.reader&&o.reader.length>0)for(d=0;d<o.reader.length;d++)p=o.reader[d],u.addReader(EcPk.fromPem(p));if(u.source===u.target){e.next=44;break}if(o.addRelation(u.id),!0!==this.$store.state.editor.private){e.next=43;break}return e.next=42,EcEncryptedValue.toEncryptedValue(u);case 42:u=e.sent;case 43:this.repo.saveTo(u,(function(){}),appError);case 44:i++,e.next=22;break;case 47:if(!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[o.id]){e.next=51;break}return e.next=50,EcEncryptedValue.toEncryptedValue(o);case 50:o=e.sent;case 51:this.repo.saveTo(o,Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=a.$store,e.next=3,EcFramework.get(o.id);case 3:e.t1=e.sent,e.t0.commit.call(e.t0,"editor/framework",e.t1);case 5:case"end":return e.stop()}}),e)}))),appError);case 52:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),importParentStyles:function(){for(var e=parent.document.styleSheets,t="",n=0,r=e.length;n<r;++n)if(e[n].cssRules&&null!=e[n].ownerNode.attributes.inherit)for(var o=e[n].cssRules,a=0,i=o.length;a<i;++a)t+=o[a].cssText;var s=document.createElement("style");s.type="text/css";try{s.innerHTML=t}catch(c){}document.getElementsByTagName("head")[0].appendChild(s)},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}}},computed:Object(a["a"])({bannerMessage:function(){return this.$store.getters["app/bannerMessage"]},bannerStyle:function(){return{color:this.$store.getters["app/bannerColor"],"background-color":this.$store.getters["app/bannerBackground"]}},editorClass:function(){return{"ceasn-editor":"true"===this.queryParams.ceasnDataFields,"has-banner":this.$store.getters["app/bannerMessage"]}},showRightAside:function(){return this.$store.getters["app/showRightAside"]},showSideNav:function(){return this.$store.getters["app/showSideNav"]},currentRoute:function(){return this.$route.path},isLoggedIn:function(){return!(!this.loggedInPerson||this.loggedInPerson&&!this.loggedInPerson.name)},currentPathIsLogin:function(){return"login"===this.$route.name}},Object(c["c"])({loggedInPerson:function(e){return e.user.loggedOnPerson},queryParams:function(e){return e.editor.queryParams}})),mounted:function(){},watch:{currentRoute:function(e){this.isLoggedIn||"/users"!==e||this.$router.push({path:"/"})},$route:function(e,t){this.$store.commit("app/closeRightAside"),this.$store.commit("app/closeModal");var n=e;n&&(this.navBarActive=!1),t.name||this.initializeApp(),"concepts"===e.name&&(this.$store.commit("editor/conceptMode",!0),this.$store.commit("editor/progressionMode",!1)),"progressionLevels"===e.name&&(this.$store.commit("editor/progressionMode",!0),this.$store.commit("editor/conceptMode",!1)),"frameworks"===e.name&&(this.$store.commit("editor/conceptMode",!1),this.$store.commit("editor/progressionMode",!1))},loggedInPerson:function(){this.$store.commit("editor/setMe",EcIdentityManager.default.ids[0].ppk.toPk().toPem()),this.$store.commit("editor/setSubject",EcIdentityManager.default.ids[0].ppk.toPk().toPem()),this.$store.commit("editor/setManageAssertions",!1)}}},k=w,b=(n("5c0b"),Object(f["a"])(k,r,o,!1,null,null,null));t["a"]=b.exports},4:function(e,t){},"41cb":function(e,t,n){"use strict";n("d3b7");var r=n("2b0e"),o=n("8c4f");r["a"].use(o["a"]),t["a"]=new o["a"]({base:"",scrollBehavior:function(e,t,n){if(e.hash)return{selector:e.hash,offset:{x:0,y:-100}}},routes:[{path:"/",name:"welcome",components:{default:function(){return n.e("welcome").then(n.bind(null,"eec55"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}},alias:"/cass-editor/"},{path:"/frameworks",name:"frameworks",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/collections",name:"collections",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/concepts",name:"concepts",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/progressionLevels",name:"progressionLevels",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"ede4"))}},{path:"/legacyLogin",name:"legacyLogin",component:function(){return n.e("login").then(n.bind(null,"d492"))}},{path:"/createAccount",name:"createAccount",component:function(){return n.e("login").then(n.bind(null,"50b5"))}},{path:"/configuration",name:"configuration",components:{default:function(){return Promise.all([n.e("chunk-34aef0d0"),n.e("configurationEditor")]).then(n.bind(null,"7bcc"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/users",name:"users",components:{default:function(){return n.e("userGroupEditor").then(n.bind(null,"4a5b"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/pluginManager",name:"pluginManager",components:{default:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("pluginManager")]).then(n.bind(null,"55c5"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/crosswalk",name:"crosswalk",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-d5b1fd50"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("crosswalk")]).then(n.bind(null,"1cfb"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/timeline",name:"timeline",components:{default:function(){return n.e("timeline").then(n.bind(null,"3dd3"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/about",name:"about",components:{default:function(){return n.e("about").then(n.bind(null,"f820"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/framework",name:"framework",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("chunk-2d21ecda"),n.e("framework")]).then(n.bind(null,"2f26"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/import",name:"import",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-d5b1fd50"),n.e("chunk-2d0d5fe2"),n.e("chunk-06507814"),n.e("import")]).then(n.bind(null,"47e0"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/organizations",name:"organizations",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("organizations")]).then(n.bind(null,"4f42"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/organization",name:"organization",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("organization")]).then(n.bind(null,"5186"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/pluginContainer",name:"pluginContainer",components:{default:function(){return n.e("pluginContainer").then(n.bind(null,"bd3b"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/conceptScheme",name:"conceptScheme",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("conceptScheme")]).then(n.bind(null,"5889"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/progressionModel",name:"progressionModel",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("progressionModel")]).then(n.bind(null,"e3ce"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/403",name:"Forbidden",component:function(){return n.e("forbidden").then(n.bind(null,"dc82"))}},{path:"/500",name:"InternalError",component:function(){return n.e("internalError").then(n.bind(null,"7f18"))}},{path:"/directory",name:"directory",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-06507814"),n.e("directory~pluginManager~sidenav"),n.e("directory")]).then(n.bind(null,"1e7a"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}}]})},4360:function(e,t,n){"use strict";var r=n("2b0e"),o=n("2f62"),a=n("8596"),i=(n("a434"),n("b0c0"),n("d3b7"),n("ac1f"),n("841c"),n("2ca0"),n("96cf"),n("c964")),s=n("d0ff"),c=n("bc3a"),u=n.n(c);r["a"].use(o["a"]);var d=10,l=10,p=0,m=u.a.create({});m.interceptors.request.use((function(e){return new Promise((function(t,n){var r=setInterval((function(){p<d&&(p++,clearInterval(r),t(e))}),l)}))})),m.interceptors.response.use((function(e){return p=Math.max(0,p-1),Promise.resolve(e)}),(function(e){return p=Math.max(0,p-1),Promise.reject(e)}));var f={framework:null,organization:null,selectedCompetency:null,queryParams:{},defaultLanguage:null,webSocketBackoff:100,selectCompetencyRelation:null,selectingCompetencies:!1,private:!1,newCompetency:null,newFramework:null,t3Profile:!1,changedObject:null,configuration:null,commonPathIframe:"",iframeCompetencyPathInterframework:"",iframeConceptPath:"",addCommentAboutId:"",addCommentType:"",commentToEdit:{},commentToReply:{},frameworkCommentDataLoaded:!1,frameworkCommentList:[],frameworkCommentPersonMap:{},commentsToDelete:[],commentScrollTo:{},editsToUndo:[],lastEditToUndo:null,recomputeHierarchy:!1,selectedCompetenciesAsProperties:null,refreshLevels:!1,refreshAlignments:!1,conceptMode:!1,collectionMode:!1,progressionMode:!1,cutId:null,copyId:null,paste:!1,cutOrCopyContainerId:null,nodeInFocus:null,relations:{},setPropertyLevel:null,addAnother:!1,itemToDelete:{},itemToRemove:{},itemToExport:{},manageAssertions:!1,assertions:[],badgePk:null,me:null,subject:null,people:[],firstSearchProcessing:!0,searchingAssertions:!1},h={framework:function(e,t){e.framework=t},organization:function(e,t){e.organization=t},selectedCompetency:function(e,t){e.selectedCompetency=t},queryParams:function(e,t){e.queryParams=t},defaultLanguage:function(e,t){e.defaultLanguage=t},webSocketBackoffIncrease:function(e){e.webSocketBackoff*=2},private:function(e,t){e.private=t},selectCompetencyRelation:function(e,t){e.selectCompetencyRelation=t},selectingCompetencies:function(e,t){e.selectingCompetencies=t},newCompetency:function(e,t){e.newCompetency=t},newFramework:function(e,t){e.newFramework=t},t3Profile:function(e,t){e.t3Profile=t},changedObject:function(e,t){e.changedObject=t},configuration:function(e,t){e.configuration=t},commonPathIframe:function(e,t){e.commonPathIframe=t},iframeCompetencyPathInterframework:function(e,t){e.iframeCompetencyPathInterframework=t},iframeConceptPath:function(e,t){e.iframeConceptPath=t},setAddCommentAboutId:function(e,t){e.addCommentAboutId=t},setAddCommentType:function(e,t){e.addCommentType=t},setCommentToEdit:function(e,t){e.commentToEdit=t},setCommentToReply:function(e,t){e.commentToReply=t},setCommentsToDelete:function(e,t){e.commentsToDelete=t},clearFrameworkCommentData:function(e){e.frameworkCommentDataLoaded=!1,e.frameworkCommentList=[],e.frameworkCommentPersonMap={}},setFrameworkCommentDataLoaded:function(e,t){e.frameworkCommentDataLoaded=t},setFrameworkCommentList:function(e,t){e.frameworkCommentList=t},setFrameworkCommentPersonMap:function(e,t){e.frameworkCommentPersonMap=t},setCommentScrollTo:function(e,t){e.commentScrollTo=t},addEditsToUndo:function(e,t){e.editsToUndo.push(t)},setLastEditToUndo:function(e,t){e.lastEditToUndo=t},recomputeHierarchy:function(e,t){e.recomputeHierarchy=t},selectedCompetenciesAsProperties:function(e,t){e.selectedCompetenciesAsProperties=t},refreshLevels:function(e,t){e.refreshLevels=t},refreshAlignments:function(e,t){e.refreshAlignments=t},conceptMode:function(e,t){t?(e.conceptMode=!0,e.progressionMode=!1):e.conceptMode=!1},collectionMode:function(e,t){e.collectionMode=t},progressionMode:function(e,t){t?(e.progressionMode=!0,e.conceptMode=!1):e.progressionMode=!1},cutId:function(e,t){e.cutId=t},copyId:function(e,t){e.copyId=t},paste:function(e,t){e.paste=t},cutOrCopyContainerId:function(e,t){e.cutOrCopyContainerId=t},nodeInFocus:function(e,t){e.nodeInFocus=t},relations:function(e,t){e.relations=t},setPropertyLevel:function(e,t){e.setPropertyLevel=t},addAnother:function(e,t){e.addAnother=t},setItemToDelete:function(e,t){e.itemToDelete=t},setItemToRemove:function(e,t){e.itemToRemove=t},setItemToExport:function(e,t){e.itemToExport=t},setManageAssertions:function(e,t){e.manageAssertions=t},setAssertions:function(e,t){e.assertions=t},removeAssertion:function(e,t){EcArray.setRemove(e.assertions,t)},removeAssertionAtIndex:function(e,t){e.assertions.splice(t,1)},addAssertion:function(e,t){EcArray.setAdd(e.assertions,t)},setBadgePk:function(e,t){e.badgePk=t},setMe:function(e,t){e.me=t},setSubject:function(e,t){e.subject=t},setPeople:function(e,t){e.people=t},setFirstSearchProcessing:function(e,t){e.firstSearchProcessing=t},setSearchingAssertions:function(e,t){e.searchingAssertions=t}},g={getDirectoryChildren:function(e,t){var n=[];return t.frameworks&&n.push.apply(n,Object(s["a"])(t.frameworks)),t.resources&&n.push.apply(n,Object(s["a"])(t.resources)),t.directories&&n.push.apply(n,Object(s["a"])(t.directories)),n},lastEditToUndo:function(e){return e.commit("setLastEditToUndo",e.state.editsToUndo.pop()),e.state.lastEditToUndo},getThing:function(e,t){return new Promise((function(e,n){var r=EcRemote.urlAppend(t.server,t.service);r=EcRemote.upgradeHttpToHttps(r),m.get(r,{headers:t.headers}).then((function(n){t.success&&t.success(n.data),e(n.data)})).catch((function(e){t.failure&&t.failure(e),n(e)}))}))},searchForAssertions:function(e){return new Promise((function(t,n){e.state.searchingAssertions=!0;var r=[],o=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,c){EcAssertion.search(window.repo,'"'+e.state.me+'"',function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.push.apply(r,Object(s["a"])(i)),n+=a,!(i.length>0)){e.next=5;break}return e.next=5,o(n,a);case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c,{size:a,start:n})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();o(0,5e3).then((function(){var n=new EcAsyncHelper;n.each(r,(function(e,t){null!=e.assertionDateDecrypted?t():e.getAssertionDateAsync((function(n){e.assertionDateDecrypted=n,t()}),t)}),(function(n){e.state.assertions=n,e.state.searchingAssertions=!1,t()}))})).catch(appError)}))},computeBecause:function(e,t){return new Promise((function(e,n){var r=[];(new EcAsyncHelper).each(t,(function(e,t){var n="",o=e;if(null!=e.startsWith&&e.startsWith("{")&&(e=JSON.parse(e)),EcObject.isObject(e))null!=e.verb&&null!=e.verb.display&&null!=e.verb.display.en&&(n+=e.verb.display.en+" "),null!=e.object&&null!=e.object.definition&&"http://adlnet.gov/expapi/activities/assessment"===e.object.definition.type&&(n+='"'+e.object.definition.name.en+'" quiz with a ',null!=e.result&&null!=e.result.success&&(n+=e.result.success?" passing ":" not passing ",n+=Math.round(100*e.result.score.scaled)+"%")),null!=e.object&&null!=e.object.definition&&null!=e.object.definition.interactionType&&(n+='"'+e.object.definition.name.en+'" ',null!=e.result&&null!=e.result.success&&(n+=e.result.success?" correctly":" incorrectly")),""!==n&&r.push({text:n,original:o}),t();else if(null!=e.startsWith&&e.startsWith("http")){var a=function(){r.push({text:"did this",url:e,original:o})};EcRepository.get(e,(function(n){try{n.isAny((new ChooseAction).getTypes())?EcRepository.get(n.object,(function(e){r.push({text:"viewed "+e.name,url:e.url,original:o}),t()}),t):(a(),t())}catch(e){a(),t()}}),(function(e){a(),t()}))}else r.push({text:'"'+e+'"',original:o}),t()}),(function(t){e(r)}))}))}},y={framework:function(e){return e.framework},organization:function(e){return e.organization},selectedCompetency:function(e){return e.selectedCompetency},queryParams:function(e){return e.queryParams},defaultLanguage:function(e){return e.defaultLanguage},webSocketBackoff:function(e){return e.webSocketBackoff},selectCompetencyRelation:function(e){return e.selectCompetencyRelation},selectingCompetencies:function(e){return e.selectingCompetencies},private:function(e){return e.private},newCompetency:function(e){return e.newCompetency},newFramework:function(e){return e.newFramework},t3Profile:function(e){return e.t3Profile},changedObject:function(e){return e.changedObject},configuration:function(e){return e.configuration},addCommentAboutId:function(e){return e.addCommentAboutId},addCommentType:function(e){return e.addCommentType},commentToEdit:function(e){return e.commentToEdit},commentToReply:function(e){return e.commentToReply},commentsToDelete:function(e){return e.commentsToDelete},frameworkCommentDataLoaded:function(e){return e.frameworkCommentDataLoaded},frameworkCommentList:function(e){return e.frameworkCommentList},frameworkCommentPersonMap:function(e){return e.frameworkCommentPersonMap},commentScrollTo:function(e){return e.commentScrollTo},recomputeHierarchy:function(e){return e.recomputeHierarchy},selectedCompetenciesAsProperties:function(e){return e.selectedCompetenciesAsProperties},refreshLevels:function(e){return e.refreshLevels},refreshAlignments:function(e){return e.refreshAlignments},conceptMode:function(e){return e.conceptMode},collectionMode:function(e){return e.collectionMode},progressionMode:function(e){return e.progressionMode},cutId:function(e){return e.cutId},copyId:function(e){return e.copyId},paste:function(e){return e.paste},cutOrCopyContainerId:function(e){return e.cutOrCopyContainerId},nodeInFocus:function(e){return e.nodeInFocus},relations:function(e){return e.relations},setPropertyLevel:function(e){return e.setPropertyLevel},addAnother:function(e){return e.addAnother},itemToDelete:function(e){return e.itemToDelete},itemToRemove:function(e){return e.itemToRemove},itemToExport:function(e){return e.itemToExport},manageAssertions:function(e){return e.manageAssertions},assertions:function(e){return e.assertions.sort((function(e,t){return t.assertionDateDecrypted-e.assertionDateDecrypted}))},badgePk:function(e){return e.badgePk},getMe:function(e){return e.me},getSubject:function(e){return e.subject},people:function(e){return e.people},firstSearchProcessing:function(e){return e.firstSearchProcessing},searchingAssertions:function(e){return e.searchingAssertions}},w={namespaced:!0,state:f,mutations:h,actions:g,getters:y},k={sideNavEnabled:!0,showSideNav:!0,showRightAside:!1,rightAsideContent:"",rightAsideObject:null,canViewComments:!1,canAddComments:!1,pluginLastUpdate:null,pluginToLaunch:null,pluginToLaunchLastUpdate:0,framework:{showToolBar:!0,commentsEnabled:!0,versionsEnabled:!0,draggingEnabled:!1,isDragging:!1,draggable:{}},configuration:{contentSection:""},frameworks:{searchTerm:"",quickFilters:[],applySearchTo:[],sortResults:[],refreshSearch:!1,searchFrameworksInCompetencySearch:!1},modal:{framework:"",showModal:!1,dynamicModalContent:{},objForShareModal:null},directories:{directoryList:[],selectedDirectory:null,searchingInDirectory:!0,editDirectory:!1},import:{files:[],transition:"upload",status:"",type:"file",fileType:"",firstImport:Boolean,errors:[],feedback:"",framework:null,serverUrl:"",url:"",frameworkName:"",frameworkDescription:"",importCsv:{nameColumn:{},descriptionColumn:{},scopeColumn:{},idColumn:{},sourceColumn:{},relationColumn:{},targetColumn:{}},importText:"",csvColumns:[],csvRelationColumns:[],csvRelationFile:null,importModalParams:null},banner:{message:"",color:"",background:""},motd:{message:"",title:""},curatedPlugins:[{id:"vlrcTestPlugin3",url:"https://raw.githubusercontent.com/cassproject/cass-vlrc/master/"}]},b={showSideNav:function(){k.showSideNav=!0,k.showRightAside=!1},closeSideNav:function(){k.showSideNav=!1},showRightAside:function(e,t){e.showRightAside=!0,e.rightAsideContent=t},closeRightAside:function(e){e.showRightAside=!1,e.rightAsideContent="",e.rightAsideObject=null},rightAsideObject:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.encryptedType){e.next=11;break}return r="Ec"+n.encryptedType,o=new window[r],e.t0=o,e.next=6,EcEncryptedValue.fromEncryptedValue(n);case 6:e.t1=e.sent,e.t0.copyFrom.call(e.t0,e.t1),t.rightAsideObject=o,e.next=12;break;case 11:t.rightAsideObject=n;case 12:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),showModal:function(e,t){e.modal.showModal=!0,e.modal.dynamicModalContent=t},closeModal:function(e){e.modal.showModal=!1,e.modal.dynamicModalContent={}},objForShareModal:function(e,t){e.modal.objForShareModal=t},draggingEnabled:function(e,t){e.framework.draggingEnabled=t},isDragging:function(e,t){e.framework.isDragging=t},draggable:function(e,t){e.framework.draggable=t},importFiles:function(e,t){e.import.files=t},setCanViewComments:function(e,t){e.canViewComments=t},setCanAddComments:function(e,t){e.canAddComments=t},clearImportFiles:function(e){e.import.files=[]},pluginLastUpdate:function(e,t){e.pluginLastUpdate=t},pluginToLaunch:function(e,t){e.pluginToLaunch=t},pluginToLaunchLastUpdate:function(e,t){e.pluginToLaunchLastUpdate=t},resetImport:function(e){e.import={files:[],transition:"upload",status:"",type:"file",fileType:"",firstImport:Boolean,errors:[],feedback:"",framework:null,serverUrl:"",url:"",frameworkName:"",frameworkDescription:"",importCsv:{nameColumn:{},descriptionCcolumn:{},scopeColumn:{},idColumn:{},sourceColumn:{},relationColumn:{},targetColumn:{}},importText:"",csvColumns:[],csvRelationColumns:[],csvRelationFile:null,importModalParams:null}},importTransition:function(e,t){e.import.transition=t},importFileType:function(e,t){e.import.fileType=t},importType:function(e,t){e.import.type=t},firstImport:function(e,t){e.import.firstImport=t},addImportError:function(e,t){e.import.errors.push(t)},clearImportErrors:function(e){e.import.errors=[]},importStatus:function(e,t){e.import.status=t},importFeedback:function(e,t){e.import.feedback=t},importFramework:function(e,t){e.import.framework=t},importFrameworkName:function(e,t){e.import.frameworkName=t},importFrameworkNameColumn:function(e,t){e.import.frameworkNameColumn=t},importFrameworkScopeColumn:function(e,t){e.import.frameworkScopeColumn=t},importFrameworkIdColumn:function(e,t){e.import.frameworkIdColumn=t},importFrameworkDescription:function(e,t){e.import.frameworkDescription=t},importText:function(e,t){e.import.importText=t},importServerUrl:function(e,t){e.import.serverUrl=t},importUrl:function(e,t){e.import.url=t},importNameColumn:function(e,t){e.import.importCsv.nameColumn=t},importDescriptionColumn:function(e,t){e.import.importCsv.descriptionColumn=t},importScopeColumn:function(e,t){e.import.importCsv.scopeColumn=t},importSourceColumn:function(e,t){e.import.importCsv.sourceColumn=t},importTargetColumn:function(e,t){e.import.importCsv.targetColumn=t},importRelationColumn:function(e,t){e.import.importCsv.relationColumn=t},importIdColumn:function(e,t){e.import.importCsv.idColumn=t},csvColumns:function(e,t){e.import.csvColumns=t},csvRelationColumns:function(e,t){e.import.csvRelationColumns=t},csvRelationFile:function(e,t){e.import.csvRelationFile=t},importModalParams:function(e,t){e.import.importModalParams=t},searchTerm:function(e,t){e.frameworks.searchTerm=t},applySearchTo:function(e,t){e.frameworks.applySearchTo=t},refreshSearch:function(e,t){e.frameworks.refreshSearch=t},sortResults:function(e,t){e.frameworks.sortResults=t},quickFilters:function(e,t){e.frameworks.quickFilters=t},clearSearchFilters:function(e){for(var t=e.frameworks.quickFilters,n=e.frameworks.sortResults,r=e.frameworks.applySearchTo,o=0;o<t.length;o++)t[o].checked=!1;for(var a=0;a<n.length;a++)n[a].checked=!1;for(var i=0;i<r.length;i++)r[i].checked=!1;e.frameworks.quickFilters=t,e.frameworks.sortResults=n,e.frameworks.applySearchTo=r},selectDirectory:function(e,t){e.directories.selectedDirectory=t},directoryList:function(e,t){e.directories.directoryList=t},searchingInDirectory:function(e,t){e.directories.searchingInDirectory=t},editDirectory:function(e,t){e.directories.editDirectory=t},searchFrameworksInCompetencySearch:function(e,t){e.frameworks.searchFrameworksInCompetencySearch=t},setBanner:function(e,t){t.message&&(e.banner.message=t.message),t.color&&(e.banner.color=t.color),t.background&&(e.banner.background=t.background)},setMotd:function(e,t){t.message&&(e.motd.message=t.message),t.title&&(e.motd.title=t.title)},setCuratedPlugins:function(e,t){e.curatedPlugins=t}},v={clearImport:function(e){var t=e.commit;t("importFramework",null),t("clearImportFiles"),t("clearImportErrors"),t("importTransition","upload"),t("importStatus",""),t("importFeedback",""),t("importFileType","")},refreshDirectories:function(e){var t=e.commit,n=[],r=[],o={size:1e4};EcDirectory.search(window.repo,"",(function(e){for(var o=0;o<e.length;o++)e[o].canEditAny(EcIdentityManager.default.getMyPks())&&!EcArray.has(r,e[o].id)&&(n.push(e[o]),r.push(e[o].id));t("directoryList",n)}),appError,o)}},E={canViewComments:function(e){return e.canViewComments},canAddComments:function(e){return e.canAddComments},sideNavEnabled:function(e){return e.sideNavEnabled},showSideNav:function(e){return e.showSideNav},showRightAside:function(e){return e.showRightAside},rightAsideContent:function(e){return e.rightAsideContent},rightAsideObject:function(e){return e.rightAsideObject},framework:function(e){return e.framework},showModal:function(e){return e.modal.showModal},dynamicModalContent:function(e){return e.modal.dynamicModalContent},objForShareModal:function(e){return e.modal.objForShareModal},draggingEnabled:function(e){return e.modal.draggingEnabled},isDragging:function(e){return e.modal.isDragging},draggable:function(e){return e.framework.draggable},importFiles:function(e){return e.import.files},importTransition:function(e){return e.import.transition},importFileType:function(e){return e.import.fileType},importType:function(e){return e.import.type},firstImport:function(e){return e.import.firstImport},importErrors:function(e){return e.import.errors},importStatus:function(e){return e.import.status},importFeedback:function(e){return e.import.feedback},importFramework:function(e){return e.import.framework},importFrameworkName:function(e){return e.import.frameworkName},importFrameworkNameColumn:function(e){return e.import.frameworkNameColumn},importFrameworkScopeColumn:function(e){return e.import.frameworkScopeColumn},importFrameworkIdColumn:function(e){return e.import.frameworkIdColumn},importFrameworkDescription:function(e){return e.import.frameworkDescription},importText:function(e){return e.import.importText},importServerUrl:function(e){return e.import.serverUrl},importUrl:function(e){return e.import.url},importNameColumn:function(e){return e.import.importCsv.nameColumn},importDescriptionColumn:function(e){return e.import.importCsv.descriptionColumn},importScopeColumn:function(e){return e.import.importCsv.scopeColumn},importIdColumn:function(e){return e.import.importCsv.idColumn},importSourceColumn:function(e){return e.import.importCsv.sourceColumn},importRelationColumn:function(e){return e.import.importCsv.relationColumn},importTargetColumn:function(e){return e.import.importCsv.targetColumn},importModalParams:function(e){return e.import.importModalParams},searchTerm:function(e){return e.frameworks.searchTerm},sortResults:function(e){return e.frameworks.sortResults},quickFilters:function(e){return e.frameworks.quickFilters},applySearchTo:function(e){return e.frameworks.applySearchTo},refreshSearch:function(e){return e.frameworks.refreshSearch},csvColumns:function(e){return e.import.csvColumns},csvRelationColumns:function(e){return e.import.csvRelationColumns},csvRelationFile:function(e){return e.import.csvRelationFile},pluginLastUpdate:function(e){return e.pluginLastUpdate},pluginToLaunch:function(e){return e.pluginToLaunch},pluginToLaunchLastUpdate:function(e){return e.pluginToLaunchLastUpdate},selectedDirectory:function(e){return e.directories.selectedDirectory},directoryList:function(e){return e.directories.directoryList},searchingInDirectory:function(e){return e.directories.searchingInDirectory},editDirectory:function(e){return e.directories.editDirectory},searchFrameworksInCompetencySearch:function(e){return e.frameworks.searchFrameworksInCompetencySearch},bannerMessage:function(e){return e.banner.message},bannerColor:function(e){return e.banner.color},bannerBackground:function(e){return e.banner.background},motdTitle:function(e){return e.motd.title},motdMessage:function(e){return e.motd.message},curatedPlugins:function(e){return e.curatedPlugins}},C={namespaced:!0,state:k,mutations:b,actions:v,getters:E};r["a"].use(o["a"]);var S={loggedOnPerson:{},repoInit:{ssoLogin:null,ssoLogout:null},lastLogin:null},P={loggedOnPerson:function(e,t){e.loggedOnPerson=t,window.EcIdentityManager.default.ids.length>0?e.lastLogin=window.EcIdentityManager.default.ids[0].lastLogin:e.lastLogin=null},repositorySsoOptions:function(e,t){e.repoInit.ssoLogin=t.ssoLogin,e.repoInit.ssoLogout=t.ssoLogout}},M={},A={loggedOnPerson:function(e){return e.loggedOnPerson},repositorySsoOptions:function(e){return e.repoInit},lastLogin:function(e){return e.lastLogin}},T={namespaced:!0,state:S,mutations:P,actions:M,getters:A},I=(n("4de4"),n("caad"),n("b64b"),n("2532"),n("54f8"));r["a"].use(o["a"]);var x={step:0,frameworkSource:null,frameworkSourceRelationships:null,frameworkTarget:null,frameworkTargetRelationships:null,relevantExistingAlignmentsMap:null,relevantExistingAlignmentsMapLastUpdate:null,alignedCompetenciesList:[],workingAlignmentsMap:{source:"",targets:[],initialTargets:[],removedTargets:[],changed:!1,type:""},alignmentsToSave:[],alignmentsToDelete:[],sourceState:"ready",targetState:"ready",targetNodesToHighlight:[],enabledRelationshipTypes:[],enabledRelationshipTypesLastUpdate:null},R={enabledRelationshipTypesLastUpdate:function(e,t){e.enabledRelationshipTypesLastUpdate=t},enabledRelationshipTypes:function(e,t){e.enabledRelationshipTypes=t},targetNodesToHighlight:function(e,t){e.targetNodesToHighlight=t},frameworkSource:function(e,t){e.frameworkSource=t},frameworkTarget:function(e,t){e.frameworkTarget=t},frameworkSourceRelationships:function(e,t){e.frameworkSourceRelationships=t},frameworkTargetRelationships:function(e,t){e.frameworkTargetRelationships=t},relevantExistingAlignmentsMap:function(e,t){e.relevantExistingAlignmentsMap=t},relevantExistingAlignmentsMapLastUpdate:function(e,t){e.relevantExistingAlignmentsMapLastUpdate=t},alignedCompetenciesList:function(e,t){e.alignedCompetenciesList=t},step:function(e,t){e.step=t},workingAlignmentsSource:function(e,t){e.workingAlignmentsMap.source=t},workingAlignmentsTargets:function(e,t){e.workingAlignmentsMap.targets=t},workingAlignmentsType:function(e,t){e.workingAlignmentsMap.type=t},sourceState:function(e,t){e.sourceState=t},targetState:function(e,t){e.targetState=t},alignmentsToSave:function(e,t){e.alignmentsToSave=t},populateAlignedCompetenciesList:function(e){if(e.relevantExistingAlignmentsMap){for(var t=[],n=Object.keys(e.relevantExistingAlignmentsMap),r=0,o=n;r<o.length;r++){var a=o[r];t.push(a);for(var i=Object.keys(e.relevantExistingAlignmentsMap[a]),s=0,c=i;s<c.length;s++)for(var u=c[s],d=Object.keys(e.relevantExistingAlignmentsMap[a][u]),l=0,p=d;l<p.length;l++){var m=p[l];t.push(m)}}e.alignedCompetenciesList=t}},populateWorkingAlignmentMap:function(e){if(e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source]&&e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source][e.workingAlignmentsMap.type])for(var t=e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source][e.workingAlignmentsMap.type],n=Object.keys(t),r=0,o=n;r<o.length;r++){var a=o[r];e.workingAlignmentsMap.targets.push(a),e.workingAlignmentsMap.initialTargets.push(a)}e.workingAlignmentsMap.changed=!1},resetFrameworkSourceRelationships:function(e){e.frameworkSourceRelationships=null,e.relevantExistingAlignmentsMap=null},resetFrameworkTargetRelationships:function(e){e.frameworkTargetRelationships=null,e.relevantExistingAlignmentsMap=null},resetCrosswalkFrameworks:function(e){e.frameworkSource=null,e.frameworkTarget=null,e.frameworkSourceRelationships=null,e.frameworkTargetRelationships=null,e.relevantExistingAlignmentsMap=null},resetCrosswalkAlignmentsAndState:function(e){e.workingAlignmentsMap.source="",e.workingAlignmentsMap.targets=[],e.workingAlignmentsMap.initialTargets=[],e.workingAlignmentsMap.removedTargets=[],e.workingAlignmentsMap.changed=!1,e.workingAlignmentsMap.type="",e.sourceState="ready",e.targetState="ready",e.alignmentsToSave=[],e.alignmentsToDelete=[]},resetCrosswalk:function(e){e.step=0,e.workingAlignmentsMap.source="",e.workingAlignmentsMap.targets=[],e.workingAlignmentsMap.initialTargets=[],e.workingAlignmentsMap.removedTargets=[],e.workingAlignmentsMap.changed=!1,e.workingAlignmentsMap.type="",e.sourceState="ready",e.targetState="ready",e.alignmentsToSave=[],e.alignmentsToDelete=[]},resetWorkingAlignmentsMap:function(e){e.sourceState="ready",e.targetState="ready",e.workingAlignmentsMap={source:"",targets:[],initialTargets:[],removedTargets:[],changed:!1,type:""}},addWorkingAlignmentsTarget:function(e,t){var n=e.workingAlignmentsMap.removedTargets,r=n.filter((function(e){return e!==t}));if(e.workingAlignmentsMap.removedTargets=r,e.workingAlignmentsMap.targets.push(t),e.workingAlignmentsMap.removedTargets.length>0)e.workingAlignmentsMap.changed=!0;else{var o,a=!1,i=Object(I["a"])(e.workingAlignmentsMap.targets);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!e.workingAlignmentsMap.initialTargets.includes(s)){a=!0;break}}}catch(c){i.e(c)}finally{i.f()}e.workingAlignmentsMap.changed=!!a}},removeWorkingAlignmentsTarget:function(e,t){var n=e.workingAlignmentsMap.targets,r=n.filter((function(e){return e!==t}));if(e.workingAlignmentsMap.targets=r,e.workingAlignmentsMap.initialTargets.includes(t)&&e.workingAlignmentsMap.removedTargets.push(t),e.workingAlignmentsMap.removedTargets.length>0)e.workingAlignmentsMap.changed=!0;else{var o,a=!1,i=Object(I["a"])(e.workingAlignmentsMap.targets);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!e.workingAlignmentsMap.initialTargets.includes(s)){a=!0;break}}}catch(c){i.e(c)}finally{i.f()}e.workingAlignmentsMap.changed=!!a}},removeAlignmentFromRelevantAlignmentsMap:function(e,t){if(e.relevantExistingAlignmentsMap[t.source]&&e.relevantExistingAlignmentsMap[t.source][t.type]&&e.relevantExistingAlignmentsMap[t.source][t.type][t.target]){var n=e.relevantExistingAlignmentsMap;delete n[t.source][t.type][t.target],e.relevantExistingAlignmentsMap=n}},addAlignmentToRelevantAlignmentsMap:function(e,t){var n=e.relevantExistingAlignmentsMap;n[t.source]||(n[t.source]={}),n[t.source][t.relationType]||(n[t.source][t.relationType]={}),n[t.source][t.relationType][t.target]||(n[t.source][t.relationType][t.target]=t),e.relevantExistingAlignmentsMap=n},removeAlignmentFromAlignmentsToSave:function(e,t){var n,r=[],o=Object(I["a"])(e.alignmentsToSave);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.source===t.source&&a.target===t.target&&a.relationType===t.type||r.push(a)}}catch(i){o.e(i)}finally{o.f()}e.alignmentsToSave=r},removeAlignmentFromAlignmentsToDelete:function(e,t){var n,r=[],o=Object(I["a"])(e.alignmentsToDelete);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.source===t.source&&a.target===t.target&&a.relationType===t.type||r.push(a)}}catch(i){o.e(i)}finally{o.f()}e.alignmentsToDelete=r},appendAlignmentsToDelete:function(e,t){e.alignmentsToDelete.push(t)},appendAlignmentsToSave:function(e,t){e.alignmentsToSave.push(t)}},O={},L={enabledRelationshipTypesLastUpdate:function(e){return e.enabledRelationshipTypesLastUpdate},enabledRelationshipTypes:function(e){return e.enabledRelationshipTypes},frameworkSource:function(e){return e.frameworkSource},frameworkTarget:function(e){return e.frameworkTarget},frameworkSourceRelationships:function(e){return e.frameworkSourceRelationships},frameworkTargetRelationships:function(e){return e.frameworkTargetRelationships},relevantExistingAlignmentsMap:function(e){return e.relevantExistingAlignmentsMap},relevantExistingAlignmentsMapLastUpdate:function(e){return e.relevantExistingAlignmentsMapLastUpdate},workingAlignmentsSource:function(e){return e.workingAlignmentsMap.source},workingAlignmentsTargets:function(e){return e.workingAlignmentsMap.targets},workingAlignmentsType:function(e,t){return e.workingAlignmentsMap.type},sourceState:function(e){return e.sourceState},targetState:function(e){return e.targetState},alignmentsToSave:function(e){return e.alignmentsToSave},alignmentsToDelete:function(e){return e.alignmentsToDelete},alignedCompetenciesList:function(e){return e.alignedCompetenciesList}},D={namespaced:!0,state:x,mutations:R,actions:O,getters:L};r["a"].use(o["a"]);var F={cassApiLocation:""},$={cassApiLocation:function(e,t){e.cassApiLocation=t}},j={},N={cassApiLocation:function(e){return e.cassApiLocation}},V={namespaced:!0,state:F,mutations:$,actions:j,getters:N},q={CONFIG_SEARCH_SIZE:1e4,DEFAULT_CONFIGURATION_TYPE:"Configuration",DEFAULT_CONFIGURATION_CONTEXT:"https://schema.cassproject.org/0.4/",LANG_STRING_RANGE:"http://www.w3.org/2000/01/rdf-schema#langString",DEFAULT_HEADING:"General",LEVEL_SEARCH_SIZE:1e4,PERSON_SEARCH_SIZE:1e4,DEFAULT_CUSTOM_PROPERTY_CONTEXT:"https://schema.cassproject.org/0.4/",DEFAULT_CUSTOM_PROPERTY_RANGE:"http://schema.org/Text",defaultBrowserConfig:"",defaultBrowserConfigName:"",localDefaultBrowserConfig:"",configBusy:!1,configList:[],configView:"list",currentConfig:{},showConfirmDeleteConfigModal:!1,showMustBeLoggedInModal:!1,showBrowserConfigSetModal:!1,configToDelete:{},availableConcepts:[]},U={setConfigToDelete:function(e,t){e.configToDelete=t},setShowMustBeLoggedInModal:function(e,t){e.showMustBeLoggedInModal=t},setShowBrowserConfigSetModal:function(e,t){e.showBrowserConfigSetModal=t},setShowConfirmDeleteConfigModal:function(e,t){e.showConfirmDeleteConfigModal=t},setCurrentConfig:function(e,t){e.currentConfig=t},setConfigView:function(e,t){e.configView=t},setConfigList:function(e,t){e.setConfigList=t},setConfigBusy:function(e,t){e.configBusy=t},setDefaultBrowserConfig:function(e,t){e.defaultBrowserConfig=t},setDefaultBrowserConfigName:function(e,t){e.defaultBrowserConfigName=t},setLocalDefaultBrowserConfig:function(e,t){e.localDefaultBrowserConfig=t},setAvailableConcepts:function(e,t){e.availableConcepts=t},setAvailableTypes:function(e,t){e.availableTypes=t}},_={},B={configToDelete:function(e){return e.configToDelete},showConfirmDeleteConfigModal:function(e){return e.showConfirmDeleteConfigModal},showMustBeLoggedInModal:function(e){return e.showMustBeLoggedInModal},showBrowserConfigSetModal:function(e){return e.showBrowserConfigSetModal},LEVEL_SEARCH_SIZE:function(e){return e.LEVEL_SEARCH_SIZE},GROUP_SEARCH_SIZE:function(e){return e.GROUP_SEARCH_SIZE},PERSON_SEARCH_SIZE:function(e){return e.PERSON_SEARCH_SIZE},DEFAULT_CUSTOM_PROPERTY_CONTEXT:function(e){return e.DEFAULT_CUSTOM_PROPERTY_CONTEXT},DEFAULT_CUSTOM_PROPERTY_RANGE:function(e){return e.DEFAULT_CUSTOM_PROPERTY_RANGE},DEFAULT_CONFIGURATION_TYPE:function(e){return e.DEFAULT_CONFIGURATION_TYPE},DEFAULT_CONFIGURATION_CONTEXT:function(e){return e.DEFAULT_CONFIGURATION_CONTEXT},LANG_STRING_RANGE:function(e){return e.LANG_STRING_RANGE},DEFAULT_HEADING:function(e){return e.DEFAULT_HEADING},CONFIG_SEARCH_SIZE:function(e){return e.CONFIG_SEARCH_SIZE},currentConfig:function(e){return e.currentConfig},configView:function(e){return e.configView},configList:function(e){return e.configList},defaultBrowserConfig:function(e){return e.defaultBrowserConfig},defaultBrowserConfigName:function(e){return e.defaultBrowserConfigName},localDefaultBrowserConfig:function(e){return e.localDefaultBrowserConfig},configBusy:function(e){return e.configBusy},availableConcepts:function(e){return e.availableConcepts},availableTypes:function(e){return e.availableTypes}},G={namespaced:!0,state:q,mutations:U,actions:_,getters:B};r["a"].use(o["a"]);var H={crosswalkEnabled:!0,userManagementEnabled:!0,configurationsEnabled:!0,searchByOwnerNameEnabled:!0,pluginsEnabled:!0,loginEnabled:!0,legacyLoginEnabled:!0,apiLoginEnabled:!1,shareEnabled:!0},J={crosswalkEnabled:function(e,t){e.crosswalkEnabled=t},userManagementEnabled:function(e,t){e.userManagementEnabled=t},configurationsEnabled:function(e,t){e.configurationsEnabled=t},searchByOwnerNameEnabled:function(e,t){e.searchByOwnerNameEnabled=t},pluginsEnabled:function(e,t){e.pluginsEnabled=t},loginEnabled:function(e,t){e.loginEnabled=t},apiLoginEnabled:function(e,t){e.apiLoginEnabled=t},legacyLoginEnabled:function(e,t){e.legacyLoginEnabled=t},shareEnabled:function(e,t){e.shareEnabled=t}},z={},W={legacyLoginEnabled:function(e){return e.legacyLoginEnabled},apiLoginEnabled:function(e){return e.apiLoginEnabled}},Z={namespaced:!0,state:H,mutations:J,actions:z,getters:W};r["a"].use(o["a"]);t["a"]=new o["a"].Store({modules:{lode:a["a"],editor:w,app:C,user:T,crosswalk:D,environment:V,featuresEnabled:Z,configuration:G}})},5:function(e,t){},"560b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),function(e){n("ac1f"),n("5319"),n("841c"),n("1276"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var t=n("2b0e"),r=n("26b9"),o=n.n(r),a=n("3dfd"),i=(n("560b"),n("b3be"),n("41cb")),s=n("2f62"),c=n("4ae6"),u=n.n(c),d=n("4360"),l=n("e166"),p=n.n(l),m=n("28dd"),f=(n("c0c4"),n("85fe")),h=n("3003"),g=n("f13c");n("b904"),e.UUID=n("37a07");var y={color:"#68C8DB",failedColor:"#D74C44",thickness:"5px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1};t["a"].use(o.a,y),t["a"].use(n("2ead")),t["a"].use(s["a"]),t["a"].use(u.a),t["a"].use(g,{container:"#framework",duration:500,easing:"ease",offset:-150,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),t["a"].use(p.a),t["a"].use(m["a"]),t["a"].use(f["a"]),t["a"].use(h["a"]),t["a"].directive("click-outside",{bind:function(e,t,n){e.clickOutsideEvent=function(r){e===r.target||e.contains(r.target)||n.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),EcRepository.caching=!0,t["a"].config.productionTip=!1,t["a"].config.warnHandler=function(e,t,n){'Invalid prop: type check failed for prop "clickToLoad". Expected Boolean, got String with value "true".'!==e&&"Avoid using non-primitive value as key, use string/number value instead."!==e&&"Duplicate keys detected: '[object Object]'. This may cause an update error."!==e&&appError("[Vue warn]: "+e+n)},e.appLog=function(e){0},e.appError=function(e){0};var w=function(){if(null==window.document.location.search)return{};var e=window.document.location.search.split("?");if(e.length>1){for(var t={},n=e[1],r=n.split("&"),o=0;o<r.length;o++)t[r[o].split("=")[0]]?(t[r[o].split("=")[0]]=[t[r[o].split("=")[0]]],t[r[o].split("=")[0]].push(decodeURIComponent(r[o].replace(r[o].split("=")[0]+"=","")))):t[r[o].split("=")[0]]=decodeURIComponent(r[o].replace(r[o].split("=")[0]+"=",""));return t}return{}};window.queryParams=w(),window.app=new t["a"]({router:i["a"],store:d["a"],render:function(e){return e(a["a"])}}).$mount("#app")}.call(this,n("c8ba"))},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},6:function(e,t){},7:function(e,t){},8:function(e,t){},8596:function(e,t,n){"use strict";(function(e){n("96cf");var r=n("c964"),o=n("54f8");e.jsonld=n("46bd");var a={schemata:{},isSavingProperty:!1,isSavingThing:!1,isAddingProperty:!1,addingProperty:"",addingValue:"",addingRange:[],addingChecked:[],removeAddingValueAtIndex:null,schemataLookup:{},rawSchemata:{},schemaFallback:{},objectModel:{},competencySearchModalOpen:!1,copyOrLink:!1,numPropertyComponentsVisible:{},searchType:null,includeRelations:!0},i={schemata:function(e,t){var n=e.state,r=e.commit;if(r("setSchemata",t),EcArray.isArray(t.obj)){r("setEmptySchemataLookup",t);for(var a=0;a<t.obj.length;a++){var i=t.obj[a];if(r("setSchemataLookup",{index:a,schema:t}),null!=i["http://schema.org/domainIncludes"]){var s,c=Object(o["a"])(i["http://schema.org/domainIncludes"]);try{for(c.s();!(s=c.n()).done;){var u=s.value;null==n.objectModel[u["@id"]]&&r("setObjectModel",{type:u,val:{}});var d=n.objectModel[u["@id"]];d[i["@id"]]=i}}catch(l){c.e(l)}finally{c.f()}}}}},schemaFallback:function(e,t){for(var n=e.state,r=0;r<t.length;r++){var a=t[r];if(n.schemaFallback[a["@id"]]=t[r],null!=a["http://schema.org/domainIncludes"]){var i,s=Object(o["a"])(a["http://schema.org/domainIncludes"]);try{for(s.s();!(i=s.n()).done;){var c=i.value;null==n.objectModel[c["@id"]]&&(n.objectModel[c["@id"]]={});var u=n.objectModel[c["@id"]];u[a["@id"]]=a}}catch(d){s.e(d)}finally{s.f()}}}}},s={setIsSavingProperty:function(e,t){e.isSavingProperty=t},setIsSavingThing:function(e,t){e.isSavingThing=t},setIsAddingProperty:function(e,t){e.isAddingProperty=t},setAddingProperty:function(e,t){e.addingProperty=t},setAddingValue:function(e,t){e.addingValue=t},setAddingRange:function(e,t){e.addingRange=t},setAddingChecked:function(e,t){e.addingChecked=t},removeAddingValueAtIndex:function(e,t){e.removeAddingValueAtIndex=t},setSchemata:function(e,t){e.schemata[t.id]=t.obj},setSchemataLookup:function(e,t){var n=t.index,r=t.schema;e.schemataLookup[r.id][r.obj[n]["@id"]]=r.obj[n]},setEmptySchemataLookup:function(e,t){e.schemataLookup[t.id]={}},setObjectModel:function(e,t){var n=t.type,r=t.val;e.objectModel[n["@id"]]=r},rawSchemata:function(e,t){e.rawSchemata[t.id]=t.obj},competencySearchModalOpen:function(e,t){e.competencySearchModalOpen=t},copyOrLink:function(e,t){e.copyOrLink=t},incrementNumPropertyComponents:function(e,t){e.numPropertyComponentsVisible[t]||(e.numPropertyComponentsVisible[t]=0),e.numPropertyComponentsVisible[t]++},decrementNumPropertyComponents:function(e,t){e.numPropertyComponentsVisible[t]--,0===e.numPropertyComponentsVisible[t]&&delete e.numPropertyComponentsVisible[t]},searchType:function(e,t){e.searchType=t},includeRelations:function(e,t){e.includeRelations=t}},c={isSavingProperty:function(e){return e.isSavingProperty},isSavingThing:function(e){return e.isSavingThing},isAddingProperty:function(e){return e.isAddingProperty},addingProperty:function(e){return e.addingProperty},addingValue:function(e){return e.addingValue},addingRange:function(e){return e.addingRange},addingChecked:function(e){return e.addingChecked},removeAddingValueAtIndex:function(e){return e.removeAddingValueAtIndex},includeRelations:function(e){return e.includeRelations}};jsonld.documentLoader=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t in a.rawSchemata)){e.next=4;break}return e.abrupt("return",{contextUrl:null,document:a.rawSchemata[t],documentUrl:t});case 4:return r=new XMLHttpRequest,r.onreadystatechange=function(){4===this.readyState&&200===this.status&&(n=JSON.parse(this.responseText),a.rawSchemata[o]=n)},o=t,i=t.indexOf("schema.cassproject.org"),s="",-1===t.substring(t.lastIndexOf("/")).indexOf("2")&&(s="/index.json-ld"),-1!==i&&(t=t.substring(i),t=window.location.origin+window.location.pathname+t+s),r.open("GET",t,!1),r.setRequestHeader("Accept","application/json"),r.send(),e.abrupt("return",{contextUrl:null,document:n,documentUrl:o});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t["a"]={namespaced:!0,state:a,getters:c,actions:i,mutations:s}}).call(this,n("c8ba"))},"872c":function(e,t,n){"use strict";n("fb6a"),n("b0c0"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("ddb0"),n("96cf");var r=n("c964"),o=n("b9b9");t["a"]={data:function(){return{conceptCtids:null,conceptRegistryUrls:null}},computed:{ctids:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;if("true"!==this.queryParams.ceasnDataFields)return null;var t={};if(t[e.shortId()]=[{"@value":this.getCTID(e.shortId())}],e.competency)for(var n=0;n<e.competency.length;n++)t[e.competency[n]]=[{"@value":this.getCTID(e.competency[n])}];return t},registryURLs:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;if("true"!==this.queryParams.ceasnDataFields)return null;var t={};if(t[e.shortId()]=[{"@id":this.ceasnRegistryUriTransform(e.shortId())}],e.competency)for(var n=0;n<e.competency.length;n++)t[e.competency[n]]=[{"@id":this.ceasnRegistryUriTransform(e.competency[n])}];return t}},methods:{getConceptCtids:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.conceptCtids=null,t=this.framework,t||(t=this.$store.getters["editor/framework"]),t&&t.id){e.next=5;break}return e.abrupt("return");case 5:if(n=this,"true"===this.queryParams.ceasnDataFields){e.next=8;break}return e.abrupt("return");case 8:if(o={},o[t.shortId()]=[{"@value":this.getCTID(t.shortId())}],a=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=12;break}return o[t[r]]=[{"@value":n.getCTID(t[r])}],e.next=5,EcConcept.get(t[r]);case 5:if(i=e.sent,!i["skos:narrower"]){e.next=9;break}return e.next=9,a(i["skos:narrower"]);case 9:r++,e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!t["skos:hasTopConcept"]){e.next=14;break}return e.next=14,a(t["skos:hasTopConcept"]);case 14:this.conceptCtids=o;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getConceptRegistryUrls:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.conceptRegistryUrls=null,t=this.framework,t||(t=this.$store.getters["editor/framework"]),t&&t.id){e.next=5;break}return e.abrupt("return");case 5:if(n=this,"true"===this.queryParams.ceasnDataFields){e.next=8;break}return e.abrupt("return");case 8:if(o={},o[t.shortId()]=[{"@id":this.ceasnRegistryUriTransform(t.shortId())}],a=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=12;break}return o[t[r]]=[{"@value":n.ceasnRegistryUriTransform(t[r])}],e.next=5,EcConcept.get(t[r]);case 5:if(i=e.sent,!i["skos:narrower"]){e.next=9;break}return e.next=9,a(i["skos:narrower"]);case 9:r++,e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!t["skos:hasTopConcept"]){e.next=14;break}return e.next=14,a(t["skos:hasTopConcept"]);case 14:this.conceptRegistryUrls=o;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),spitEvent:function(e,t,n){var r=this.framework?this.framework:this.$store.state.editor.framework,o=this.$store.state.editor.selectedCompetency,a=null;r&&(a=r["dcterms:title"]?schema.Thing.getDisplayStringFrom(r["dcterms:title"]):r.getName());var i=null;o&&(i=o["skos:prefLabel"]?schema.Thing.getDisplayStringFrom(o["skos:prefLabel"]):o.getName());var s={message:e,changed:t,selectedFramework:null==r?null:r.shortId(),selectedCompetency:null==o?null:o.shortId(),selectedFrameworkObject:null==r?null:JSON.parse(r.toJson()),selectedCompetencyObject:null==o?null:JSON.parse(o.toJson()),selectedFrameworkName:a,selectedCompetencyName:i,visiblePage:n};this.queryParams&&"true"===this.queryParams.ceasnDataFields&&(null!=r&&null!=r.getGuid&&(r.getGuid().startsWith("ce-")?s.selectedFrameworkCtid=null==r?null:r.getGuid():r.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?s.selectedFrameworkCtid=null==r?null:"ce-"+r.getGuid():s.selectedFrameworkCtid="ce-"+new UUID(3,"nil",r.shortId()).format()),null!=o&&null!=o.getGuid&&(o.getGuid().startsWith("ce-")?s.selectedCompetencyCtid=null==o?null:o.getGuid():o.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?s.selectedCompetencyCtid=null==o?null:"ce-"+o.getGuid():s.selectedCompetencyCtid="ce-"+new UUID(3,"nil",this.framework.shortId()+o.shortId()).format())),appLog(s),null!=parent&&this.queryParams&&null!=this.queryParams.origin&&""!==this.queryParams.origin&&parent.postMessage(s,this.queryParams.origin)},setDefaultLanguage:function(){var e;e=this.framework&&this.framework["ceasn:inLanguage"]?EcArray.isArray(this.framework["ceasn:inLanguage"])?this.framework["ceasn:inLanguage"][0]:this.framework["ceasn:inLanguage"]:this.framework&&this.framework["schema:inLanguage"]?EcArray.isArray(this.framework["schema:inLanguage"])?this.framework["schema:inLanguage"][0]:this.framework["schema:inLanguage"]:this.framework&&this.framework["dcterms:language"]?EcArray.isArray(this.framework["dcterms:language"])?this.framework["dcterms:language"][0]:this.framework["dcterms:language"]:navigator.language||navigator.userLanguage?navigator.language||navigator.userLanguage:"en",this.$store.commit("editor/defaultLanguage",e)},get:function(e,t,n,r,o){var a=EcRemote.urlAppend(e,t);a=EcRemote.upgradeHttpToHttps(a);var i=null;if("undefined"===typeof httpStatus){if(i=new XMLHttpRequest,i.open("GET",a,!0),null!=n)for(var s=EcObject.keys(n),c=0;c<s.length;c++)i.setRequestHeader(s[c],n[s[c]]);var u=i;i.onreadystatechange=function(){4===u.readyState&&200===u.status&&(null!=r?r(u.responseText):4===u.readyState&&null!=o&&o(u.status+" "+u.responseText))},i.onload=function(){200!==i.status&&o(i.status)},i.onerror=function(){o("Failed while sending request.")}}null!=i&&(i["timeout"]=EcRemote.timeout),"undefined"!==typeof httpStatus?null!=r&&r(JSON.stringify(httpGet(a))):i.send()},resolveNameFromUrl:function(e){this.get(e,null,null,(function(e){var t=null;if(e){if("<"===e[0])return;if(e=JSON.parse(e),e["ceterms:name"]?t=e["ceterms:name"]:e["ceasn:competencyText"]?t=e["ceasn:competencyText"]:e["name"]?t=e["name"]:e["schema:name"]?t=e["schema:name"]:e["title"]?t=e["title"]:e["skos:prefLabel"]?t=e["skos:prefLabel"]:e["title"]?t=e["title"]:e["@graph"]&&e["@graph"][0]&&(e["@graph"][0]["ceterms:name"]?t=e["@graph"][0]["ceterms:name"]:e["@graph"][0]["name"]?t=e["@graph"][0]["name"]:e["@graph"][0]["schema:name"]?t=e["@graph"][0]["schema:name"]:e["@graph"][0]["title"]?t=e["@graph"][0]["title"]:e["@graph"][0]["skos:prefLabel"]&&(t=e["@graph"][0]["skos:prefLabel"])),t=schema.Thing.getDisplayStringFrom(t),EcObject.isObject(t)){var n=Object.keys(t);t=t[n[0]]}}return t}),(function(e){appLog(e)}))},conditionalDelete:function(e,t){var n=this;(function(e,t){Task.asyncImmediate((function(o){void 0!==t&&null!=t||(t=0),null!=e&&void 0!==e||appLog("ID is undefined."),t<5?EcFramework.search(window.repo,'"'+e+'"',function(){var a=Object(r["a"])(regeneratorRuntime.mark((function r(a){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(a.length<=0)){r.next=8;break}return appLog("No references found for "+e+"... deleting."),r.next=4,EcRepository.get(e);case 4:i=r.sent,window.repo.deleteRegistered(i,(function(e){"Level"===i.type&&n.$store.commit("editor/refreshLevels",!0),o()}),(function(e){appLog(e),o()})),r.next=11;break;case 8:appLog(a.length+" references found for "+e+"... Not deleting. Will see again in another second."),o(),setTimeout((function(){n.conditionalDelete(e,t+1)}),1e3);case 11:case"end":return r.stop()}}),r)})));return function(e){return a.apply(this,arguments)}}(),appError,{}):o()}))})(e,t)},selectButton:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],t||(t=this.selectedArray),r=0;case 3:if(!(r<t.length)){e.next=36;break}if("true"!==this.queryParams.selectVerbose||!0===this.$store.getters["editor/conceptMode"]||!0===this.$store.getters["editor/progressionMode"]){e.next=22;break}if("ctdlasn"!==this.queryParams.selectExport){e.next=13;break}return o=!1===EcRepository.shouldTryUrl(t[r])&&-1===t[r].indexOf(window.repo.selectedServer)?window.repo.selectedServer+"ceasn/"+EcCrypto.md5(t[r]):t[r].replace("/data/","/ceasn/"),e.next=9,EcRemote.getExpectingObject(o);case 9:a=e.sent,a&&n.push(a),e.next=20;break;case 13:return e.t0=n,e.t1=JSON,e.next=17,EcCompetency.get(t[r]);case 17:e.t2=e.sent.toJson(),e.t3=e.t1.parse.call(e.t1,e.t2),e.t0.push.call(e.t0,e.t3);case 20:e.next=33;break;case 22:if("true"!==this.queryParams.selectVerbose){e.next=32;break}return e.t4=n,e.t5=JSON,e.next=27,EcConcept.get(t[r]);case 27:e.t6=e.sent.toJson(),e.t7=e.t5.parse.call(e.t5,e.t6),e.t4.push.call(e.t4,e.t7),e.next=33;break;case 32:n.push(t[r]);case 33:r++,e.next=3;break;case 36:if("true"!==this.queryParams.selectRelations||!this.framework.relation){e.next=46;break}r=0;case 38:if(!(r<this.framework.relation.length)){e.next=46;break}return e.next=41,EcAlignment.get(this.framework.relation[r]);case 41:i=e.sent,EcArray.has(t,i.target)&&("true"===this.queryParams.selectVerbose?n.push(JSON.parse(i.toJson())):n.push(i.shortId()));case 43:r++,e.next=38;break;case 46:if(s=this.framework,"ctdlasn"!==this.queryParams.selectExport||!0===this.$store.getters["editor/conceptMode"]||!0===this.$store.getters["editor/progressionMode"]){e.next=54;break}if(null==this.framework){e.next=54;break}return o=!1===EcRepository.shouldTryUrl(this.framework.id)&&-1===this.framework.id.indexOf(window.repo.selectedServer)?window.repo.selectedServer+"ceasn/"+EcCrypto.md5(this.framework.shortId()):this.framework.id.replace("/data/","/ceasn/"),e.next=52,EcRemote.getExpectingObject(o);case 52:c=e.sent,c&&c["@graph"]&&(s=c["@graph"][0]);case 54:u={message:"selected",selected:n,type:!0===this.$store.getters["editor/conceptMode"]||!0===this.$store.getters["editor/progressionMode"]?"Concept":"Competency",selectedFramework:s},u=JSON.parse(JSON.stringify(u)),appLog(u),parent.postMessage(u,this.queryParams.origin);case 58:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addLevel:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var o,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this,i=this.framework?this.framework:this.$store.getters["editor/framework"],s=i.level?i.level.slice():null,n){e.next=11;break}o=new EcLevel,null!=this.queryParams.newObjectEndpoint?o.generateShortId(this.queryParams.newObjectEndpoint):o.generateId(window.repo.selectedServer),o["schema:dateCreated"]=(new Date).toISOString(),o.name="New Level",o.competency=t,e.next=17;break;case 11:return n=n[0],e.next=14,EcRepository.get(n);case 14:o=e.sent,o.competency?EcArray.isArray(o.competency)||(o.competency=[o.competency]):o.competency=[],o.competency.push(t);case 17:i["schema:dateModified"]=(new Date).toISOString(),window.repo.saveTo(o,Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.addLevel(o.shortId()),t=[],n||t.push({operation:"addNew",id:o.shortId()}),t.push({operation:"update",id:i.shortId(),fieldChanged:["level"],initialValue:[s],changedValue:[i.level]}),a.$store.commit("editor/addEditsToUndo",t),a.$store.commit("editor/framework",i),!0!==a.$store.state.editor.private){e.next=11;break}if(!0===EcEncryptedValue.encryptOnSaveMap[i.id]){e.next=11;break}return e.next=10,EcEncryptedValue.toEncryptedValue(i);case 10:i=e.sent;case 11:window.repo.saveTo(i,(function(){a.$store.commit("lode/setIsAddingProperty",!1),a.$store.commit("editor/refreshLevels",!0)}),appError);case 12:case"end":return e.stop()}}),e)}))),appError);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),saveCheckedLevels:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,s,c,u,d,l,p,m,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=[],EcArray.isArray(t)?o=t:o.push(EcRemoteLinkedData.trimVersionFromUrl(t["@id"])),a=this.framework.level?this.framework.level.slice():null,i=!1,s=[],c=this,u=0;case 7:if(!(u<r.length)){e.next=32;break}if(this.framework.level||(this.framework.level=[]),-1===n.indexOf(r[u].val)){e.next=21;break}return e.next=12,EcLevel.get(r[u].val);case 12:for(m in d=e.sent,l=JSON.parse(JSON.stringify(d.competency)),EcArray.isArray(d.competency)||(d.competency=null==d.competency?[]:[d.competency]),p=!1,o)-1===d.competency.indexOf(o[m])&&(d.competency.push(o[m]),p=!0);p&&(s.push({operation:"update",id:d.shortId(),fieldChanged:["competency"],initialValue:[l],changedValue:[d.competency]}),window.repo.saveTo(d,(function(){c.$store.commit("editor/refreshLevels",!0)}),appError)),-1===this.framework.level.indexOf(d.shortId())&&(this.framework.addLevel(d.shortId()),i=!0),e.next=29;break;case 21:return e.next=23,EcLevel.get(r[u].val);case 23:for(h in d=e.sent,l=JSON.parse(JSON.stringify(d.competency)),f=!1,o)d.competency&&-1!==d.competency.indexOf(o[h])&&(EcArray.setRemove(d.competency,o[h]),f=!0);f&&(s.push({operation:"update",id:d.shortId(),fieldChanged:["competency"],initialValue:[l],changedValue:[d.competency]}),window.repo.saveTo(d,(function(){c.$store.commit("editor/refreshLevels",!0)}),appError)),(!d.competency||d.competency&&0===d.competency.length)&&-1!==this.framework.level.indexOf(d.shortId())&&(EcArray.setRemove(this.framework.level,d.shortId()),i=!0);case 29:u++,e.next=7;break;case 32:i&&(s.push({operation:"update",id:this.framework.shortId(),fieldChanged:["level"],initialValue:[a],changedValue:[this.framework.level]}),this.saveFramework()),this.$store.commit("editor/addEditsToUndo",s),this.$store.commit("lode/setAddingChecked",[]),this.$store.commit("lode/setIsAddingProperty",!1);case 36:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),saveFramework:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.framework["schema:dateModified"]=(new Date).toISOString(),t=this.framework,this.$store.commit("editor/framework",t),!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[t.id]){e.next=7;break}return e.next=6,EcEncryptedValue.toEncryptedValue(t);case 6:t=e.sent;case 7:window.repo.saveTo(t,(function(){}),appError);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeLevelFromFramework:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.framework.level?this.framework.level.slice():null,this.framework.removeLevel(t),e.next=4,EcRepository.get(t);case 4:r=e.sent,this.$store.commit("editor/addEditsToUndo",[{operation:"delete",obj:r},{operation:"update",id:this.framework.shortId(),fieldChanged:[this.framework.level],initialValue:[n],changedValue:[this.framework.level]}]),this.conditionalDelete(t),this.saveFramework(),this.$store.commit("editor/refreshLevels",!0);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addRelationsToFramework:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=6;break}return e.next=3,EcRepository.get(t);case 3:return t=e.sent,e.next=6,this.addAlignments(r,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),addAlignments:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,o,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("true"!==this.$store.getters["editor/queryParams"].concepts&&!0!==this.$store.getters["editor/conceptMode"]&&!0!==this.$store.getters["editor/progressionMode"]){e.next=2;break}return e.abrupt("return",this.addConceptAlignments(t,n,o));case 2:if("ceasn:skillEmbodied"!==o&&"ceasn:abilityEmbodied"!==o&&"ceasn:knowledgeEmbodied"!==o&&"ceasn:taskEmbodied"!==o){e.next=4;break}return e.abrupt("return",this.addRelationAsCompetencyField(t,n,o,a));case 4:return e.abrupt("return",new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,a){var s,c,u,d,l,p,m,f,h,g,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=i.$store.state.editor.framework,c=[],u=s.relation?s.relation.slice():null,d=0;case 4:if(!(d<t.length)){e.next=28;break}if(l=new EcAlignment,null!=i.$store.getters["editor/queryParams"].newObjectEndpoint?l.generateShortId(i.$store.getters["editor/queryParams"].newObjectEndpoint):l.generateId(window.repo.selectedServer),c.push({operation:"addNew",id:l.shortId()}),l["schema:dateCreated"]=(new Date).toISOString(),l.target=EcRemoteLinkedData.trimVersionFromUrl(t[d]),n.id?l.source=n.shortId():l.source=EcRemoteLinkedData.trimVersionFromUrl(n["@id"]),l.target!==l.source){e.next=13;break}return e.abrupt("return");case 13:if(l.relationType=o,"broadens"===l.relationType&&(p=l.target,l.target=l.source,l.source=p,l.relationType="narrows"),EcIdentityManager.default.ids.length>0&&l.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),s.owner&&s.owner.length>0)for(m=0;m<s.owner.length;m++)f=s.owner[m],l.addOwner(EcPk.fromPem(f));if(s.reader&&s.reader.length>0)for(m=0;m<s.reader.length;m++)h=s.reader[m],l.addReader(EcPk.fromPem(h));if(!0!==i.$store.state.editor.private){e.next=22;break}return e.next=21,EcEncryptedValue.toEncryptedValue(l);case 21:l=e.sent;case 22:return e.next=24,new Promise((function(e,t){window.repo.saveTo(l,e,t)}));case 24:if("Concept"===n.type){null==s.relation&&(s.relation=[]),g=!0,y=0;while(g&&y<s.relation.length)EcRemoteLinkedData.trimVersionFromUrl(s.relation[y]).equals(l.id)&&(g=!1),y++;g&&s.relation.push(l.id)}else s.addRelation(l.id);case 25:d++,e.next=4;break;case 28:if(c.push({operation:"update",id:s.shortId(),fieldChanged:["relation"],initialValue:[u],changedValue:[s.relation]}),i.$store.commit("editor/addEditsToUndo",c),i.$store.commit("editor/framework",s),!0!==i.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[s.id]){e.next=35;break}return e.next=34,EcEncryptedValue.toEncryptedValue(s);case 34:s=e.sent;case 35:window.repo.saveTo(s,r,a);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}(),addRelationAsCompetencyField:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,o,a){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,a){var s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s=n[o]?n[o].slice():null,c=0;c<t.length;c++)null==n[o]&&(n[o]=[]),n[o].push(t[c]);if(i.$store.commit("editor/addEditsToUndo",[{operation:"update",id:n.shortId(),fieldChanged:[o],initialValue:[s],changedValue:[n[o]]}]),n["schema:dateModified"]=(new Date).toISOString(),!0!==i.$store.state.editor.private){e.next=9;break}if(!0===EcEncryptedValue.encryptOnSaveMap[n.id]){e.next=9;break}return e.next=8,EcEncryptedValue.toEncryptedValue(n);case 8:n=e.sent;case 9:window.repo.saveTo(n,r,a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}(),removeRelationFromFramework:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,o){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var s=a,c=a.framework.relation?a.framework.relation.slice():null,u=[];(new EcAsyncHelper).each(a.framework.relation,(function(e,r){EcAlignment.get(e,(function(e){"broadens"===n?e.target===t&&e.source===o&&"narrows"===e.relationType?(s.framework.removeRelation(e.shortId()),u.push({operation:"delete",obj:e}),s.conditionalDelete(e.shortId()),r()):r():e.source===t&&e.target===o&&e.relationType===n?(s.framework.removeRelation(e.shortId()),u.push({operation:"delete",obj:e}),s.conditionalDelete(e.shortId()),r()):r()}),r)}),Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=s.framework,u.push({operation:"update",id:n.shortId(),fieldChanged:["relation"],initialValue:[c],changedValue:[n.relation]}),s.$store.commit("editor/framework",n),s.$store.commit("editor/addEditsToUndo",u),!0!==s.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[n.id]){t.next=8;break}return t.next=7,EcEncryptedValue.toEncryptedValue(n);case 7:n=t.sent;case 8:window.repo.saveTo(n,e,i);case 9:case"end":return t.stop()}}),t)}))))})));case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),ceasnRegistryUriTransform:function(e){var t=this.queryParams.newObjectEndpoint;if(null==t)return e;if(e.startsWith(t))return e;var n=this.getCTID(e);return-1!==t.indexOf("ce-")&&(n=n.substring(3)),t+n},getCTID:function(e){var t=null,n=EcRemoteLinkedData.trimVersionFromUrl(e).split("/");return t=n[n.length-1],e=EcRemoteLinkedData.trimVersionFromUrl(e),t.matches("^(ce-)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")||(t=new UUID(3,"nil",e).format()),-1===t.indexOf("ce-")&&(t="ce-"+t),t},canViewCommentsCurrentFramework:function(){var e=this.$store.state.user.loggedOnPerson;return!(!e||!e.id||""===e.id)},canAddCommentsCurrentFramework:function(){var e=this.$store.state.user.loggedOnPerson;return!(!e||!e.id||""===e.id)},toPrettyDateString:function(e){try{var t=new Date(e);return Object(o["a"])(t,"mm/dd/yy, h:MM:ss TT")}catch(n){return"unknown"}}}}},9:function(e,t){},9224:function(e){e.exports=JSON.parse('{"a":"1.5.15"}')},"9c0c":function(e,t,n){},b3be:function(e,t,n){},c1db:function(e,t,n){},cb2b:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="cb2b"},d0e4:function(e,t,n){"use strict";var r=n("c1db"),o=n.n(r);o.a}});
//# sourceMappingURL=app.f9283c38.js.map