(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import","chunk-2d22bdc1","chunk-686e69cd","chunk-208a03a5","directory~pluginManager~sidenav","chunk-53caa434","chunk-2f37fe09","chunk-2d21ecda","chunk-75621e8d","chunk-35f68be3","chunk-9d03c4aa","chunk-6a59ae24","chunk-ce824822","chunk-c6935678","chunk-0a468065","chunk-7682e882","chunk-2d21ecda","chunk-2d0e6c3b"],{"00fd":function(e,t,r){var s=r("9e69"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,n=s?s.toStringTag:void 0;function c(e){var t=o.call(e,n),r=e[n];try{e[n]=void 0;var s=!0}catch(c){}var i=a.call(e);return s&&(t?e[n]=r:delete e[n]),i}e.exports=c},"040c":function(e,t,r){},"08bc":function(e,t,r){"use strict";var s=r("891f"),i=r.n(s);i.a},"09d8":function(e,t,r){"use strict";var s=r("48dd"),i=r.n(s);i.a},"0d3b":function(e,t,r){var s=r("d039"),i=r("b622"),o=r("c430"),a=i("iterator");e.exports=!s((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,s){t["delete"]("b"),r+=s+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},1102:function(e,t,r){"use strict";t["a"]={computed:{t3CompetencyProfile:function(){var e=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/Competency/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"ID"}],readOnly:"true"},"https://purl.org/ctdlasn/terms/codedNotation":{"@id":"https://purl.org/ctdlasn/terms/codedNotation","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alphanumeric notation or ID code as defined by the promulgating body to identify this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Code"}]},"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],isRequired:"true"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Description of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}]},"http://purl.org/dc/terms/type":{"@id":"http://purl.org/dc/terms/type","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The textual label identifying the category of the competency as designated by the promulgating body."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Type"}]},"https://schema.cassproject.org/0.4/Competency/scope":{"@id":"https://schema.cassproject.org/0.4/Competency/scope","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Scope in which the competency may be applied. e.g. Underwater."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Scope"}]},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],noTextEditing:"true","http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Context"}]},"https://schema.cassproject.org/0.4/Level":{"@id":"https://schema.cassproject.org/0.4/Level","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"When an individual's performance in a competency can be measured, a level specifies milestones that an individual can reach, creating fine-grained distinction between the proficient and the adept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rubric Cell"}],valuesIndexed:function(){return e.levels},noTextEditing:"true",add:function(t){e.addLevel(t)},remove:function(t,r){e.removeLevelFromFramework(r)},save:function(){e.saveFramework()},profile:{"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":'The title that one who holds this performance level may assume. e.g. "Fast"'}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rubric Column Header"}]},"https://schema.cassproject.org/0.4/competency":{"@id":"https://schema.cassproject.org/0.4/competency","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Specifies the URL of the competency the level relates to."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rubric Row Header"}]},alwaysProperties:["http://schema.org/name","https://schema.cassproject.org/0.4/competency"]}},narrows:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A sub-competency relationship which has relevance to this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Narrows"}],valuesIndexed:function(){return e.relations["narrows"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"narrows",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"narrows",r)}},broadens:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Covers other relevant competencies not found in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Broadens"}],valuesIndexed:function(){return e.relations["broadens"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"broadens",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"broadens",r)}},isEquivalentTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Represents same capability in all aspects to another competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Equivalent To"}],valuesIndexed:function(){return e.relations["isEquivalentTo"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isEquivalentTo",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isEquivalentTo",r)}},isSimilarTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Similar To"}],valuesIndexed:function(){return e.relations["isSimilarTo"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isSimilarTo",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isSimilarTo",r)}},isPartiallySameAs:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Partially Same As"}],valuesIndexed:function(){return e.relations["isPartiallySameAs"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isPartiallySameAs",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isPartiallySameAs",r)}},isRelatedTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"This competency has some degree of overlap with another."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Related To"}],valuesIndexed:function(){return e.relations["isRelatedTo"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isRelatedTo",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isRelatedTo",r)}},enables:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Enables"}],valuesIndexed:function(){return e.relations["enables"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"enables",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"enables",r)}},isEnabledBy:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A recommended option that speeds up acquisition of this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Enabled By"}],valuesIndexed:function(){return e.relations["isEnabledBy"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isEnabledBy",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isEnabledBy",r)}},primaryProperties:["https://purl.org/ctdlasn/terms/codedNotation","http://schema.org/name","http://schema.org/description"],secondaryProperties:["@id","http://purl.org/dc/terms/type","https://schema.cassproject.org/0.4/Competency/scope","https://purl.org/ctdlasn/terms/conceptTerm","https://schema.cassproject.org/0.4/Level","narrows","broadens","isEquivalentTo","isSimilarTo","isPartiallySameAs","isRelatedTo","enables","isEnabledBy"],tertiaryProperties:[]}},t3FrameworkProfile:function(){return{"@id":{"@id":"https://schema.cassproject.org/0.4/Framework/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"ID"}],readOnly:"true"},"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],isRequired:"true"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Description of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}]},"https://schema.cassproject.org/0.4/level":{"@id":"https://schema.cassproject.org/0.4/level","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":'The title that one who holds this performance level may assume. e.g. "Fast"'}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Available Levels"}]},"http://schema.org/publisher":{"@id":"http://schema.org/publisher","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The entity responsible for making this competency framework available."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher"}]},"http://purl.org/dc/elements/1.1/source":{"@id":"http://purl.org/dc/elements/1.1/source","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A URI to the original competency framework which this competency framework is based on or derived from."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Extracted From"}]},"http://schema.org/dateCreated":{"@id":"http://schema.org/dateCreated","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2001/XMLSchema#date"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Date of creation of this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Extraction Date"}]},primaryProperties:["http://schema.org/name","http://schema.org/description"],secondaryProperties:["@id","https://schema.cassproject.org/0.4/level","http://schema.org/publisher","http://purl.org/dc/elements/1.1/source","http://schema.org/dateCreated"],tertiaryProperties:[]}}}}},1310:function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},1776:function(e,t,r){},"18a3":function(e,t,r){"use strict";var s=r("2eb6"),i=r.n(s);i.a},"1a8c":function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},"25d8":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lode__hierarchy"},[r("div",{staticClass:"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless"},[e.canEdit&&"import"!==e.view||e.queryParams.select?r("div",{staticClass:"column is-narrow",attrs:{id:"check-radio-all-column"}},[r("div",{staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectAll,expression:"selectAll"}],staticClass:"is-checkradio",attrs:{id:"selectAllCheckbox",type:"checkbox",name:"selectAllCheckbox"},domProps:{checked:Array.isArray(e.selectAll)?e._i(e.selectAll,null)>-1:e.selectAll},on:{change:function(t){var r=e.selectAll,s=t.target,i=!!s.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);s.checked?a<0&&(e.selectAll=r.concat([o])):a>-1&&(e.selectAll=r.slice(0,a).concat(r.slice(a+1)))}else e.selectAll=i}}}),r("label",{attrs:{for:"selectAllCheckbox"}})])]):e._e(),r("div",{staticClass:"column is-narrow"},[e.expanded?r("div",{staticClass:"icon is-vcentered",on:{click:function(t){e.expanded=!1}}},[r("i",{staticClass:"fa fa-caret-down has-text-primary is-size-2"})]):e.expanded?r("div",{staticClass:"icon is-vcentered"},[r("i",{staticClass:"fa fa-circle is-size-6 has-text-light"})]):r("div",{staticClass:"icon is-vcentered",on:{click:function(t){e.expanded=!0}}},[r("i",{staticClass:"fa fa-caret-right has-text-primary is-size-2"})]),e.selectButtonText?r("div",{staticClass:"button is-outlined is-primary",on:{click:function(t){return e.$emit("select-button-click",e.selectedArray)}}},[e._v(" "+e._s(e.selectButtonText)+" ")]):e._e()]),r("div",{staticClass:"column is-narrow"},[r("div",{staticClass:"buttons"},[e.multipleSelected&&!e.addingNode&&"import"!==e.view&&e.canEdit?r("div",{staticClass:"button is-outlined is-primary",on:{click:function(t){return e.$emit("edit-multiple-event")}}},[e._m(0),r("span",[e._v(" Edit multiple ")])]):e._e(),e.addingNode||!e.canEdit||e.multipleSelected?e._e():r("div",{staticClass:"button is-outlined is-primary",on:{click:function(t){e.addingNode=!0}}},[e._m(1),r("span",[e._v(" "+e._s(e.addConceptOrChildText)+" ")])]),e.addingNode?r("div",{staticClass:"button is-outlined is-dark ",on:{click:function(t){e.addingNode=!1}}},[e._m(2),r("span",[e._v("cancel")])]):e._e(),e.addingNode?r("div",{staticClass:"button is-outlined is-primary ",on:{click:e.onClickCreateNew}},[e._m(3),r("span",[e._v(" create new ")])]):e._e(),"framework"===e.view||"concept"===e.view?r("div",{staticClass:"button is-outlined",class:e.canCopyOrCut?"is-primary":"is-disabled",attrs:{disabled:!e.canCopyOrCut,title:"Copy competency"},on:{click:e.copyClick}},[e._m(4)]):e._e(),"framework"===e.view||"concept"===e.view?r("div",{staticClass:"button is-outlined",class:e.canCopyOrCut?"is-primary":"is-disabled",attrs:{title:"Cut competency",disabled:!e.canCopyOrCut},on:{click:e.cutClick}},[e._m(5)]):e._e(),"framework"===e.view||"concept"===e.view?r("div",{staticClass:"button is-outlined ",class:e.canPaste?"is-primary":"is-disabled",attrs:{disabled:!e.canPaste,title:"Paste competency"},on:{click:e.pasteClick}},[e._m(6)]):e._e()])]),"import"===e.view?r("div",{staticClass:"column"},[r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:" button is-light is-pulled-right is-dark is-outlined",on:{click:e.cancelImport}},[r("span",[e._v(" Cancel ")]),e._m(7)]),r("div",{staticClass:"button is-dark is-outlined is-pulled-right",on:{click:function(t){return e.$store.dispatch("app/clearImport")}}},[r("span",[e._v(" import again ")]),e._m(8)]),r("div",{staticClass:"button is-dark is-outlined is-pulled-right",on:{click:e.openFramework}},[r("span",[e._v("view in editor")]),e._m(9)]),r("router-link",{staticClass:"button is-primary is-outlined is -pulled-right",attrs:{to:"/concepts"}},[r("span",[e._v(" Done ")]),r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-home"})])])],1)])]):e._e()]),e.hierarchy?[r("draggable",e._b({staticClass:"lode__hierarchy-ul",attrs:{tag:"ul",disabled:!0!==e.canEdit||!e.isDraggable,group:{name:"test"},handle:".handle"},on:{start:e.beginDrag,end:e.endDrag},model:{value:e.hierarchy,callback:function(t){e.hierarchy=t},expression:"hierarchy"}},"draggable",e.dragOptions,!1),e._l(e.hierarchy,(function(t,s){return r("HierarchyNode",{key:t.obj.id,staticClass:"lode__hierarchy-li",attrs:{view:e.view,subview:e.subview,obj:t.obj,dragging:e.dragging,canEdit:e.canEdit,hasChild:t.children,profile:e.profile,highlightList:e.highlightList,selectAll:e.selectAll,newFramework:e.newFramework,index:s,frameworkEditable:e.canEdit,selectedArray:e.selectedArray,parentStructure:e.hierarchy,parent:e.container,properties:e.properties,expandAll:1==e.expanded,parentChecked:!1,shiftKey:e.shiftKey,arrowKey:e.arrowKey},on:{"create-new-node-event":e.onCreateNewNode,"mounting-node":e.handleMountingNode,add:e.add,"begin-drag":e.beginDrag,move:e.move,select:e.select,"draggable-check":e.onDraggableCheck}})})),1)]:e._e()],2)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-cog"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-plus-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-plus"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-copy"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fas handle fa-cut"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-paste"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-redo-alt"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-edit"})])}],a=(s("99af"),s("fb6a"),s("a434"),s("d3b7"),s("872c")),n=s("6ffa4"),c={name:"ConceptHierarchy",props:{container:Object,containerType:String,repo:Object,profile:Object,highlightList:Array,selectMode:Boolean,selectAll:Boolean,containerTypeGet:String,viewOnly:Boolean,newFramework:Boolean,properties:String,view:{type:String,default:"framework"},subview:{type:String,default:""},doneDragging:{type:Boolean,default:!1}},data:function(){return{structure:[],once:!0,dragging:!1,controlOnStart:!1,filter:"showAll",dragIcon:"fa-arrows-alt",dragOptions:{delay:100,disabled:!1,ghostClass:"ghost-drag",chosenClass:"chosen-drag",dragClass:"drag",scrollSensitivity:200,forceFallback:!0},multipleSelected:!1,addingNode:!1,selectedArray:[],selectButtonText:null,expanded:!0,isDraggable:!0,shiftKey:!1,arrowKey:null,addConceptOrChildText:"Add Concept"}},components:{HierarchyNode:function(){return s.e("chunk-05f3d3fd").then(s.bind(null,"b709"))},draggable:function(){return s.e("chunk-4a5f46a6").then(s.t.bind(null,"b76a",7))}},mixins:[a["a"],n["a"]],computed:{canCopyOrCut:function(){return!(!this.selectedArray||1!==this.selectedArray.length)},canPaste:function(){return(null!==this.$store.getters["editor/copyId"]||null!==this.$store.getters["editor/cutId"])&&null!==this.$store.getters["editor/nodeInFocus"]},queryParams:function(){return this.$store.getters["editor/queryParams"]},addAnother:function(){return this.$store.getters["editor/addAnother"]},hierarchy:function(){var e=this;if(null==this.container)return null;if(!this.once)return this.structure;appLog("Computing hierarchy.");var t=[];return null!=this.container["skos:hasTopConcept"]&&(t=t.concat(this.container["skos:hasTopConcept"])),t.length>0?this.repo.multiget(t,(function(t){e.computeHierarchy()}),appError,appLog):e.computeHierarchy(),this.structure},canEdit:function(){return!0!==this.viewOnly&&this.container.canEditAny(EcIdentityManager.getMyPks())},recomputeHierarchy:function(){return this.$store.getters["editor/recomputeHierarchy"]}},watch:{container:{handler:function(){this.once=!0},deep:!0},selectedArray:function(){this.selectedArray.length>1?this.multipleSelected=!0:this.multipleSelected=!1,1===this.selectedArray.length?this.addConceptOrChildText="Add Child":this.addConceptOrChildText="Add Concept",this.$emit("selected-array",this.selectedArray)},recomputeHierarchy:function(){this.recomputeHierarchy&&(this.once=!0,this.$store.commit("editor/recomputeHierarchy",!1))},doneDragging:function(){this.doneDragging&&(this.dragging=!1)},addAnother:function(e){e&&(this.onClickCreateNew(),this.$store.commit("editor/addAnother",!1))}},mounted:function(){this.queryParams&&(this.queryParams.singleSelect&&(this.selectButtonText=this.queryParams.singleSelect),this.queryParams.select&&""!==this.queryParams.select&&"select"!==this.queryParams.select&&(this.selectButtonText=this.queryParams.select)),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup)},beforeDestroy:function(){window.removeEventListener("keyup",this.keyup),window.removeEventListener("keydown",this.keydown)},methods:{cutClick:function(){this.selectedArray&&1===this.selectedArray.length&&this.$store.commit("editor/cutId",this.selectedArray[0]),this.$store.commit("editor/copyId",null),this.$store.commit("editor/paste",!1)},copyClick:function(){this.selectedArray&&1===this.selectedArray.length&&this.$store.commit("editor/copyId",this.selectedArray[0]),this.$store.commit("editor/cutId",null),this.$store.commit("editor/paste",!1)},pasteClick:function(){this.$store.commit("editor/paste",!0)},keydown:function(e){this.canEdit&&(e.shiftKey&&(this.shiftKey=!0),-1!==e.key.indexOf("Arrow")&&e.shiftKey&&(this.arrowKey=e.key),"x"===e.key&&e.ctrlKey&&(this.selectedArray&&1===this.selectedArray.length&&this.$store.commit("editor/cutId",this.selectedArray[0]),this.$store.commit("editor/copyId",null),this.$store.commit("editor/paste",!1)),"c"===e.key&&e.ctrlKey&&(this.selectedArray&&1===this.selectedArray.length&&this.$store.commit("editor/copyId",this.selectedArray[0]),this.$store.commit("editor/cutId",null),this.$store.commit("editor/paste",!1)),"v"===e.key&&e.ctrlKey&&this.$store.commit("editor/paste",!0))},keyup:function(e){e.shiftKey||(this.shiftKey=!1),-1!==e.key.indexOf("Arrow")&&(this.arrowKey=null)},onCreateNewNode:function(e,t){this.add(e,t)},handleMountingNode:function(){this.startTime()},startTime:function(){var e=this;setTimeout((function(){e.$emit("done-loading-nodes")}),1e3)},computeHierarchy:function(){if(this.structure.splice(0,this.structure.length),null==this.container)return r;if(null!==this.container["skos:hasTopConcept"]&&void 0!==this.container["skos:hasTopConcept"])for(var e=0;e<this.container["skos:hasTopConcept"].length;e++){var t=EcConcept.getBlocking(this.container["skos:hasTopConcept"][e]);t&&(this.structure.push({obj:t,children:[]}),t["skos:narrower"]&&this.addChildren(this.structure,t,e))}this.once=!1},addChildren:function(e,t,r){for(var s=0;s<t["skos:narrower"].length;s++){var i=EcConcept.getBlocking(t["skos:narrower"][s]);e[r].children.push({obj:i,children:[]}),i&&i["skos:narrower"]&&this.addChildren(e[r].children,i,s)}},beginDrag:function(e){this.dragging=!0,void 0!==e&&(this.controlOnStart=e.originalEvent.ctrlKey||e.originalEvent.shiftKey)},endDrag:function(e){if("framework_drag"!==e.to.id){appLog(e.oldIndex,e.newIndex);var t=null,r=0;this.shiftKey&&(this.controlOnStart=!0),e.from.id===e.to.id?(e.newIndex<this.hierarchy.length&&(t=this.hierarchy[e.newIndex].obj.shortId()),r=1):void 0===e.to.children[e.newIndex]?t=e.to.id:e.newIndex+1<e.to.children.length&&(t=e.to.children[e.newIndex+1].id),this.move(this.hierarchy[e.oldIndex].obj.shortId(),t,e.from.id,e.to.id,!this.controlOnStart,r)}else this.dragging=!1},move:function(e,t,r,s,i,o){this.once=!0;var a=this;if(r===s){var n=EcConcept.getBlocking(s),c="skos:narrower";null===n&&(n=this.container,c="skos:hasTopConcept");var l=n[c]?n[c].slice():null,p=n[c].indexOf(e);if(n[c].splice(p,1),null==t||void 0===t)EcArray.isArray(n[c])||(n[c]=[]),n[c].push(e);else{var d=n[c].indexOf(t);n[c].splice(d,0,e)}a.$store.commit("editor/addEditsToUndo",[{operation:"update",id:n.shortId(),fieldChanged:[c],initialValue:[l]}]),n["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[n.id]&&(n=EcEncryptedValue.toEncryptedValue(n)),this.repo.saveTo(n,(function(){a.computeHierarchy()}),appError)}else{var h=EcConcept.getBlocking(e),m=EcConcept.getBlocking(r),u="skos:narrower",g="skos:broader",f=EcConcept.getBlocking(s),w="skos:narrower",y="skos:broader";null===m&&(m=this.container,u="skos:hasTopConcept",g="skos:topConceptOf"),null===f&&(f=this.container,w="skos:hasTopConcept",y="skos:topConceptOf");p=m[u].indexOf(e);var v=m[u].slice(),C=h[g]?h[g].slice():null,b=f[w]?f[w].slice():null,k=h[y]?h[y].slice():null;i&&m[u].splice(p,1),r&&h[g]?(i&&EcArray.setRemove(h[g],r),0===h[g].length&&delete h[g]):delete h[g],m["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[m.id]&&(m=EcEncryptedValue.toEncryptedValue(m)),this.repo.saveTo(m,(function(){if(null==t||void 0===t)EcArray.isArray(f[w])||(f[w]=[]),f[w].push(e);else{var r=f[w].indexOf(t);f[w].splice(r,0,e)}EcArray.isArray(h[y])||(h[y]=[]),s?h[y].push(s):h[y].push(a.container.shortId()),a.$store.commit("editor/addEditsToUndo",[{operation:"update",id:m.shortId(),fieldChanged:[u],initialValue:[v]},{operation:"update",id:f.shortId(),fieldChanged:[w],initialValue:[b]},{operation:"update",id:h.shortId(),fieldChanged:[g,y],initialValue:[C,k]}]),f["schema:dateModified"]=(new Date).toISOString(),h["schema:dateModified"]=(new Date).toISOString(),!0===a.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[f.id]&&(f=EcEncryptedValue.toEncryptedValue(f)),!0===a.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[h.id]&&(h=EcEncryptedValue.toEncryptedValue(h)),a.repo.saveTo(f,(function(){a.repo.saveTo(h,appLog,appError),a.computeHierarchy()}),appLog)}),appError)}this.dragging=!1},add:function(e,t){var s=this,i=new EcConcept;if(this.queryParams.newObjectEndpoint?i.generateShortId(this.queryParams.newObjectEndpoint):i.generateId(this.repo.selectedServer),i["schema:dateCreated"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),this.container.owner&&this.container.owner.length>0)for(var o=0;o<this.container.owner.length;o++){var a=this.container.owner[o];i.addOwner(EcPk.fromPem(a))}if(this.container.reader&&this.container.reader.length>0)for(o=0;o<this.container.reader.length;o++){var n=this.container.reader[o];r.addReader(EcPk.fromPem(n))}if(this.setDefaultLanguage(),i["skos:prefLabel"]={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Concept"},i["skos:inScheme"]=this.container.shortId(),e===this.container.shortId()){var c=this.container["skos:hasTopConcept"]?this.container["skos:hasTopConcept"].slice():null;if(EcArray.isArray(this.container["skos:hasTopConcept"])||(this.container["skos:hasTopConcept"]=[]),null==t||void 0===t)this.container["skos:hasTopConcept"].push(i.shortId());else{var l=this.container["skos:hasTopConcept"].indexOf(t);this.container["skos:hasTopConcept"].splice(l+1,0,i.shortId())}i["skos:topConceptOf"]=this.container.shortId(),s.$store.commit("editor/addEditsToUndo",[{operation:"addNew",id:i.shortId()},{operation:"update",id:this.container.shortId(),fieldChanged:["skos:hasTopConcept"],initialValue:[c]}]),this.container["schema:dateModified"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&(i=EcEncryptedValue.toEncryptedValue(i),!0!==EcEncryptedValue.encryptOnSaveMap[s.container.id]&&(s.container=EcEncryptedValue.toEncryptedValue(s.container))),this.repo.saveTo(i,(function(){s.repo.saveTo(s.container,(function(){s.once=!0}),appError)}),appError)}else{i["skos:broader"]=[e];var p=EcConcept.getBlocking(e);c=p["skos:narrower"]?p["skos:narrower"].slice():null;if(EcArray.isArray(p["skos:narrower"])||(p["skos:narrower"]=[]),null==t||void 0===t)p["skos:narrower"].push(i.shortId());else{l=p["skos:narrower"].indexOf(t);p["skos:narrower"].splice(l+1,0,i.shortId())}s.$store.commit("editor/addEditsToUndo",[{operation:"addNew",id:i.shortId()},{operation:"update",id:p.shortId(),fieldChanged:["skos:narrower"],initialValue:[c]}]),this.container["schema:dateModified"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),p["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&(i=EcEncryptedValue.toEncryptedValue(i),!0!==EcEncryptedValue.encryptOnSaveMap[p.id]&&(p=EcEncryptedValue.toEncryptedValue(p)),!0!==EcEncryptedValue.encryptOnSaveMap[s.container.id]&&(s.container=EcEncryptedValue.toEncryptedValue(s.container))),this.repo.saveTo(i,(function(){s.repo.saveTo(p,(function(){s.repo.saveTo(s.container,(function(){s.once=!0}),appError)}),appError)}),appError)}this.$store.commit("editor/newCompetency",i.shortId()),appLog("Added node: ",JSON.parse(i.toJson()))},select:function(e,t){t?EcArray.setAdd(this.selectedArray,e):EcArray.setRemove(this.selectedArray,e)},onDraggableCheck:function(e){this.isDraggable=e},cancelImport:function(){this.deleteObject(this.container),this.$store.dispatch("app/clearImport")},openFramework:function(){var e=EcConceptScheme.getBlocking(this.container.shortId());this.$store.commit("editor/framework",e),this.$router.push({name:"conceptScheme",params:{frameworkId:this.container.id}})},onClickCreateNew:function(){var e=this.container.shortId();1===this.selectedArray.length&&(e=this.selectedArray[0]),this.add(e,null),this.addingNode=!1}}},l=c,p=(s("08bc"),s("2877")),d=Object(p["a"])(l,i,o,!1,null,null,null);t["default"]=d.exports},"29f3":function(e,t){var r=Object.prototype,s=r.toString;function i(e){return s.call(e)}e.exports=i},"2b3d":function(e,t,r){"use strict";r("3ca3");var s,i=r("23e7"),o=r("83ab"),a=r("0d3b"),n=r("da84"),c=r("37e8"),l=r("6eeb"),p=r("19aa"),d=r("5135"),h=r("60da"),m=r("4df4"),u=r("6547").codeAt,g=r("5fb2"),f=r("d44e"),w=r("9861"),y=r("69f3"),v=n.URL,C=w.URLSearchParams,b=w.getState,k=y.set,T=y.getterFor("URL"),_=Math.floor,x=Math.pow,I="Invalid authority",E="Invalid scheme",P="Invalid host",S="Invalid port",F=/[A-Za-z]/,$=/[\d+-.A-Za-z]/,j=/\d/,A=/^(0x|0X)/,O=/^[0-7]+$/,D=/^\d+$/,R=/^[\dA-Fa-f]+$/,L=/[\0\t\n\r #%/:?@[\\]]/,M=/[\0\t\n\r #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\t\n\r]/g,V=function(e,t){var r,s,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return P;if(r=B(t.slice(1,-1)),!r)return P;e.host=r}else if(Q(e)){if(t=g(t),L.test(t))return P;if(r=q(t),null===r)return P;e.host=r}else{if(M.test(t))return P;for(r="",s=m(t),i=0;i<s.length;i++)r+=Y(s[i],W);e.host=r}},q=function(e){var t,r,s,i,o,a,n,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),t=c.length,t>4)return e;for(r=[],s=0;s<t;s++){if(i=c[s],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=A.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?D:8==o?O:R).test(i))return e;a=parseInt(i,o)}r.push(a)}for(s=0;s<t;s++)if(a=r[s],s==t-1){if(a>=x(256,5-t))return null}else if(a>255)return null;for(n=r.pop(),s=0;s<r.length;s++)n+=r[s]*x(256,3-s);return n},B=function(e){var t,r,s,i,o,a,n,c=[0,0,0,0,0,0,0,0],l=0,p=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,l++,p=l}while(h()){if(8==l)return;if(":"!=h()){t=r=0;while(r<4&&R.test(h()))t=16*t+parseInt(h(),16),d++,r++;if("."==h()){if(0==r)return;if(d-=r,l>6)return;s=0;while(h()){if(i=null,s>0){if(!("."==h()&&s<4))return;d++}if(!j.test(h()))return;while(j.test(h())){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[l]=256*c[l]+i,s++,2!=s&&4!=s||l++}if(4!=s)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==p)return;d++,l++,p=l}}if(null!==p){a=l-p,l=7;while(0!=l&&a>0)n=c[l],c[l--]=c[p+a-1],c[p+--a]=n}else if(8!=l)return;return c},z=function(e){for(var t=null,r=1,s=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=s,r=i),s=null,i=0):(null===s&&(s=o),++i);return i>r&&(t=s,r=i),t},H=function(e){var t,r,s,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=_(e/256);return t.join(".")}if("object"==typeof e){for(t="",s=z(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),s===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},W={},G=h({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),K=h({},G,{"#":1,"?":1,"{":1,"}":1}),J=h({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var r=u(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return d(X,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&F.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},se=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},ne={},ce={},le={},pe={},de={},he={},me={},ue={},ge={},fe={},we={},ye={},ve={},Ce={},be={},ke={},Te={},_e={},xe={},Ie={},Ee=function(e,t,r,i){var o,a,n,c,l=r||ae,p=0,h="",u=!1,g=!1,f=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(N,"")),t=t.replace(U,""),o=m(t);while(p<=o.length){switch(a=o[p],l){case ae:if(!a||!F.test(a)){if(r)return E;l=ce;continue}h+=a.toLowerCase(),l=ne;break;case ne:if(a&&($.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(r)return E;h="",l=ce,p=0;continue}if(r&&(Q(e)!=d(X,h)||"file"==h&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,r)return void(Q(e)&&X[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=ve:Q(e)&&i&&i.scheme==e.scheme?l=le:Q(e)?l=me:"/"==o[p+1]?(l=pe,p++):(e.cannotBeABaseURL=!0,e.path.push(""),l=_e)}break;case ce:if(!i||i.cannotBeABaseURL&&"#"!=a)return E;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Ie;break}l="file"==i.scheme?ve:de;continue;case le:if("/"!=a||"/"!=o[p+1]){l=de;continue}l=ue,p++;break;case pe:if("/"==a){l=ge;break}l=Te;continue;case de:if(e.scheme=i.scheme,a==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&Q(e))l=he;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=xe;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=Te;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Ie}break;case he:if(!Q(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=Te;continue}l=ge}else l=ue;break;case me:if(l=ue,"/"!=a||"/"!=h.charAt(p+1))continue;p++;break;case ue:if("/"!=a&&"\\"!=a){l=ge;continue}break;case ge:if("@"==a){u&&(h="%40"+h),u=!0,n=m(h);for(var w=0;w<n.length;w++){var y=n[w];if(":"!=y||f){var v=Y(y,J);f?e.password+=v:e.username+=v}else f=!0}h=""}else if(a==s||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)){if(u&&""==h)return I;p-=m(h).length+1,h="",l=fe}else h+=a;break;case fe:case we:if(r&&"file"==e.scheme){l=be;continue}if(":"!=a||g){if(a==s||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)){if(Q(e)&&""==h)return P;if(r&&""==h&&(Z(e)||null!==e.port))return;if(c=V(e,h),c)return c;if(h="",l=ke,r)return;continue}"["==a?g=!0:"]"==a&&(g=!1),h+=a}else{if(""==h)return P;if(c=V(e,h),c)return c;if(h="",l=ye,r==we)return}break;case ye:if(!j.test(a)){if(a==s||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)||r){if(""!=h){var C=parseInt(h,10);if(C>65535)return S;e.port=Q(e)&&C===X[e.scheme]?null:C,h=""}if(r)return;l=ke;continue}return S}h+=a;break;case ve:if(e.scheme="file","/"==a||"\\"==a)l=Ce;else{if(!i||"file"!=i.scheme){l=Te;continue}if(a==s)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",l=xe;else{if("#"!=a){re(o.slice(p).join(""))||(e.host=i.host,e.path=i.path.slice(),se(e)),l=Te;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Ie}}break;case Ce:if("/"==a||"\\"==a){l=be;break}i&&"file"==i.scheme&&!re(o.slice(p).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=Te;continue;case be:if(a==s||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&te(h))l=Te;else if(""==h){if(e.host="",r)return;l=ke}else{if(c=V(e,h),c)return c;if("localhost"==e.host&&(e.host=""),r)return;h="",l=ke}continue}h+=a;break;case ke:if(Q(e)){if(l=Te,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=s&&(l=Te,"/"!=a))continue}else e.fragment="",l=Ie;else e.query="",l=xe;break;case Te:if(a==s||"/"==a||"\\"==a&&Q(e)||!r&&("?"==a||"#"==a)){if(oe(h)?(se(e),"/"==a||"\\"==a&&Q(e)||e.path.push("")):ie(h)?"/"==a||"\\"==a&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==s||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==a?(e.query="",l=xe):"#"==a&&(e.fragment="",l=Ie)}else h+=Y(a,K);break;case _e:"?"==a?(e.query="",l=xe):"#"==a?(e.fragment="",l=Ie):a!=s&&(e.path[0]+=Y(a,W));break;case xe:r||"#"!=a?a!=s&&("'"==a&&Q(e)?e.query+="%27":e.query+="#"==a?"%23":Y(a,W)):(e.fragment="",l=Ie);break;case Ie:a!=s&&(e.fragment+=Y(a,G));break}p++}},Pe=function(e){var t,r,s=p(this,Pe,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),n=k(s,{type:"URL"});if(void 0!==i)if(i instanceof Pe)t=T(i);else if(r=Ee(t={},String(i)),r)throw TypeError(r);if(r=Ee(n,a,null,t),r)throw TypeError(r);var c=n.searchParams=new C,l=b(c);l.updateSearchParams(n.query),l.updateURL=function(){n.query=String(c)||null},o||(s.href=Fe.call(s),s.origin=$e.call(s),s.protocol=je.call(s),s.username=Ae.call(s),s.password=Oe.call(s),s.host=De.call(s),s.hostname=Re.call(s),s.port=Le.call(s),s.pathname=Me.call(s),s.search=Ne.call(s),s.searchParams=Ue.call(s),s.hash=Ve.call(s))},Se=Pe.prototype,Fe=function(){var e=T(this),t=e.scheme,r=e.username,s=e.password,i=e.host,o=e.port,a=e.path,n=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",Z(e)&&(l+=r+(s?":"+s:"")+"@"),l+=H(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==n&&(l+="?"+n),null!==c&&(l+="#"+c),l},$e=function(){var e=T(this),t=e.scheme,r=e.port;if("blob"==t)try{return new Pe(t.path[0]).origin}catch(s){return"null"}return"file"!=t&&Q(e)?t+"://"+H(e.host)+(null!==r?":"+r:""):"null"},je=function(){return T(this).scheme+":"},Ae=function(){return T(this).username},Oe=function(){return T(this).password},De=function(){var e=T(this),t=e.host,r=e.port;return null===t?"":null===r?H(t):H(t)+":"+r},Re=function(){var e=T(this).host;return null===e?"":H(e)},Le=function(){var e=T(this).port;return null===e?"":String(e)},Me=function(){var e=T(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=T(this).query;return e?"?"+e:""},Ue=function(){return T(this).searchParams},Ve=function(){var e=T(this).fragment;return e?"#"+e:""},qe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&c(Se,{href:qe(Fe,(function(e){var t=T(this),r=String(e),s=Ee(t,r);if(s)throw TypeError(s);b(t.searchParams).updateSearchParams(t.query)})),origin:qe($e),protocol:qe(je,(function(e){var t=T(this);Ee(t,String(e)+":",ae)})),username:qe(Ae,(function(e){var t=T(this),r=m(String(e));if(!ee(t)){t.username="";for(var s=0;s<r.length;s++)t.username+=Y(r[s],J)}})),password:qe(Oe,(function(e){var t=T(this),r=m(String(e));if(!ee(t)){t.password="";for(var s=0;s<r.length;s++)t.password+=Y(r[s],J)}})),host:qe(De,(function(e){var t=T(this);t.cannotBeABaseURL||Ee(t,String(e),fe)})),hostname:qe(Re,(function(e){var t=T(this);t.cannotBeABaseURL||Ee(t,String(e),we)})),port:qe(Le,(function(e){var t=T(this);ee(t)||(e=String(e),""==e?t.port=null:Ee(t,e,ye))})),pathname:qe(Me,(function(e){var t=T(this);t.cannotBeABaseURL||(t.path=[],Ee(t,e+"",ke))})),search:qe(Ne,(function(e){var t=T(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ee(t,e,xe)),b(t.searchParams).updateSearchParams(t.query)})),searchParams:qe(Ue),hash:qe(Ve,(function(e){var t=T(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ee(t,e,Ie)):t.fragment=null}))}),l(Se,"toJSON",(function(){return Fe.call(this)}),{enumerable:!0}),l(Se,"toString",(function(){return Fe.call(this)}),{enumerable:!0}),v){var Be=v.createObjectURL,ze=v.revokeObjectURL;Be&&l(Pe,"createObjectURL",(function(e){return Be.apply(v,arguments)})),ze&&l(Pe,"revokeObjectURL",(function(e){return ze.apply(v,arguments)}))}f(Pe,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Pe})},"2b3e":function(e,t,r){var s=r("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")();e.exports=o},"2eb6":function(e,t,r){},3410:function(e,t,r){"use strict";var s=r("98d4"),i=r.n(s);i.a},3729:function(e,t,r){var s=r("9e69"),i=r("00fd"),o=r("29f3"),a="[object Null]",n="[object Undefined]",c=s?s.toStringTag:void 0;function l(e){return null==e?void 0===e?n:a:c&&c in Object(e)?i(e):o(e)}e.exports=l},"3dcd":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-multiline"},[e.selectedFramework?e._e():r("div",{staticClass:"column is-12"},[r("SearchBar",{attrs:{filterSet:"basic",allowShowFrameworks:e.allowShowFrameworks,searchType:e.searchType}})],1),e.selectedFramework?e._e():r("div",{staticClass:"column is-12"},[e.$store.state.lode.competencySearchModalOpen?r("List",{attrs:{type:e.searchTypeToPassToList,view:"search",parent:e.parent,repo:e.repo,click:e.select,searchOptions:e.searchOptions,paramObj:e.paramObj,disallowEdits:!0,selectingCompetency:!0,selected:e.selectedIds,displayFirst:e.displayFirst,idsNotPermittedInSearch:e.idsNotPermittedInSearch}}):e._e()],1),e.selectedFramework&&!e.hierarchyLoaded?r("div",[e._m(0)]):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hierarchyLoaded,expression:"hierarchyLoaded"}]},[e.selectedFramework?r("Thing",{attrs:{parent:e.parent,obj:e.selectedFramework,repo:e.repo,view:e.view,expandInModal:!0}}):e._e(),r("Hierarchy",{attrs:{parent:e.parent,container:e.selectedFramework,view:"competencySearch",containerType:"Framework",containerTypeGet:"EcFramework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",viewOnly:!0,repo:e.repo,highlightList:null,properties:"primary"},on:{"done-loading-nodes":function(t){e.hierarchyLoaded=!0},"selected-array":e.selectedArrayEvent}})],1)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-2x fa-pulse"})])}],o=(r("4de4"),r("a434"),r("b0c0"),r("f3f3")),a=r("713e"),n=r("9418"),c=r("098b"),l=r("872c"),p=r("2f62"),d=r("6b9e"),h={name:"CompetencySearch",props:{parent:{type:String,default:""},isActive:Boolean,view:{type:String,default:"modal"},idsNotPermittedInSearch:{type:Array,default:null},allowShowFrameworks:{type:Boolean,default:!1},clearFramework:{type:Boolean,default:!1}},components:{List:a["a"],SearchBar:d["a"],Hierarchy:n["default"],Thing:c["default"]},mixins:[l["a"]],data:function(){return{repo:window.repo,selectedIds:[],displayFirst:[],showMine:!1,sortBy:null,selectedFramework:null,hierarchyLoaded:!1}},created:function(){this.sortBy=!0===this.$store.getters["editor/conceptMode"]||"Concept"===this.searchType?"dcterms:title.keyword":"name.keyword",this.$store.commit("app/searchTerm","")},beforeDestroy:function(){this.$store.commit("app/searchTerm","")},computed:Object(o["a"])(Object(o["a"])({},Object(p["c"])({selectedCompetency:function(e){return e.editor.selectedCompetency},framework:function(e){return e.editor.framework},queryParams:function(e){return e.editor.queryParams},addingProperty:function(e){return e.lode.addingProperty}})),{},{nameOfSelectedCompetency:function(){return this.selectedCompetency&&this.selectedCompetency.name?this.selectedCompetency.getName():this.selectedCompetency?c["default"].getDisplayStringFrom(this.selectedCompetency["skos:prefLabel"]):""},copyOrLink:function(){return this.$store.state.lode.copyOrLink},frameworkName:function(){return this.framework?this.framework.getName():""},searchOptions:function(){var e="";if(this.queryParams&&null!=this.queryParams.filter&&(e+=" AND ("+this.queryParams.filter+")"),(this.showMine||this.queryParams&&!0!==this.$store.getters["editor/conceptMode"]&&"mine"===this.queryParams.show||this.queryParams&&!0===this.$store.getters["editor/conceptMode"]&&"mine"===this.queryParams.conceptShow)&&EcIdentityManager.ids.length>0){e+=" AND (";for(var t=0;t<EcIdentityManager.ids.length;t++){0!==t&&(e+=" OR ");var r=EcIdentityManager.ids[t];e+='\\*owner:"'+r.ppk.toPk().toPem()+'"',e+=' OR \\*owner:"'+this.addNewlinesToId(r.ppk.toPk().toPem())+'"'}e+=")"}return e},paramObj:function(){var e={size:20},t=this.$store.getters["app/searchTerm"];if(t&&0!==t.length)delete e.sort;else{var r="name.keyword"===this.sortBy||"dcterms:title.keyword"===this.sortBy?"asc":"desc";e.sort='[ { "'+this.sortBy+'": {"order" : "'+r+'" , "unmapped_type" : "long",  "missing" : "_last"}} ]'}return EcIdentityManager.ids.length>0&&this.queryParams&&(!0!==this.$store.getters["editor/conceptMode"]&&"mine"===this.queryParams.show||!0===this.$store.getters["editor/conceptMode"]&&"mine"===this.queryParams.conceptShow)&&(e.ownership="me"),e},searchType:function(){return this.$store.state.lode.searchType},sortResults:function(){return this.$store.getters["app/sortResults"]},quickFilters:function(){return this.$store.getters["app/quickFilters"]},filteredQuickFilters:function(){if(this.quickFilters){var e=this.quickFilters.filter((function(e){return!0===e.checked}));return appLog("filtered value",e),e}return[]},searchFrameworksInCompetencySearch:function(){return this.$store.getters["app/searchFrameworksInCompetencySearch"]},searchTypeToPassToList:function(){return"Competency"===this.searchType&&this.searchFrameworksInCompetencySearch?"Framework":this.searchType}}),mounted:function(){if(this.displayFirst.splice(0,this.displayFirst.length),this.$store.commit("app/searchTerm",""),!this.copyOrLink&&"Competency"===this.searchType&&this.framework.competency)for(var e=0;e<this.framework.competency.length;e++)if(this.framework.competency[e]!==this.selectedCompetency.shortId()&&(!this.idsNotPermittedInSearch||0===this.idsNotPermittedInSearch.length||!EcArray.has(this.idsNotPermittedInSearch,this.framework.competency[e]))){var t=EcRepository.getBlocking(this.framework.competency[e]);t&&this.displayFirst.push(t)}if("Level"===this.searchType&&this.framework.level)for(e=0;e<this.framework.level.length;e++){t=EcRepository.getBlocking(this.framework.level[e]);t&&this.displayFirst.push(t)}},methods:{resetModal:function(){this.$store.commit("app/closeModal"),this.selectedIds=[]},selectedArrayEvent:function(e){if(this.selectedIds=e,this.copyOrLink&&"Level"!==this.searchType||this.$store.commit("editor/selectedCompetenciesAsProperties",this.selectedIds),"true"===this.queryParams.selectRelations&&this.framework.relation)for(var t=0;t<this.framework.relation.length;t++){var r=EcAlignment.getBlocking(this.framework.relation[t]);EcArray.has(selectedArray,r.target)&&("true"===this.queryParams.selectVerbose?e.push(JSON.parse(rld.toJson())):e.push(r.shortId()))}},select:function(e){if("Framework"===e.type)return this.selectFramework(e);EcArray.has(this.selectedIds,e.shortId())?EcArray.setRemove(this.selectedIds,e.shortId()):this.selectedIds.push(e.shortId()),this.copyOrLink&&"Level"!==this.searchType||this.$store.commit("editor/selectedCompetenciesAsProperties",this.selectedIds)},selectFramework:function(e){this.selectedFramework=e,this.$emit("selectFramework",e)},addNewlinesToId:function(e){e=e.substring(0,26)+"\n"+e.substring(26);var t=e.length,r=27;while(r+64<t)e=e.substring(0,r+64)+"\n"+e.substring(r+64),r+=65,t++;return e=e.substring(0,t-24)+"\n"+e.substring(t-24),e}},watch:{sortResults:function(){"lastEdited"===this.sortResults.id?(this.sortBy="schema:dateModified",this.displayFirst.splice(0,this.displayFirst.length)):(this.sortBy=!0===this.$store.getters["editor/conceptMode"]||"Concept"===this.searchType?"dcterms:title.keyword":"name.keyword",this.displayFirst.splice(0,this.displayFirst.length))},filteredQuickFilters:function(){this.showMine=!1;for(var e=0;e<this.filteredQuickFilters.length;e++)"ownedByMe"===this.filteredQuickFilters[e].id&&(this.showMine=!0,this.displayFirst.splice(0,this.displayFirst.length))},selectedIds:function(e){"search-modal"===this.parent&&this.$emit("setSelectedIds",e)},clearFramework:function(){this.clearFramework&&this.selectFramework(null)}}},m=h,u=(r("18a3"),r("2877")),g=Object(u["a"])(m,s,i,!1,null,null,null);t["a"]=g.exports},"3e24":function(e,t,r){},"408c":function(e,t,r){var s=r("2b3e"),i=function(){return s.Date.now()};e.exports=i},"47e0":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main-layout",{class:e.importInfoVisible?"right-side-open":"",attrs:{rightActive:e.importInfoVisible,simple:!0},scopedSlots:e._u([{key:"top",fn:function(){return[r("div",{staticClass:"container",staticStyle:{"line-height":"38px"}},[r("div",{staticClass:"breadcrumb is-medium",attrs:{"aria-label":"breadcrumbs has-text-dark"}},[r("ul",[r("li",[r("router-link",{attrs:{to:"frameworks"}},[e._v(" CaSS ")])],1),r("li",[r("a",{attrs:{href:"#"}},[e._v("Import")])])])])])]},proxy:!0},{key:"body",fn:function(){return[r("div",{attrs:{id:"import"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"section"},["file"===e.importType?r("ImportFile",{attrs:{importFile:e.importFile,conceptMode:e.conceptMode,importTransition:e.importTransition}},[r("template",{slot:"import-file-title"},[r("h1",{staticClass:"title is-size-1 has-text-black"},[e.conceptMode&&"true"===e.queryParams.ceasnDataFields?r("span",[e._v(" Import a concept scheme ")]):e.conceptMode?r("span",[e._v(" Import a taxonomy ")]):r("span",[e._v("Import a framework")]),r("span",{staticClass:"button is-outlined is-primary is-pulled-right",on:{click:e.showRightAside}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-exclamation-circle"})]),r("span",[e._v(" info ")])])])]),r("template",{slot:"import-framework"},["detail"===e.importTransition?r("ImportDetails",{attrs:{detailsDetected:e.detailsDetected}}):e._e(),e.importFramework&&"preview"===e.importTransition?r("div",{staticClass:"import-preview"},[e.hierarchyIsdoneLoading?e._e():r("div",{staticClass:"section"},[r("ul",{staticClass:"processing-list"},[r("li"),r("li"),r("ul",[r("li"),r("li"),r("li")]),r("li"),r("li"),r("ul",[r("li"),r("li")])])]),r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:[{"is-hidden":!e.hierarchyIsdoneLoading},e.parentObjectClass],attrs:{obj:e.changedObj?e.changedObj:e.importFramework,repo:e.repo,profile:e.containerProfile,properties:"tertiary"},on:{"edit-node-event":e.onEditNode,"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"importPreview",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,viewOnly:!1,isDraggable:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"},on:{"done-loading-nodes":e.handleDoneLoading,"search-things":function(t){return e.handleSearch(t)},"edit-multiple-event":e.onEditMultiple,"selected-array":e.selectedArrayEvent}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!1,isDraggable:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"done-loading-nodes":e.handleDoneLoading,"search-things":function(t){return e.handleSearch(t)},"edit-multiple-event":e.onEditMultiple,"selected-array":e.selectedArrayEvent}}):e._e()],1):e.importFramework&&"light"===e.importTransition?r("div",{staticClass:"import-light"},[r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:e.parentObjectClass,attrs:{editingNode:e.editingNode,obj:e.changedObj?e.changedObj:e.importFramework,parentNotEditable:!0,profile:e.containerProfile,properties:"tertiary"},on:{"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{attrs:{view:"importLight",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,editable:!1,viewOnly:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"selected-array":e.selectedArrayEvent}}):e._e()],1):e._e()],1)],2):e._e(),"server"===e.importType?r("ImportServer",{attrs:{conceptMode:e.conceptMode,importTransition:e.importTransition},on:{"import-case":function(t){return e.handleImportFromTabs(t)}}},[r("template",{slot:"import-server-title"},[r("h1",{staticClass:"title is-size-1 has-text-black"},[e.conceptMode&&"true"===e.queryParams.ceasnDataFields?r("span",[e._v(" Import a concept scheme ")]):e.conceptMode?r("span",[e._v(" Import a taxonomy ")]):r("span",[e._v("Import a framework")]),r("span",{staticClass:"button is-outlined is-primary is-pulled-right",on:{click:e.showRightAside}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-exclamation-circle"})]),r("span",[e._v(" info ")])])])]),r("template",{slot:"import-framework"},[e.importFramework&&"preview"===e.importTransition?r("div",{staticClass:"import-preview"},[e.hierarchyIsdoneLoading?e._e():r("div",{staticClass:"section"},[r("ul",{staticClass:"processing-list"},[r("li"),r("li"),r("ul",[r("li"),r("li"),r("li")]),r("li"),r("li"),r("ul",[r("li"),r("li")])])]),r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:[{"is-hidden":!e.hierarchyIsdoneLoading},e.parentObjectClass],attrs:{obj:e.changedObj?e.changedObj:e.importFramework,repo:e.repo,profile:e.containerProfile,properties:"tertiary"},on:{"edit-node-event":e.onEditNode,"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"importPreview",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,viewOnly:!1,isDraggable:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"},on:{"done-loading-nodes":e.handleDoneLoading,"search-things":function(t){return e.handleSearch(t)},"edit-multiple-event":e.onEditMultiple,"selected-array":e.selectedArrayEvent}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!1,isDraggable:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"done-loading-nodes":e.handleDoneLoading,"search-things":function(t){return e.handleSearch(t)},"edit-multiple-event":e.onEditMultiple,"selected-array":e.selectedArrayEvent}}):e._e()],1):e.importFramework&&"light"===e.importTransition?r("div",{staticClass:"import-light"},[r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:e.parentObjectClass,attrs:{editingNode:e.editingNode,obj:e.changedObj?e.changedObj:e.importFramework,parentNotEditable:!0,profile:e.containerProfile,properties:"tertiary"},on:{"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{attrs:{view:"importLight",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,editable:!1,viewOnly:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"selected-array":e.selectedArrayEvent}}):e._e()],1):e._e()])],2):e._e(),"url"===e.importType?r("ImportUrl",{attrs:{conceptMode:e.conceptMode,importTransition:e.importTransition}},[r("template",{slot:"import-url-title"},[r("h1",{staticClass:"title is-size-1 has-text-black"},[e.conceptMode&&"true"===e.queryParams.ceasnDataFields?r("span",[e._v(" Import a concept scheme ")]):e.conceptMode?r("span",[e._v(" Import a taxonomy ")]):r("span",[e._v("Import a framework")]),r("span",{staticClass:"button is-outlined is-primary is-pulled-right",on:{click:e.showRightAside}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-exclamation-circle"})]),r("span",[e._v(" info ")])])])]),r("template",{slot:"import-framework"},[e.importFramework&&"preview"===e.importTransition?r("div",{staticClass:"import-preview"},[e.hierarchyIsdoneLoading?e._e():r("div",{staticClass:"section"},[r("ul",{staticClass:"processing-list"},[r("li"),r("li"),r("ul",[r("li"),r("li"),r("li")]),r("li"),r("li"),r("ul",[r("li"),r("li")])])]),r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:[{"is-hidden":!e.hierarchyIsdoneLoading},e.parentObjectClass],attrs:{obj:e.changedObj?e.changedObj:e.importFramework,repo:e.repo,profile:e.containerProfile,properties:"tertiary"},on:{"edit-node-event":e.onEditNode,"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"importPreview",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,viewOnly:!1,isDraggable:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"},on:{"done-loading-nodes":e.handleDoneLoading,"search-things":function(t){return e.handleSearch(t)},"edit-multiple-event":e.onEditMultiple,"selected-array":e.selectedArrayEvent}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!1,isDraggable:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"done-loading-nodes":e.handleDoneLoading,"search-things":function(t){return e.handleSearch(t)},"edit-multiple-event":e.onEditMultiple,"selected-array":e.selectedArrayEvent}}):e._e()],1):e.importFramework&&"light"===e.importTransition?r("div",{staticClass:"import-light"},[r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:e.parentObjectClass,attrs:{editingNode:e.editingNode,obj:e.changedObj?e.changedObj:e.importFramework,parentNotEditable:!0,profile:e.containerProfile,properties:"tertiary"},on:{"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{attrs:{view:"importLight",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,editable:!1,viewOnly:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"selected-array":e.selectedArrayEvent}}):e._e()],1):e._e()])],2):e._e(),"text"===e.importType?r("ImportText",{attrs:{conceptMode:e.conceptMode,importTransition:e.importTransition}},[r("template",{slot:"import-text-title"},[r("h1",{staticClass:"title is-size-1 has-text-black"},[e.conceptMode&&"true"===e.queryParams.ceasnDataFields?r("span",[e._v(" Import a concept scheme ")]):e.conceptMode?r("span",[e._v(" Import a taxonomy ")]):r("span",[e._v("Import a framework")]),r("span",{staticClass:"button is-outlined is-primary is-pulled-right",on:{click:e.showRightAside}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-exclamation-circle"})]),r("span",[e._v(" info ")])])])]),r("template",{slot:"import-framework"},[e.importFramework&&"light"===e.importTransition?r("div",{staticClass:"import-light"},[r(e.dynamicThing,{tag:"Component",staticClass:"framework-title",class:e.parentObjectClass,attrs:{editingNode:e.editingNode,obj:e.changedObj?e.changedObj:e.importFramework,parentNotEditable:!0,profile:e.containerProfile,properties:"tertiary",view:"importLight"},on:{"done-editing-node-event":e.onDoneEditingNode}}),e.importFramework&&!e.conceptMode?r("Hierarchy",{attrs:{view:"importLight",container:e.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:e.hierarchyProfile,editable:!1,viewOnly:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:e.repo,newFramework:!0,properties:"text"===e.importType?"primary":"tertiary"}}):e._e(),e.importFramework&&e.conceptMode?r("ConceptHierarchy",{class:{"is-hidden":!e.hierarchyIsdoneLoading},attrs:{view:"import",container:e.importFramework,containerType:"ConceptScheme",viewOnly:!0,repo:e.repo,newFramework:!0,profile:e.ctdlAsnConceptProfile,properties:"tertiary"},on:{"selected-array":e.selectedArrayEvent}}):e._e()],1):e._e()])],2):e._e()],1)])])]},proxy:!0}])},[r("template",{slot:"right"},[e.showRightAside&&"file"===e.importType?r("RightAside",[r("template",{slot:"right-aside-content"},[r("div",{staticClass:"cass--right-aside--content"},[r("div",{staticClass:"section"},[r("h2",{staticClass:"title is-size-4"},[e._v(" Import From a File ")]),r("p",{staticClass:"has-text-weight-bold"},[e._v(" Supported File Types ")]),r("div",{staticClass:"columns pt-4 is-multiline"},[r("div",{staticClass:"column is-narrow"},[e.conceptMode?e._e():r("div",{staticClass:"button is-outlined is-warning is-small",on:{click:function(t){return e.showImportModal("pdf")}}},[r("span",{staticClass:"icon",attrs:{title:"PDF files are experimentally supported. Click to learn more."}},[r("i",{staticClass:"fa fa-exclamation"})]),r("span",[e._v("PDF")])])]),r("div",{staticClass:"column is-narrow"},[e.conceptMode?e._e():r("div",{staticClass:"button is-outlined is-warning is-small",on:{click:function(t){return e.showImportModal("docx")}}},[r("span",{staticClass:"icon",attrs:{title:"Word documents and Docx files are experimental. Click to learn more."}},[r("i",{staticClass:"fa fa-exclamation"})]),r("span",[e._v("DOCX/WORD")])])]),r("div",{staticClass:"column is-narrow"},[r("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(t){return e.showImportModal("csv")}}},[r("span",{staticClass:"icon is-pulled-right",attrs:{title:"CSV files are supported, click to learn more."}},[r("i",{staticClass:"fa fa-check"})]),r("span",[e._v("CSV")])])]),r("div",{staticClass:"column is-narrow"},[e.conceptMode?e._e():r("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(t){return e.showImportModal("xml")}}},[r("span",{staticClass:"icon is-pulled-right",attrs:{title:"XML files are supported, click to learn more."}},[r("i",{staticClass:"fa fa-check"})]),r("span",[e._v("XML")])])]),r("div",{staticClass:"column is-narrow"},[r("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(t){return e.showImportModal("json")}}},[r("span",{staticClass:"icon is-pulled-right",attrs:{title:"JSON files are supported, click to learn more."}},[r("i",{staticClass:"fa fa-check"})]),r("span",[e._v("JSON")])])]),r("div",{staticClass:"column is-narrow"},[e.conceptMode?e._e():r("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(t){return e.showImportModal("html")}}},[r("span",{staticClass:"icon is-pulled-right",attrs:{title:"html files are fully supported at this time"}},[r("i",{staticClass:"fa fa-check"})]),r("span",[e._v("HTML")])])])]),r("br"),r("p",{staticClass:"has-text-weight-bold"},[e._v(" Steps to import from file ")]),e.conceptMode?r("ul",{staticClass:"cat__bullet-list is-size-6"},[r("li",[e._v(" Click inside the “Files to Upload” box or drag and drop a file inside the dashed box. ")]),r("li",[e._v(" Once your file has been uploaded, CaSS will detect a "+e._s(e.taxonomyTerminology)+" from the file and display details about your "+e._s(e.taxonomyTerminology)+". ")]),r("li",[e._v(" If the details are correct, click “Import” to review and edit your "+e._s(e.taxonomyTerminology)+". ")]),r("li",[e._v(" A preview of your "+e._s(e.taxonomyTerminology)+" will display, your "+e._s(e.taxonomyTerminology)+" is now in CaSS! ")]),r("li",[e._v(' click "done" to navigate to the '+e._s(e.taxonomyTerminology)+" in the editor where you can continue editing as well as export to a variety of formats. ")])]):r("ul",{staticClass:"cat__bullet-list is-size-6"},[r("li",[e._v(" Click inside the “Files to Upload” box or drag and drop a file inside the dashed box. ")]),r("li",[e._v(" Once your file has been uploaded, CaSS will detect a competency framework from the file and display details about your framework. ")]),r("li",[e._v(" If the details are correct, click “Accept and Review” to review and edit your framework. ")]),r("li",[e._v(" An editable preview of your framework will be available. When you are done making changes, click “Done Editing”. ")]),r("li",[e._v(" An uneditable preview of your framework will display, your framework is now in CaSS! ")]),r("li",[e._v(' click "done" to navigate to the framework in the editor where you can continue editing as well as export to a variety of formats. ')]),r("li",[e._v(" If your framework is not detected by CaSS or not imported properly, let us know at "),r("a",{attrs:{href:"mailto:cass@eduworks.com?subject=File+to+Improve+CaSS+Importer"}},[e._v("cass@eduworks.com")]),e._v(" and we will look into the inquiry and provide a response. ")])])])])])],2):e._e(),e.showRightAside&&"server"===e.importType?r("RightAside",[r("template",{slot:"right-aside-content"},[r("div",{staticClass:"cass--right-aside--content"},[r("div",{staticClass:"section"},[r("h2",{staticClass:"title is-size-4"},[e._v(" Remote Server Import ")]),r("p",{staticClass:"has-text-weight-bold"},[e._v(" If you know the URL of a IMS CASE Repository, such as OpenSalt, you can import published frameworks from that repository. ")]),r("br"),r("ul",{staticClass:"cat__bullet-list"},[r("li",{staticClass:"is-size-6"},[e._v(" A CASE framework cannot be imported if it uses API Key authentication. ")]),r("li",{staticClass:"is-size-6"},[e._v(" This import maintains the URLs of the CASE frameworks and changes both the format and schema used to store the CASE frameworks in CaSS, but does not change any of the data. ")]),r("li",{staticClass:"is-size-6"},[e._v(" After entering the endpoint below, you can select which frameworks you would like to import. ")]),r("li",{staticClass:"is-size-6"},[e._v(" If you wish to edit the frameworks after importing, please be sure you are signed in. ")])]),r("br"),r("p",{staticClass:"has-text-weight-bold"},[e._v(" If you know the URL of another CaSS Repository, you can import frameworks from that repository. ")]),r("br"),r("ul",{staticClass:"cat__bullet-list"},[r("li",{staticClass:"is-size-6"},[e._v(" This import maintains the URLs of the CaSS frameworks but does not change any of the data besides the owner. If you are logged in, you will have ownership of the newly imported framework and be able to edit it. ")]),r("li",{staticClass:"is-size-6"},[e._v(" After entering the endpoint below, you can select which frameworks you would like to import. ")]),r("li",{staticClass:"is-size-6"},[e._v(" If the other repository has directories, these will appear at the top of the list. You can click on a directory to view and select frameworks within it. ")]),r("li",{staticClass:"is-size-6"},[e._v(" Use the search bar to find particular frameworks or directories. ")])])])])])],2):e._e(),e.showRightAside&&"text"===e.importType?r("RightAside",[r("template",{slot:"right-aside-content"},[r("div",{staticClass:"cass--right-aside--content"},[r("div",{staticClass:"section"},[r("h2",{staticClass:"title is-size-4"},[e._v(" Paste Text ")]),r("p",{staticClass:"is-size-6"},[e._v(" If you have a list of competency names, you can organize them into a new framework by pasting here. ")]),r("br"),r("p",{staticClass:"has-text-weight-bold"},[e._v(" Instructions ")]),r("ul",{staticClass:"cat__bullet-list is-size-6"},[r("li",[e._v(" Copy and paste from a document or start typing in the text area. ")]),r("li",[e._v(" Give your framework a name. ")]),r("li",[e._v(" List each competency on a separate line. ")]),r("li",[e._v(" 1 space indicates one level of indentation in the hierarchy. ")]),r("li",[e._v(" To the right of the text box, you will see a preview of the hierarchy you are creating and can make any needed adjustments before importing. ")]),r("li",[e._v(" Once you are done select the import button to complete the immport process and view the framework in the editor. ")])]),"light"===e.importTransition&&"text"!==e.importType?r("p",{staticClass:"is-size-6"},[r("span",{staticClass:"has-text-success has-text-weight-bold"},[e._v(" Your import is complete! ")])]):e._e()])])])],2):e._e(),e.showRightAside&&"url"===e.importType?r("RightAside",[r("template",{slot:"right-aside-content"},[r("div",{staticClass:"cass--right-aside--content"},[r("div",{staticClass:"section"},[r("h2",{staticClass:"title is-size-4"},[e._v(" Import From URL Source ")]),r("p",{staticClass:"is-size-6 pb-4"},[e._v(" If you know the URL of a CTDL-ASN JSON-LD graph, you can import published frameworks by URL. ")]),r("p",{staticClass:"has-text-weight-bold"},[e._v(" URL Import Instructions ")]),r("ul",{staticClass:"cat__bullet-list is-size-6"},[r("li",[e._v(" This import maintains the URLs of the original frameworks and changes both the format and schema used to store the CTDL-ASN frameworks in CaSS, but does not change any of the data. ")]),r("li",[e._v(" If you wish to edit the framework after importing by URL, please be sure you are signed in. ")]),r("li",[r("b",[e._v("Please note that the Technology Skills framework in the URL Import Examples is very large and will take a long time to import.")])])])])])])],2):e._e()],1)],2)},i=[],o=r("dd98"),a=r("713b"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-mobile",attrs:{id:"import-from-file"}},[r("div",{staticClass:"column is-12"},[r("div",{staticClass:"container py-6"},[e._t("import-file-title",[r("p",[e._v("Nothing send from import.vue")])]),r("div",{staticClass:"columns is-multiline"},[r("div",{staticClass:"column is-12"},[r("ImportTabs")],1),"process"===e.importTransition||"upload"===e.importTransition||"info"===e.importTransition?r("div",{staticClass:"column is-12"},[r("div",{staticClass:"has-dashed-border columns is-vcentered has-text-centered",attrs:{id:"drop-area"}},["upload"===e.importTransition?r("drag-and-drop",{staticClass:"column is-12",on:{"clear-files":e.clearFiles}}):"process"!==e.importTransition&&"info"!==e.importTransition||0!==e.importErrors.length?e.importErrors.length>0?r("div",{staticClass:"column has-text-danger"},[r("ul",[e._l(e.importErrors,(function(t,s){return r("li",{key:s,staticClass:"is-size-6"},[r("span",{},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})]),e._v(" "+e._s(t)+" ")])])})),r("li")],2),r("div",{staticClass:"section"},[r("div",{staticClass:"buttons is-centered"},[r("div",{staticClass:"button is-primary",on:{click:function(t){return e.resetImport()}}},[r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-redo"})]),r("span",[e._v("start over")])])])])]):e._e():r("div",{staticClass:"column"},[r("div",{staticClass:"section has-text-centered"},["process"===e.importTransition?r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})]):e._e()]),r("div",{staticClass:"section"},[r("p",{staticClass:"is-size-6"},[e._v(" "+e._s(e.importStatus)+" ")])])])],1),"csv"==e.importFileType&&"file"==e.importType?r("div",{staticClass:"section csv-input"},[e._l(e.csvImportDetails,(function(t){return r("div",{key:t,staticClass:"field"},[r("label",{staticClass:"label"},[e._v(" "+e._s(t.label)+" ")]),"string"===t.type?r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"input",domProps:{value:t.value},on:{input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}})]):"column"===t.type?r("div",{staticClass:"control"},[r("div",{staticClass:"select is-smal"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],on:{change:function(r){var s=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",r.target.multiple?s:s[0])}}},[r("option",{attrs:{value:"",selected:""}},[e._v(" N/A ")]),e._l(e.csvColumns,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])}))],2)])]):"file"===t.type?r("div",{staticClass:"file is-primary"},[r("label",{staticClass:"file-label"},[r("input",{staticClass:"file-input",attrs:{type:"file",name:"relation-file"},on:{change:e.analyzeCsvRelation}}),e._m(0,!0)])]):e._e()])})),e.csvRelationFile?e._l(e.csvRelationDetails,(function(t){return r("div",{key:t,staticClass:"field"},[r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v(" "+e._s(t.label)+" ")]),r("div",{staticClass:"select is-small"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],on:{change:function(r){var s=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",r.target.multiple?s:s[0])}}},[r("option",{attrs:{value:"",selected:""}},[e._v(" n/a ")]),e._l(e.csvRelationColumns,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])}))],2)])])])})):e._e()],2):"medbiq"==e.importFileType&&"file"==e.importType?r("div",e._l(e.medbiqDetails,(function(t){return r("div",{key:t,staticClass:"field"},[r("label",{staticClass:"label"},[e._v(" "+e._s(t.label)+" ")]),r("div",{staticClass:"control"},["string"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"input",domProps:{value:t.value},on:{input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}}):e._e()])])})),0):e._e(),"file"===e.importType&&"info"===e.importTransition?r("div",{staticClass:"buttons is-right"},[e.importFile&&"file"===e.importType&&"pdf"!==e.importFileType?r("div",{staticClass:"button is-pulled-right is-outlined is-dark",on:{click:e.cancelImport}},[e._m(1),r("span",[e._v(" Cancel ")])]):e._e(),e.importFile&&"file"===e.importType&&"pdf"!==e.importFileType?r("div",{staticClass:"button is-pulled-right is-outlined is-primary",on:{click:e.prepareToImportNonPdf}},[e._m(2),r("span",[e._v(" Import ")])]):e._e()]):e._e()]):e._e(),r("div",{staticClass:"column is-12"},[e._t("import-framework")],2)])],2)])])},c=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"file-cta"},[r("span",{staticClass:"file-icon"},[r("i",{staticClass:"fas fa-upload"})]),r("span",{staticClass:"file-label"},[e._v(" Choose a file… ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-upload"})])}],l=(r("a4d3"),r("e01a"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container is-fluid",attrs:{id:"import-bottom-section"}},[!e.importFramework||e.importFramework&&"text"===e.importType?r("div",{staticClass:"pt-4"},[r("div",{staticClass:"tile is-vertical"},[r("div",{staticClass:"section is-medium"},[r("div",{staticClass:"columns is-multiline is-mobile"},[r("div",{staticClass:"column"},[r("div",{staticClass:"import-tab",class:{"is-active-tab":"file"===e.importType}},[r("a",{on:{click:function(t){return e.$store.commit("app/importType","file")}}},[r("i",{staticClass:"fa fa-2x fa-file has-text-centered is-block",attrs:{"aria-hidden":"true"}}),r("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[e._v(" File Import ")])])])]),e.conceptMode?e._e():r("div",{staticClass:"column"},[r("div",{staticClass:"import-tab",class:{"is-active-tab":"server"===e.importType}},[r("a",{on:{click:function(t){return e.$store.commit("app/importType","server")}}},[r("i",{staticClass:"fa fa-2x fa-server is-block has-text-centered",attrs:{"aria-hidden":"true"}}),r("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[e._v(" Remote Server ")])])])]),e.conceptMode?e._e():r("div",{staticClass:"column"},[r("div",{staticClass:"import-tab",class:{"is-active-tab":"text"===e.importType}},[r("a",{on:{click:function(t){return e.$store.commit("app/importType","text")}}},[r("i",{staticClass:"fa fa-2x fa-paste has-text-centered is-block",attrs:{"aria-hidden":"true"}}),r("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[e._v(" Paste Text ")])])])]),e.conceptMode?e._e():r("div",{staticClass:"column"},[r("div",{staticClass:"import-tab",class:{"is-active-tab":"url"===e.importType}},[r("a",{on:{click:function(t){return e.$store.commit("app/importType","url")}}},[r("i",{staticClass:"fa fa-link has-text-centered is-block fa-2x",attrs:{"aria-hidden":"true"}}),r("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[e._v(" URL Source ")])])])])])])])]):e._e(),"file"===e.importType?r("div",[r("h2",{staticClass:"is-size-3"},[e._v(" Import from file ")]),r("span",[e._v("Status: "),"upload"!==e.importTransition||e.importFile&&0!==e.importFile.length||!e.conceptMode?"process"===e.importTransition?r("span",{staticClass:"is-size-5 has-text-dark"},[e._v(" processing ")]):"upload"!==e.importTransition||e.importFile&&0!==e.importFile.length?"detail"===e.importTransition?r("span",[e._m(0)]):e._e():r("span",{staticClass:"is-size-5"},[e._v(" Upload documents to transform into CaSS Competency Frameworks. ")]):r("span",{staticClass:"is-size-5 has-text-dark"},[e._v(" Upload documents to transform into CaSS "+e._s("true"===e.queryParams.ceasnDataFields?"Concept Schemes":"Taxonomies")+". ")]),"preview"===e.importTransition?r("span",[null!==e.frameworkSize?r("span",{staticClass:" is-size-5 has-text-success has-text-weight-bold"},[e._v(" Import success, "+e._s(e.frameworkSize)+" competencies ready to edit. ")]):r("span",{staticClass:" is-size-5 has-text-success has-text-weight-bold"},[e._v(" Import success, concepts ready to edit. ")])]):e._e(),"light"===e.importTransition&&"text"!==e.importType?r("span",[e._m(1)]):e._e()])]):e._e(),"server"===e.importType?r("div",[r("h2",{staticClass:" is-size-3"},[e._v(" Import from remote server ")]),r("span",[e._v("Status: "),"process"===e.importTransition?r("span",[e._m(2)]):"importingCaseFrameworks"===e.importTransition?r("span",[e._v(" Processing... ")]):"upload"===e.importTransition?r("span",[e._v(" Ready ")]):r("span",[e._v(" "+e._s(e.importStatus)+" ")])])]):e._e(),"text"===e.importType?r("div",{},[r("h2",{staticClass:"is-size-3"},[e._v(" Import framework from text ")]),r("span",[e._v(" Status: "),"upload"===e.importTransition?r("span",[e._v(" Ready ")]):e._e(),r("span",[e._v(" "+e._s(e.importStatus)+" ")])])]):e._e(),"url"===e.importType?r("div",[r("h2",{staticClass:" is-size-3"},[e._v(" Import from URL source ")]),r("span",["upload"===e.importTransition?r("span",[e._v(" Ready ")]):"light"===e.importTransition?r("span",[e._v(" Complete ")]):"preview"===e.importTransition?r("span",[e._v(" Processed, ready to edit ")]):r("span",[e._v(" "+e._s(e.importStatus)+" ")])])]):r("h2")])}),p=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"is-size-5"},[r("span",{staticClass:"has-text-success has-text-weight-bold"},[e._v(" CaSS has detected a framework! ")]),r("br"),r("br"),e._v(" Please review the competency framework and file details gathered below. To continue with the input of this competency framework, press Accept Details & Review. To cancel and review or change your input file, press cancel. ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"is-size-5"},[r("span",{staticClass:"has-text-success has-text-weight-bold"},[e._v(" Your import is complete! ")]),r("br"),r("br")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})])}],d=(r("99af"),r("a434"),r("d3b7"),r("ac1f"),r("8a79"),r("3ca3"),r("5319"),r("841c"),r("498a"),r("ddb0"),r("2b3d"),{data:function(){return{repo:window.repo}},methods:{showRightAside:function(){this.$store.commit("app/showRightAside",{})},selectedArrayEvent:function(e){this.selectedArray=e},clearFiles:function(){this.$store.commit("app/clearImportFiles")},cancelImport:function(){this.$emit("delete-object",this.importFramework),this.resetImport()},resetImport:function(){this.$store.commit("app/resetImport")},onEditMultiple:function(){this.showEditMultiple=!0;var e={profile:this.hierarchyProfile,selectedCompetencies:this.selectedArray,component:"MultiEdit"};this.$store.commit("app/showModal",e)},handleSearch:function(e){this.$store.commit("app/showModal",e)},onEditNode:function(){this.editingNode=!0},onDoneEditingNode:function(){this.changedObj=EcRepository.getBlocking(this.importFramework.shortId()),this.editingNode=!1},handleDoneLoading:function(){appLog("done loading"),this.hierarchyIsdoneLoading=!0},showModal:function(e,t){var r=this,s={};if("duplicate"===e)s={type:e,title:"Duplicate framework",text:"A framework has already been imported under the name "+t.name+". Do you want to overwrite it?",options:["Overwrite framework","Save import as a new framework"],currentName:t.name,onConfirm:function(e){return r.savePdfImport(t,e)},onCancel:function(){return r.clearImport()}};else if("duplicateOverwriteOnly"===e)s=!t[1]||EcIdentityManager.ids&&0!==EcIdentityManager.ids.length?{type:e,title:"Duplicate framework",text:(t[0].name?"The framework "+t[0].name:"This framework")+" has already been imported. If you're a framework admin you can overwrite it. Do you want to overwrite it?",onConfirm:function(){return"url"===r.importType?r.importJsonLd(t[0]):"cass"===r.serverType?r.continueCassImport(t[0]):r.continueCaseImport(t[0])},onCancel:function(){return"url"===r.importType?r.clearImport():"cass"===r.serverType?r.importCassFrameworks(t[0]):r.importCase(t[0])}}:{type:e,title:"Duplicate framework",text:(t[0].name?"The framework "+t[0].name:"This framework")+" has already been imported. You can overwrite it but will not be able to edit it since you're not logged in. Do you want to overwrite it?",onConfirm:function(){return"url"===r.importType?r.importJsonLd(t[0]):"cass"===r.serverType?r.continueCassImport(t[0]):r.continueCaseImport(t[0])},onCancel:function(){return t[0][1]?"cass"===r.serverType?r.importCassFrameworks(t[0]):r.importCase(t[0]):r.clearImport()}};else if("error"===e)return s={type:e,title:"Error",text:t.message,details:t.details},this.$store.commit("app/importModalParams",s),void this.$store.commit("app/showModal",{component:"ImportError"});this.$store.commit("app/importModalParams",s),this.$store.commit("app/showModal",{component:"DuplicateImport"})},unsupportedFile:function(e){this.$store.commit("app/importFileType",e);var t="File type "+fileType+" is unsupported in this workflow";this.$store.commit("app/addImportError",t),me.$store.commit("app/importTransition","process")},importSuccess:function(){if(this.conceptMode){var e="Taxonomy";"true"===this.queryParams.ceasnDataFields&&(e="Concept Scheme"),this.$store.commit("app/importStatus",e+" Imported."),this.$store.commit("app/importTransition","preview")}else{var t="Competency detected";this.$store.commit("app/importStatus",t),this.isT3Import?this.$store.commit("app/importTransition","detail"):this.$store.commit("app/importTransition","preview")}},importDetailsAccept:function(){this.$store.commit("app/importStatus","Edit and approve"),this.$store.commit("app/importTransition","preview")},importPreviewAccept:function(){this.$store.commit("app/importStatus","Import Complete!"),this.$store.commit("app/importTransition","light")},clearImport:function(){this.$store.commit("app/importFramework",null),this.$store.commit("app/clearImportFiles"),this.$store.commit("app/clearImportErrors"),this.$store.commit("app/importTransition","upload"),this.$store.commit("app/importStatus",""),this.$store.commit("app/importFeedback",""),this.$store.commit("app/importFileType",""),this.caseDocs&&(this.caseDocs=[])},uploadFiles:function(){this.fileChange(this.importFile)},fileChange:function(e){appLog("file change",e),this.$store.commit("app/clearImportErrors"),this.$store.commit("app/importTransition","process"),this.$store.commit("app/firstImport",!0),this.analyzeImportFile()},analyzeImportFile:function(){var e,t=this,r=this.importFile[0];if(appLog("file is",r),r.name.endsWith(".csv"))this.conceptMode?CTDLASNCSVConceptImport.analyzeFile(r,(function(r,s){t.$store.commit("app/importFileType","conceptcsv");var i="taxonomies";"true"===t.queryParams.ceasnDataFields&&(i="concept schemes"),e="Import "+r+" "+i+" and "+s+" concepts.",t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","info")}),(function(e){t.$store.commit("app/addImportError",e),t.$store.commit("app/importTransition","process")})):CTDLASNCSVImport.analyzeFile(r,(function(r,s){t.$store.commit("app/importFileType","ctdlasncsv"),e="Import "+r+" frameworks and "+s+" competencies.",t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","info")}),(function(e){CSVImport.analyzeFile(r,(function(e){t.$store.commit("app/importFileType","csv"),t.importFrameworkName=r.name.replace(".csv","");for(var s=0;s<e.length;s++)""===e[s][0]&&e.splice(s,1);for(var i=0;i<e[0].length;i++){var o={};o.name=e[0][i],o.index=i,t.csvColumns.push(o),-1!==o.name.toLowerCase().indexOf("name")&&(t.importCsvColumnName=o),-1!==o.name.toLowerCase().indexOf("description")&&(t.importCsvColumnDescription=o),-1!==o.name.toLowerCase().indexOf("scope")&&(t.importCsvColumnScope=o),-1!==o.name.toLowerCase().indexOf("id")&&(t.importCsvColumnId=o)}t.$store.commit("app/importStatus",(t.competencyCount=e.length-1)+" Competencies Detected."),t.$store.commit("app/importTransition","info")}),(function(e){t.$store.commit("app/addImportError",e),t.$store.commit("app/importTransition","process")}))}));else if(r.name.endsWith(".json")||r.name.endsWith(".jsonld"))this.analyzeJsonLdFramework(r,(function(e,r){var s,i,o=!1;if("ctdlasnConcept"===r)if(t.conceptMode)"true"===t.queryParams.ceasnDataFields?t.$store.commit("app/importStatus","1 Concept Scheme Detected."):t.$store.commit("app/importStatus","1 Taxonomy Detected."),t.$store.commit("app/importFileType","ctdlasnjsonld"),t.$store.commit("app/importTransition","info");else{if("true"===t.queryParams.ceasnDataFields)var a="Concept Schemes must be imported in the concept scheme editor.";else a="Taxonomies must be imported in the taxonomy editor.";o=!0,t.$store.commit("app/addImportError",a),t.$store.commit("app/importTransition","process")}else t.conceptMode?(s="Frameworks must be imported in the competency editor.",o=!0,t.$store.commit("app/addImportError",s),t.$store.commit("app/importTransition","process")):(t.$store.commit("app/importFileType","ctdlasnjsonld"),i="1 Framework and "+(EcObject.keys(e).length-1)+" Competencies Detected.",t.$store.commit("app/importStatus",i),t.$store.commit("app/importTransition","info"));if(t.competencyCount=EcObject.keys(e).length,o||"ctdlasn"!==r&&"ctdlasnConcept"!==r){if(!o){var n="Context is not CTDL-ASN";t.$store.commit("app/addImportError",n),t.$store.commit("app/importTransition","process")}}else;}),(function(e){r.name.endsWith(".json")&&!t.conceptMode?ASNImport.analyzeFile(r,(function(e){t.$store.commit("app/importFileType","asn"),t.$store.commit("app/importStatus","1 Framework and "+EcObject.keys(e).length+" Competencies Detected."),t.$store.commit("app/importTransition","info"),t.competencyCount=EcObject.keys(e).length}),(function(e){t.$store.commit("app/addImportError",e),t.$store.commit("app/importTransition","process")})):(t.$store.commit("app/addImportError",e),t.$store.commit("app/importTransition","process"))}));else if(r.name.endsWith(".xml"))this.conceptMode?(t.$store.commit("app/importTransition","process"),"true"===t.queryParams.ceasnDataFields?t.$store.commit("app/addImportError","This is not a valid file format for concept schemes"):t.$store.commit("app/addImportError","This is not a valid file format for taxonomies")):MedbiqImport.analyzeFile(r,(function(e){t.$store.commit("app/importFileType","medbiq"),t.importFrameworkName=r.name.replace(".xml",""),t.$store.commit("app/importStatus","1 Framework and "+EcObject.keys(e).length+" Competencies Detected."),t.competencyCount=EcObject.keys(e).length,t.$store.commit("app/importTransition","info")}),(function(e){t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e)}));else if(r.name.endsWith(".pdf"))this.conceptMode?(t.$store.commit("app/importTransition","process"),"true"===t.queryParams.ceasnDataFields?t.$store.commit("app/addImportError","This is not a valid file format for concept schemes"):t.$store.commit("app/addImportError","This is not a valid file format for taxonomies")):(t.$store.commit("app/importFileType","pdf"),t.firstImport=!1,t.detailsDetected.fileType="pdf",t.$store.commit("app/importStatus","File selected."),t.$store.commit("app/importTransition","info"));else if(r.name.endsWith(".docx"))this.conceptMode?(t.$store.commit("app/importTransition","process"),"true"===t.queryParams.ceasnDataFields?t.$store.commit("app/addImportError","This is not a valid file format for concept schemes"):t.$store.commit("app/addImportError","This is not a valid file format for taxonomies")):(t.$store.commit("app/importFileType","pdf"),t.firstImport=!1,t.$store.commit("app/importStatus","File selected."),t.$store.commit("app/importTransition","info"));else{if(!r.name.endsWith(".html")){t.$store.commit("app/importFileType","");var s="CaSS cannot read the file "+r.name+". Please check that the file has the correct file extension.";return t.$store.commit("app/addImportError",s),void t.$store.commit("app/importTransition","process")}this.conceptMode?(t.$store.commit("app/importTransition","process"),"true"===t.queryParams.ceasnDataFields?t.$store.commit("app/addImportError","This is not a valid file format for concept schemes"):t.$store.commit("app/addImportError","This is not a valid file format for taxonomies")):(t.$store.commit("app/importFileType","pdf"),t.detailsDetected.fileType="html",t.firstImport=!1,t.$store.commit("app/importStatus","File selected."),t.$store.commit("app/importTransition","info"))}t.firstImport||t.importFromFile()},analyzeCsvRelation:function(e){appLog(e);var t,r=e.target.files||e.dataTransfer.files;t=r.length?r[0]:null,this.$store.commit("app/csvRelationFile",t);var s=this;CSVImport.analyzeFile(t,(function(e){for(var t=0;t<e[0].length;t++){var r={};r.name=e[0][t],r.index=t,s.csvRelationColumns.push(r),-1!==r.name.toLowerCase().indexOf("source")&&(s.importSourceColumn=r),-1!==r.name.toLowerCase().indexOf("origin")&&(s.importSourceColumn=r),-1!==r.name.toLowerCase().indexOf("type")&&(s.importRelationColumn=r),-1!==r.name.toLowerCase().indexOf("target")&&(s.importTargetColumn=r),-1!==r.name.toLowerCase().indexOf("destination")&&(s.importTargetColumn=r)}s.relationCount=e.length-1}),(function(e){s.$store.commit("app/importStatus",e),s.$store.commit("app/importTransition","process"),s.$store.commit("app/addImportError",e)}))},analyzeJsonLdFramework:function(e,t,r){if(null!=e)if(null!=e["name"]){var s=new FileReader;s.onload=function(e){var s=e["target"]["result"],i=JSON.parse(s);i["@graph"]?"http://credreg.net/ctdlasn/schema/context/json"===i["@context"]||"http://credreg.net/ctdl/schema/context/json"===i["@context"]||"https://credreg.net/ctdlasn/schema/context/json"===i["@context"]||"https://credreg.net/ctdl/schema/context/json"===i["@context"]?-1!==i["@graph"][0]["@type"].indexOf("Concept")?t(i["@graph"],"ctdlasnConcept"):t(i["@graph"],"ctdlasn"):t(i["@graph"],null):r("Invalid file")},s.readAsText(e,"UTF-8")}else r("Invalid file");else r("No file to analyze")},importMedbiq:function(){var e=EcIdentityManager.ids[0],t=new EcFramework;null!=e&&t.addOwner(e.ppk.toPk()),null!=this.queryParams.newObjectEndpoint&&void 0!==this.queryParams.newObjectEndpoint?t.generateShortId(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint):t.generateId(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint),t["schema:dateCreated"]=(new Date).toISOString(),appLog(this.importFrameworkName),t.setName(this.importFrameworkName),t.setDescription(this.importFrameworkDescription);var r=this;MedbiqImport.importCompetencies(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint,e,(function(e){for(var s=0;s<e.length;s++)t.addCompetency(e[s].shortId());r.repo.saveTo(t,(function(e){r.importFile.splice(0,1),r.importFile.length>0?(r.firstImport=!1,r.analyzeImportFile()):(r.$store.commit("app/importFramework",t),r.$store.commit("editor/framework",t),r.importSuccess(),r.spitEvent("importFinished",t.shortId(),"importPage"))}),(function(e){r.$store.commit("app/importStatus",e),r.$store.commit("app/importTransition","process"),r.$store.commit("app/addImportError",e)}))}),(function(e){r.$store.commit("app/importStatus",e),r.$store.commit("app/importTransition","process"),r.$store.commit("app/addImportError",e)}),(function(e){r.$store.commit("app/importStatus",e.competencies+"/"+r.competencyCount+" competencies imported.")}),r.repo)},importAsn:function(){var e=EcIdentityManager.ids[0],t=this;t.$store.commit("app/importTransition","process"),ASNImport.importCompetencies(this.repo.selectedServer,e,!0,(function(e,r){t.importFile.splice(0,1),t.importFile.length>0?(t.firstImport=!1,t.analyzeImportFile()):(t.$store.commit("app/importFramework",r),t.$store.commit("editor/framework",r),t.importSuccess(),t.spitEvent("importFinished",r.shortId(),"importPage"))}),(function(e){t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e)}),(function(e){t.$store.commit("app/importStatus",e.competencies+"/"+t.competencyCount+" competencies imported.")}),t.repo)},importCtdlAsnCsv:function(){var e=null;EcIdentityManager.ids.length>0&&(e=EcIdentityManager.ids[0]);var t=this;CTDLASNCSVImport.importFrameworksAndCompetencies(t.repo,t.importFile[0],(function(e,r,s){for(var i=0;i<e.length;i++)!0===t.queryParams.ceasnDataFields&&(null!=e[i]["schema:inLanguage"]&&void 0!==e[i]["schema:inLanguage"]||(t.setDefaultLanguage(),e[i]["schema:inLanguage"]=t.$store.state.editor.defaultLanguage)),null!=e[i]["schema:dateModified"]&&void 0!==e[i]["schema:dateModified"]||(e[i]["schema:dateModified"]=(new Date).toISOString()),null!=e[i]["schema:dateCreated"]&&void 0!==e[i]["schema:dateCreated"]||(e[i]["schema:dateCreated"]=(new Date).toISOString());var o=e.concat(r).concat(s);t.$store.commit("app/importStatus","Saving "+o.length+" objects."),t.repo.multiput(o,(function(){for(var r=0;r<e.length;r++)t.$store.commit("app/importFramework",e[r]),t.$store.commit("editor/framework",e[r]),t.spitEvent("importFinished",e[r].shortId(),"importPage");t.importFile.splice(0,1),t.importFile.length>0?(t.firstImport=!1,t.analyzeImportFile()):1===e.length?t.importSuccess():(t.$store.commit("app/sortResults",{id:"dateCreated",label:"created date"}),t.$router.push({name:"frameworks"}))}),(function(e){t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e)}))}),(function(e){t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e)}),e,this.queryParams.newObjectEndpoint?this.queryParams.newObjectEndpoint:null)},importPdf:function(){var e=this;e.$store.commit("app/importStatus","importing framework...");var t=new FormData;t.append(e.importFile[0].name,e.importFile[0]),e.$store.commit("app/importStatus","importing file..."),EcRemote.postExpectingString("https://t3.cassproject.org/service/parse/","docx",t,(function(t){var r=null;try{r=JSON.parse(t)}catch(o){return e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),void e.$store.commit("app/addImportError",t)}if(null==r)return e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),void e.$store.commit("app/addImportError",t);var s=new UUID(3,"nil",r.name).format(),i=new EcFramework;e.$store.commit("app/importStatus","looking for existing framework..."),e.queryParams&&e.queryParams.newObjectEndpoint?i.id=e.queryParams.newObjectEndpoint+s:i.assignId(e.repo.selectedServer,s),e.repo.search('(@id:"'+i.shortId()+'") AND (@type:Framework)',(function(){}),(function(t){appLog(t),e.$store.commit("app/importStatus","looking for existing framwork..."),t.length>0?(e.$store.commit("app/importStatus","framework found..."),e.showModal("duplicate",r)):(e.$store.commit("app/importStatus","no match, saving new framework..."),e.savePdfImport(r))}),(function(t){e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)}))}),(function(t){appLog("error here"),""===t&&(t="Server unresponsive."),e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)})),e.$store.commit("app/importTransition","process"),e.$store.commit("app/importStatus","processing file...")},savePdfImport:function(e,t){var r=this;r.$store.commit("app/importStatus","saving file...");var s=[],i=new EcFramework,o=t||e.name;o?i.setName(o):i.setName("Unknown Name"),e.description&&""!==e.description&&i.setDescription(e.description);var a=new UUID(3,"nil",o).format();r.queryParams&&r.queryParams.newObjectEndpoint?i.id=r.queryParams.newObjectEndpoint+a:i.assignId(r.repo.selectedServer,a),i.competency=[],i.relation=[],i.level=[],i["schema:dateCreated"]=(new Date).toISOString(),s.push(i),appLog("d",e),appLog("message: ",JSON.parse(i.toJson()));var n={};if(!e.competencies)return r.$store.commit("app/importStatus","Error importing competencies."),r.$store.commit("app/importTransition","process"),void r.$store.commit("app/addImportError","Error importing competencies, no competencies found in file.");r.detailsDetected.competencies=e.competencies.length;for(var c=0;c<e.competencies.length;c++){var l=new EcCompetency;r.queryParams&&r.queryParams.newObjectEndpoint?l.id=r.queryParams.newObjectEndpoint+e.competencies[c].id:l.assignId(r.repo.selectedServer,e.competencies[c].id),n[e.competencies[c].id]=l.shortId(),null!=e.competencies[c].name?l.setName(e.competencies[c].name.trim()):l.setName("Unknown name"),e.competencies[c].name!==e.competencies[c].description&&e.competencies[c].description&&l.setDescription(e.competencies[c].description.trim()),null!=e.competencies[c]["ceasn:codedNotation"]&&(l["ceasn:codedNotation"]=e.competencies[c]["ceasn:codedNotation"]),i.addCompetency(l.shortId()),s.push(l)}for(c=0;c<e.relation.length;c++){l=new EcAlignment;r.queryParams&&r.queryParams.newObjectEndpoint?l.generateShortId(this.queryParams.newObjectEndpoint):l.assignId(r.repo.selectedServer,e.relation[c].source+"_"+e.relation[c].relationType+"_"+e.relation[c].target),l.source=n[e.relation[c].source],l.target=n[e.relation[c].target],l.relationType=e.relation[c].relationType,void 0!==l.source&&void 0!==l.target?(i.addRelation(l.shortId()),s.push(l)):appLog(JSON.parse(l.toJson()))}r.repo.multiput(s,(function(){r.$store.commit("app/importFramework",i),r.$store.commit("editor/framework",i),r.$store.commit("editor/t3Profile",!0),r.$store.commit("app/importStatus",""),r.importSuccess()}),(function(e){r.$store.commit("app/importStatus",e),r.$store.commit("app/importTransition","process"),r.$store.commit("app/addImportError",e)})),r.$store.commit("app/importTransition","process"),r.$store.commit("app/importStatus","saving import...")},importCsv:function(){var e=this.importFile[0],t=this.csvRelationFile,r=EcIdentityManager.ids[0],s=null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint,i=new EcFramework;null!=r&&i.addOwner(r.ppk.toPk()),null!==this.queryParams.newObjectEndpoint&&void 0!==this.queryParams.newObjectEndpoint?i.generateShortId(s):i.generateId(s),i["schema:dateCreated"]=(new Date).toISOString(),i.setName(this.importFrameworkName),i.setDescription(this.importFrameworkDescription);var o=this;CSVImport.importCompetencies(e,s,r,this.importCsvColumnName?this.importCsvColumnName.index:-1,this.importCsvColumnDescription?this.importCsvColumnDescription.index:-1,this.importCsvColumnScope?this.importCsvColumnScope.index:-1,this.importCsvColumnId?this.importCsvColumnId.index:-1,t,this.importCsvColumnSource?this.importCsvColumnSource.index:-1,this.importCsvColumnRelationType?this.importCsvColumnRelationType.index:-1,this.importCsvColumnTarget?this.importCsvColumnTarget.index:-1,(function(e,t){i.competency=[],i.relation=[];for(var r=0;r<e.length;r++)i.competency.push(e[r].shortId());for(r=0;r<t.length;r++)i.relation.push(t[r].shortId());o.repo.saveTo(i,(function(e){o.importFile.splice(0,1),o.importFile.length>0?(o.firstImport=!1,o.analyzeImportFile()):(o.$store.commit("app/importFramework",i),o.$store.commit("editor/framework",i),o.importSuccess(),o.spitEvent("importFinished",i.shortId(),"importPage"))}),(function(e){o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",e)}))}),(function(e){o.$store.commit("app/importStatus",e),o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",e)}),(function(e){null!=e.relations&&void 0!==e.relations?o.$store.commit("app/importStatus",e.relations+"/"+o.relationCount+" relations imported."):null!=e.competencies&&void 0!==e.competencies?o.$store.commit("app/importStatus",e.competencies+"/"+o.competencyCount+" competencies imported."):o.$store.commit("app/importStatus","Importing...")}),!1,o.repo)},importJsonLd:function(e){this.$store.commit("app/importTransition","process");var t=new FormData;if(null!=e&&void 0!==e)t.append("data",JSON.stringify(e));else{var r=this.importFile[0];t.append("file",r)}var s=EcIdentityManager.ids[0];null!=s&&t.append("owner",s.ppk.toPk().toPem());var i=this;i.$store.commit("app/importFramework",null),EcRemote.postInner(this.repo.selectedServer,"ctdlasn",t,null,(function(e){if(-1!==e.indexOf("ctdlasn")){var t=e.substring(0,e.indexOf("ctdlasn")),r=e.substring(e.indexOf("ctdlasn")+7);e=t+"data"+r}var s;EcRepository.cache&&delete EcRepository.cache[e],i.conceptMode?s=EcConceptScheme.getBlocking(e):(s=EcFramework.getBlocking(e),i.$store.commit("app/importFramework",s)),i.$store.commit("editor/framework",s),i.$store.commit("app/importFramework",s),i.spitEvent("importFinished",s.shortId(),"importPage"),null!=i.importFile&&i.importFile.splice(0,1),i.importFile&&i.importFile.length>0?(i.firstImport=!1,i.analyzeImportFile()):i.importSuccess()}),(function(e){i.$store.commit("app/importTransition","process"),i.$store.commit("app/importStatus","Import failed. Check your import file for any errors."),appLog(e.statusText),i.$store.commit("app/addImportError",e)})),i.conceptMode?"true"===i.queryParams.ceasnDataFields?i.$store.commit("app/importStatus","Importing Concept Scheme"):i.$store.commit("app/importStatus","Importing Taxonomy"):i.$store.commit("app/importStatus","Importing Framework")},importCtdlAsnConceptCsv:function(){var e=this,t=null;EcIdentityManager.ids.length>0&&(t=EcIdentityManager.ids[0]),e.$store.commit("app/importStatus","process"),CTDLASNCSVConceptImport.importFrameworksAndCompetencies(e.repo,e.importFile[0],(function(t,r){if("true"===e.queryParams.ceasnDataFields)for(var s=0;s<t.length;s++)null!=t[s]["dcterms:language"]&&void 0!==t[s]["dcterms:language"]||(e.setDefaultLanguage(),t[s]["dcterms:language"]=e.$store.state.editor.defaultLanguage);var i=t.concat(r);e.$store.commit("app/importStatus","Saving "+i.length+" objects."),e.repo.multiput(i,(function(){for(var r=0;r<t.length;r++)e.spitEvent("importFinished",t[r].shortId(),"importPage");e.$store.commit("editor/framework",t[0]),e.$store.commit("app/importFramework",t[0]),e.importSuccess()}),(function(t){e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError","Failed to save: "+t),appError(t)}))}),(function(t){e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t),appError(t)}),t,this.queryParams.newObjectEndpoint?this.queryParams.newObjectEndpoint:null)},importFromFile:function(){var e=this;if(appLog("this.importFileType",e.importFileType),e.$store.commit("app/importTransition","process"),"csv"===e.importFileType)e.importCsv();else if("ctdlasncsv"===e.importFileType)e.importCtdlAsnCsv();else if("conceptcsv"===e.importFileType)e.importCtdlAsnConceptCsv();else if("ctdlasnjsonld"===e.importFileType)e.importJsonLd();else if("asn"===e.importFileType)e.importAsn();else if("pdf"===e.importFileType)e.importPdf();else if("medbiq"===e.importFileType)e.importMedbiq();else{var t="Unsupported file type"+e.importFileType;e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process")}},parseText:function(){var e=this;null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&this.importFramework.addOwner(EcIdentityManager.ids[0].ppk.toPk()),null!==this.queryParams.newObjectEndpoint&&void 0!==this.queryParams.newObjectEndpoint?this.importFramework.generateShortId(this.queryParams.newObjectEndpoint):this.importFramework.generateId(this.repo.selectedServer),this.importFramework.name=this.$store.getters["app/importFrameworkName"],this.importFramework["schema:dateCreated"]=(new Date).toISOString(),this.importFramework["schema:dateModified"]=(new Date).toISOString();for(var t=[this.importFramework],r=0;r<this.importFramework.competency.length;r++){var s=EcRepository.cache[this.importFramework.competency[r]];null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&s.addOwner(EcIdentityManager.ids[0].ppk.toPk()),t.push(s)}if(this.importFramework.relation)for(r=0;r<this.importFramework.relation.length;r++){var i=EcRepository.cache[this.importFramework.relation[r]];null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),t.push(i)}this.repo.multiput(t,(function(){e.spitEvent("importFinished",e.importFramework.shortId(),"importPage"),e.$store.commit("editor/framework",e.importFramework),e.$router.push({name:"framework",params:{frameworkId:e.importFramework.shortId()}})}),(function(t){appLog("failure",t),e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process")}))},showImportModal:function(e){var t={component:"SupportedImportDetails",documentContent:e};this.$store.commit("app/showModal",t)},importFromUrl:function(){var e=this,t={message:"Unable to import from the URL source provided.",details:""};if(!this.isValidUrl(this.importUrl))return t.details="The URL provided is not valid.",e.$store.commit("app/addImportError",t.details),e.$store.commit("app/importTransition","upload"),void e.showModal("error",t);EcRemote.getExpectingString(this.importUrl,null,(function(r){try{r=JSON.parse(r)}catch(o){return t.details=o.message,e.$store.commit("app/importStatus",o.message),e.$store.commit("app/importTransition","upload"),e.$store.commit("app/addImportError",o.message),void e.showModal("error",t)}var s=r["@graph"];if(null==s)return t.details="URL must have an '@graph' field at the top level.",e.$store.commit("app/addImportError",t.details),e.$store.commit("app/importTransition","process"),void e.showModal("error",t);var i=s[0]["@id"];i?e.repo.search('(@id:"'+i+'") AND (@type:Framework)',(function(){}),(function(t){appLog(t),t.length>0?(e.$store.commit("app/importStatus","framework found..."),"url"===e.importType&&e.showModal("duplicateOverwriteOnly",[r,t[0]])):(e.$store.commit("app/importStatus","no match, saving new framework..."),e.importJsonLd(r))}),(function(r){t.details=r,e.$store.commit("app/importStatus",r),e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",r),e.showModal("error",t)})):e.importJsonLd(r),-1!==s[0]["@type"].indexOf("Concept")&&("true"===e.ceasnDataFields?t.details="Competency Editor cannot be used to import concept schemes.":t.details="Competency Editor cannot be used to import taxonomies.",e.$store.commit("app/addImportError",t.details),e.$store.commit("app/importTransition","process"),e.showModal("error",t))}),(function(r){r?(t.details=r,e.$store.commit("app/addImportError",r),e.$store.commit("app/importTransition","upload"),e.showModal("error",t)):(e.$store.commit("app/addImportError",t.message),e.$store.commit("app/importTransition","upload"),e.showModal("error",t))}))},isValidUrl:function(e){try{new URL(e)}catch(t){return!1}return!0},scrollFunction:function(e){document.getElementsByClassName("parent-object");var t=e.target.scrollTop;this.parentObjectClass=0!==t?"parent-object scrolled":"parent-object"}},watch:{importType:function(e){this.caseDocs=[],this.clearImport()},importTransition:function(e){if("processFiles"===e)return this.uploadFiles(this.importFile);"uploadCsv"===e||"uploadMedbiq"===e||"uploadOtherNonPdf"===e?this.importFromFile():"connectToServer"===e&&this.connectToServer()},importText:function(e,t){var r=this;TabStructuredImport.importCompetencies(e,this.queryParams.newObjectEndpoint?this.queryParams.newObjectEndpoint:this.repo.selectedServer,EcIdentityManager.ids[0],(function(e,t){r.$store.commit("app/importTransition","light");var s=e.length+" competencies and "+t.length+" relations.";r.$store.commit("app/importStatus",s);var i=new EcFramework;r.$store.commit("app/importFramework",null);for(var o=0;o<e.length;o++)EcRepository.cache[e[o].shortId()]=e[o],i.addCompetency(e[o].shortId());for(o=0;o<t.length;o++)EcRepository.cache[t[o].shortId()]=t[o],i.addRelation(t[o].shortId());r.importFrameworkName&&(i.name=r.importFrameworkName),r.$nextTick((function(){r.$store.commit("app/importFramework",i),r.$store.commit("editor/framework",i)}))}),(function(e){r.$store.commit("app/importStatus",e)}),appError,this.repo,!1)},importFrameworkName:function(){if("text"===this.importType&&this.importFramework){var e=this.importFramework;e.name=this.importFrameworkName,this.$store.commit("editor/changedObject","update"),this.$store.commit("app/importFramework",e)}},importFramework:function(){!this.importFramework||this.conceptMode||this.importFramework.competency&&0!==this.importFramework.competency||(this.hierarchyIsdoneLoading=!0)}}}),h={name:"ImportTabs",mixins:[d],methods:{importCaseDocs:function(){this.$emit("import-case",this.caseDocs),this.$store.commit("app/importTransition","importingCaseFrameworks")},importFromUrl:function(){this.$store.commit("app/importStatus","importFromUrl"),this.$store.commit("app/importTransition","importingFromUrl")},importFromFile:function(){this.$store.commit("app/importType","file"),this.$store.commit("app/importFramework",null),this.$store.commit("app/importTransition","upload")}},computed:{conceptMode:function(){return this.$store.getters["editor/conceptMode"]},importErrors:function(){return this.$store.getters["app/importErrors"]},importFile:function(){return this.$store.getters["app/importFiles"]},importTransition:function(){return this.$store.getters["app/importTransition"]},importType:function(){return this.$store.getters["app/importType"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importStatus:function(){return this.$store.getters["app/importStatus"]},frameworkSize:function(){return this.conceptMode?null:this.importFramework&&this.importFramework.competency?this.importFramework.competency.length:0},queryParams:function(){return this.$store.getters["editor/queryParams"]}}},m=h,u=(r("81d7"),r("2877")),g=Object(u["a"])(m,l,p,!1,null,null,null),f=g.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"is-dragged-over":e.isDraggedOver},attrs:{id:"drag-and-drop"},on:{dragenter:function(t){return t.preventDefault(),e.handleDragEnter(t)},dragleave:function(t){return t.preventDefault(),e.handleDragLeave(t)},click:function(t){return e.openFileExplorer()},dragover:function(e){e.preventDefault()},drop:function(t){return t.preventDefault(),e.addFile(t)}}},[r("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",disabled:!e.uploadDisabled},on:{change:e.fileChange}}),r("div",{staticClass:"section"},[r("div",{staticClass:"columns is-centered is-multiline"},[e._m(0),0===e.files.length?r("div",{staticClass:"column is-12"},[r("p",{staticClass:"is-size-6"},[e._v(" Drag and drop, or click to upload. ")])]):e._e(),r("div",{staticClass:"column is-12"},[r("ul",e._l(e.files,(function(t){return r("li",{key:t,staticClass:"is-size-6",staticStyle:{display:"inline","vertical-align":"middle"}},[r("span",{staticClass:"has-text-weight-medium"},[e._v(" "+e._s(t.name)+" ("+e._s(e._f("kb")(t.size))+" kb) "),r("button",{staticClass:"button is-small is-text",attrs:{title:"Remove"},on:{click:function(r){return e.removeFile(t)}}},[e._m(1,!0)])])])})),0)]),r("div",{staticClass:"column is-12"},[r("button",{staticClass:"button is-outlined is-primary is-medium",attrs:{disabled:e.uploadDisabled},on:{click:e.process}},[r("span",[e._v(" Process Files ")]),e._m(2)])])])])])},y=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"column is-12"},[r("p",{staticClass:"is-size-5"},[e._v(" Files to Upload ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fas fa-arrow-right"})])}],v=(r("4de4"),r("159b"),r("b680"));function C(e){if(Array.isArray(e))return Object(v["a"])(e)}r("d28b"),r("a630");function b(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var k=r("dde1");function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){return C(e)||b(e)||Object(k["a"])(e)||T()}var x={name:"DragAndDrop",data:function(){return{files:[],isDraggedOver:!1,counter:0}},computed:{uploadDisabled:function(){return 0===this.files.length}},watch:{},filters:{kb:function(e){return Math.floor(e/1024)}},mounted:function(){this.$store.commit("app/clearImportFiles")},methods:{handleDragEnter:function(e){this.counter++,e.target.id&&"drag-and-drop"===e.target.id&&(this.isDraggedOver=!0)},handleDragLeave:function(e){this.counter--,e.target&&"drag-and-drop"===e.target.id&&0===this.counter&&(this.isDraggedOver=!1)},openFileExplorer:function(){this.uploadDisabled&&this.$refs.file.click()},fileChange:function(e){var t=this;appLog(e);var r=e.target.files;r?_(r).forEach((function(e){t.files.push(e)})):this.files=[]},addFile:function(e){var t=this,r=e.dataTransfer.files||e.target.files;r&&(_(r).forEach((function(e){t.files.push(e)})),this.isDraggedOver=!1)},removeFile:function(e){this.files=this.files.filter((function(t){return t!==e})),this.$store.commit(""),this.$emit("clear-files")},process:function(){this.$store.commit("app/importFiles",this.files),this.$store.commit("app/importTransition","processFiles")}}},I=x,E=(r("e6c0"),Object(u["a"])(I,w,y,!1,null,null,null)),P=E.exports,S={name:"ImportFile",components:{ImportTabs:f,DragAndDrop:P},mixins:[d],props:{conceptMode:{type:Boolean,default:!1},importFile:{type:Array,default:function(){return[]}},importTransition:{type:String,default:""}},data:function(){return{medbiqDetails:{name:{label:"Name the framework",value:this.importFrameworkName,type:"string"},description:{label:"Describe the framework (optional)",value:this.importFrameworkDescription,type:"string"}},csvImportDetails:{name:{label:"Name the framework",value:this.importFrameworkName,type:"string"},description:{label:"Describe the framework (optional)",value:this.importFrameworkDescription,type:"string"},nameColumn:{label:"Select the Name column",value:this.importNameColumn,type:"column"},descriptionColumn:{label:"Select the Description column (optional)",value:this.importDescriptionColumn,type:"column"},scopeColumn:{label:"Select the Scope column (optional)",value:this.importScopeColumn,type:"column"},idColumn:{label:"Select the ID column (optional). If chosen, this should be a URL from another CaSS system or a non-numeric ID",value:this.importIdColumn,type:"column"},relationFile:{label:'Select a relation file (optional).\n                                The relation source/target must be in the\n                                form of ID or Name, and the relation types\n                                should be "requires", "desires", "narrows",\n                                "isEnabledBy", "isRelatedTo", or "isEquivalentTo',value:"",type:"file"}},csvRelationDetails:{sourceColumn:{label:"Select the Source column",type:"column",value:this.importSourceColumn},relationColumn:{label:"Select the Relation Type column.",type:"column",value:this.importRelationColumn},targetColumn:{label:"Select the Target column.",type:"column",value:this.importTargetColumn}}}},computed:{importInfoVisible:function(){return this.$store.getters["app/showRightAside"]},importErrors:function(){return this.$store.getters["app/importErrors"]},importStatus:function(){return this.$store.getters["app/importStatus"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importType:function(){return this.$store.getters["app/importType"]},importFrameworkName:{get:function(){return this.$store.getters["app/importFrameworkName"]},set:function(e){this.$store.commit("app/importFrameworkName",e)}},importFrameworkDescription:function(){return this.$store.getters["app/importFrameworkDescription"]},importNameColumn:{get:function(){return this.$store.getters["app/importNameColumn"]},set:function(e){this.$store.commit("app/importNameColumn",e)}},importDescriptionColumn:{get:function(){return this.$store.getters["app/importDescriptionColumn"]},set:function(e){this.$store.commit("app/importDescriptionColumn",e)}},importScopeColumn:{get:function(){return this.$store.getters["app/importScopeColumn"]},set:function(e){this.$store.commit("app/importScopeColumn",e)}},importIdColumn:{get:function(){return this.$store.getters["app/importIdColumn"]},set:function(e){this.$store.commit("app/importIdColumn",e)}},importSourceColumn:{get:function(){return this.$store.getters["app/importSourceColumn"]},set:function(e){this.$store.commit("app/importSourceColumn",e)}},importRelationColumn:{get:function(){return this.$store.getters["app/importRelationColumn"]},set:function(e){this.$store.commit("app/importRelationColumn",e)}},importTargetColumn:{get:function(){return this.$store.getters["app/importTargetColumn"]},set:function(e){this.$store.commit("app/importTargetColumn",e)}},csvColumns:function(){return this.$store.getters["app/csvColumns"]},csvRelationColumns:function(){return this.$store.getters["app/csvRelationColumns"]},csvRelationFile:function(){return this.$store.getters["app/csvRelationFile"]},taxonomyTerminology:function(){return"true"===this.$store.getters["editor/queryParams"].ceasnDataFields?"concept scheme":"taxonomy"}},methods:{clearFiles:function(){this.$store.commit("app/clearImportFiles")},prepareToImportNonPdf:function(){"csv"===this.importFileType?(this.$store.commit("app/importFrameworkName",this.csvImportDetails.name.value),this.$store.commit("app/importFrameworkDescription",this.csvImportDetails.description.value),this.$store.commit("app/importNameColumn",this.csvImportDetails.nameColumn.value),this.$store.commit("app/importDescriptionColumn",this.csvImportDetails.descriptionColumn.value),this.$store.commit("app/importScopeColumn",this.csvImportDetails.scopeColumn.value),this.$store.commit("app/importIdColumn",this.csvImportDetails.idColumn.value),this.$store.commit("app/importSourceColumn",this.csvRelationDetails.sourceColumn.value),this.$store.commit("app/importTargetColumn",this.csvRelationDetails.targetColumn.value),this.$store.commit("app/importRelationColumn",this.csvRelationDetails.relationColumn.value),this.$store.commit("app/importTransition","uploadCsv")):"medbiq"===this.importFileType?(this.$store.commit("app/importFrameworkName",this.csvImportDetails.name.value),this.$store.commit("app/importFrameworkDescription",this.csvImportDetails.description.value),this.$store.commit("app/importTransition","uploadMedbiq")):"pdf"!==this.importFileType&&this.$store.commit("app/importTransition","uploadOtherNonPdf")}},watch:{importNameColumn:function(){this.csvImportDetails.nameColumn.value=this.importNameColumn},importDescriptionColumn:function(){this.csvImportDetails.descriptionColumn.value=this.importDescriptionColumn},importScopeColumn:function(){this.csvImportDetails.scopeColumn.value=this.importScopeColumn},importIdColumn:function(){this.csvImportDetails.idColumn.value=this.importIdColumn},importSourceColumn:function(){this.csvRelationDetails.sourceColumn.value=this.importSourceColumn},importRelationColumn:function(){this.csvRelationDetails.relationColumn.value=this.importRelationColumn},importTargetColumn:function(){this.csvRelationDetails.targetColumn.value=this.importTargetColumn},importFrameworkName:function(){"medbiq"===this.importFileType?this.medbiqDetails.name.value=this.importFrameworkName:"csv"===this.importFileType&&(this.csvImportDetails.name.value=this.importFrameworkName)},importFrameworkDescription:function(){"medbiq"===this.importFileType?this.medbiqDetails.description.value=this.importFrameworkDescription:"csv"===this.importFileType&&(this.csvImportDetails.description.value=this.importFrameworkDescription)}}},F=S,$=Object(u["a"])(F,n,c,!1,null,null,null),j=$.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-mobile",attrs:{id:"import-from-server"}},[r("div",{staticClass:"column is-12"},[r("div",{staticClass:"container py-6"},[e._t("import-server-title",[r("p",[e._v("Nothing send from import.vue")])]),r("div",{staticClass:"columns is-multiline"},[r("div",{staticClass:"column is-12"},[r("ImportTabs")],1),"preview"!==e.importTransition&&"light"!==e.importTransition?r("div",{staticClass:"column is-12"},[r("div",{staticClass:"remote-server"},["upload"===e.importTransition?[e._l(e.serverDetails,(function(t){return r("div",{key:t,staticClass:"field"},[r("label",{staticClass:"label"},[e._v(" "+e._s(t.label)+" ")]),r("div",{staticClass:"field"},[r("div",{staticClass:"control is-expanded"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.importServerUrl,expression:"importServerUrl"}],staticClass:"input is-large",attrs:{type:"url"},domProps:{value:e.importServerUrl},on:{input:function(t){t.target.composing||(e.importServerUrl=t.target.value)}}})])]),r("div",{staticClass:"field"},[r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-large is-outlined is-primary",attrs:{disabled:""===e.importServerUrl},on:{click:function(t){e.$store.commit("app/importTransition","connectToServer"),e.serverType="case"}}},[e._m(0,!0),r("span",[e._v(" connect to CASE endpoint ")])])])]),r("div",{staticClass:"field"},[r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-large is-outlined is-primary",attrs:{disabled:""===e.importServerUrl},on:{click:function(t){e.$store.commit("app/importTransition","connectToServer"),e.serverType="cass"}}},[e._m(1,!0),r("span",[e._v(" connect to CaSS endpoint ")])])])])])})),r("div",{staticClass:"py-4"},[r("h3",{staticClass:"title is-size-5"},[e._v(" Looking for an example? Try out an example from the "),r("a",{on:{click:function(t){e.importServerUrl="https://opensalt.net"}}},[e._v("OpenSalt.net endpoint")]),e._v(" to test the workflow. ")])])]:e._e(),"connectToServer"===e.importTransition?r("div",{staticClass:"section has-text-centered"},[e._m(2)]):"process"!==e.importTransition&&"info"!==e.importTransition||0!==e.importErrors.length?e.importErrors.length>0?r("div",{staticClass:"column has-text-danger"},[r("ul",[e._l(e.importErrors,(function(t,s){return r("li",{key:s,staticClass:"is-size-6"},[r("span",{},[e._m(3,!0),e._v(" "+e._s(t)+" ")])])})),r("li")],2),r("div",{staticClass:"buttons is-centered"},[r("div",{staticClass:"button is-primary",on:{click:function(t){return e.resetImport()}}},[e._m(4),r("span",[e._v("start over")])])])]):e._e():r("div",{staticClass:"column"},[r("div",{staticClass:"section has-text-centered"},["process"===e.importTransition?r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})]):e._e()]),r("div",{staticClass:"section"},[r("p",{staticClass:"is-size-6"},[e._v(" "+e._s(e.importStatus)+" ")])])]),e.caseDocs.length?r("div",{},[r("h3",{staticClass:"subtitle has-text-weight-bold is-size-4"},[e._v(" Found Frameworks ")]),r("p",[e._v(" Select the framework you would like to import. ")]),e._l(e.caseDocs,(function(t){return r("div",{key:t.id,staticClass:"field is-grouped"},[t.loading||t.success||t.error?e._e():r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"doc.checked"}],staticClass:"is-checkradio is-small",attrs:{type:"checkbox",id:"check"+t.id,name:"check"+t.id},domProps:{checked:t.checked,checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(r){var s=t.checked,i=r.target,o=!!i.checked;if(Array.isArray(s)){var a=null,n=e._i(s,a);i.checked?n<0&&e.$set(t,"checked",s.concat([a])):n>-1&&e.$set(t,"checked",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(t,"checked",o)}}}),r("label",{staticClass:"label",attrs:{for:"check"+t.id}},[e._v(e._s(t.name))]),r("span",{staticClass:"icon is-pulled-right"},[t.loading?r("i",{staticClass:"fa fa-spinner fa-pulse"}):t.error?r("i",{staticClass:"fa fa-exclamation-triangle"}):t.success?r("i",{staticClass:"fa fa-check"}):e._e()])])})),r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-outlined is-dark",on:{click:e.cancelImport}},[e._v(" Cancel ")]),"importingCaseFrameworks"!==e.importTransition?r("div",{staticClass:"button is-outlined is-primary",on:{click:function(t){return e.importCaseDocs()}}},[e._v(" Import ")]):e._e()])],2):e._e(),e.cassDirectories.length||e.cassFrameworks.length?r("div",{staticClass:"cass__import--cass"},[r("div",{staticClass:"cass__import--frameworks"},[r("h3",{staticClass:"has-text-weight-bold is-size-4"},[e._v(" Found Frameworks ")]),r("div",{staticClass:"field"},[r("SearchBar",{attrs:{searchType:"framework"}})],1),r("div",{staticClass:"field"},[e._m(5),r("div",{staticClass:"select is-fullwidth is-primary"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectDirectory,expression:"selectDirectory"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectDirectory=t.target.multiple?r:r[0]}}},[r("label",[e._v("Directories")]),e._m(6),e._l(e.cassDirectories,(function(t){return r("option",{key:t.id,domProps:{value:t}},[r("span",{staticClass:"has-text-dark"},[e._v(e._s(t.getName()))])])}))],2)])]),e.selectDirectory?r("div",{staticClass:"breadcrumb is-medium",attrs:{"aria-label":"breadcrumbs has-text-dark"}},[r("ul",[e._l(e.directoryTrail,(function(t){return r("li",{key:t.id},[r("a",[e._v(e._s(t.name))])])})),r("li",[r("a",[e._v(e._s(e.selectDirectory.name))])])],2)]):e._e(),r("div",{staticClass:"field"},[r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-primary",on:{click:e.selectAllFrameworks}},[e._v(" Select all ")])])]),r("div",{staticClass:"field"},[r("div",{staticClass:"select is-fullwidth is-primary is-multiple"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedFrameworks,expression:"selectedFrameworks"}],attrs:{multiple:"",size:"6"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedFrameworks=t.target.multiple?r:r[0]}}},e._l(e.cassFrameworks,(function(t){return r("option",{key:t.id,attrs:{id:"check"+t.id},domProps:{value:t.id}},[e._v(" "+e._s(t.getName())+" ")])})),0)]),r("p",{staticClass:"help is-info"},[e._v(" Select the framework(s) to import. ")])])]),r("div",{staticClass:"is-12"},[r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-outlined is-dark",on:{click:e.cancelImport}},[e._v(" Cancel ")]),e.directoryThatsOpen?r("div",{staticClass:"button is-outlined is-dark",on:{click:e.goBack}},[e._v(" Back ")]):e._e(),"importingCassFrameworks"!==e.importTransition?r("div",{staticClass:"button is-outlined is-primary",on:{click:function(t){return e.importCassFrameworks()}}},[e._v(" Import ")]):e._e()])])]):e._e()],2)]):e._e(),r("div",{staticClass:"column is-12"},[e._t("import-framework")],2)])],2)])])},O=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-network-wired"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-network-wired"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-redo"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Select a directory to filter results")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("option",{attrs:{value:"all"}},[r("span",{staticClass:"has-text-dark"},[e._v("All frameworks")])])}],D=(r("2ca0"),r("872c")),R=r("6b9e"),L={name:"ImportServer",components:{ImportTabs:f,SearchBar:R["a"]},mixins:[d,D["a"]],props:{importTransition:{type:String,default:""}},data:function(){return{caseDocs:[],serverDetails:[{label:"Paste URL endpoint of server"}],serverType:"",cassDirectories:[],cassFrameworks:[],remoteRepo:null,directoryThatsOpen:null,selectDirectory:"all",selectedFrameworks:[],directoryTrail:[]}},computed:{importInfoVisible:function(){return this.$store.getters["app/showRightAside"]},importErrors:function(){return this.$store.getters["app/importErrors"]},importServerUrl:{get:function(){return this.$store.getters["app/importServerUrl"]},set:function(e){this.$store.commit("app/importServerUrl",e)}},searchTerm:function(){return this.$store.getters["app/searchTerm"]}},mounted:function(){this.$store.commit("app/searchTerm","")},methods:{importCaseDocs:function(){this.handleImportFromTabs(this.caseDocs),this.$store.commit("app/importTransition","importingCaseFrameworks")},handleImportFromTabs:function(e){this.caseDocs=e,this.importCase()},isValidUrl:function(e){try{new URL(e)}catch(t){return!1}return!0},connectToServer:function(){appLog("connecting to server 1"),this.$store.commit("app/clearImportErrors");var e={message:"Unable to import from the URL Endpoint provided.",details:""};if(!this.isValidUrl(this.importServerUrl))return e.details="The endpoint provided is not a valid URL.",this.$store.commit("app/addImportError",e.details),this.$store.commit("app/importTransition","upload"),void this.showModal("error",e);this.caseDocs.splice(0,this.caseDocs.length),this.cassDirectories.splice(0,this.cassDirectories.length),this.cassFrameworks.splice(0,this.cassFrameworks.length),"cass"===this.serverType?this.cassDetectEndpoint():"case"===this.serverType&&this.caseDetectEndpoint()},cassDetectEndpoint:function(){var e=this.importServerUrl;e.endsWith("/")||(e+="/"),e.endsWith("api/")||(e+="api/");var t=new EcRepository;EcRepository.repos.pop(),t.selectedServer=e,this.remoteRepo=t,this.cassSearchEndpoint()},cassSearchEndpoint:function(){this.cassDirectories.splice(0,this.cassDirectories.length),this.cassFrameworks.splice(0,this.cassFrameworks.length),this.searchingTopLevel=!0;var e=this,t={size:50,sort:'[ { "name.keyword": {"order" : "asc"}} ]'},r="(*)";this.searchTerm&&(r=this.searchTerm),EcDirectory.search(this.remoteRepo,r,(function(t){e.cassSearchSuccess(t,"directory")}),appError,t),EcFramework.search(this.remoteRepo,r,(function(t){e.cassSearchSuccess(t,"framework")}),(function(t){appLog(t),e.cassSearchError()}),t)},cassSearchError:function(){var e={message:"Unable to search the URL Endpoint provided.",details:"Make sure you entered the URL of a CaSS Repository."};this.$store.commit("app/addImportError",e.details),this.$store.commit("app/importTransition","upload"),this.showModal("error",e)},cassSearchSuccess:function(e,t){if("framework"===t){var r=e.length+" frameworks detected.";this.$store.commit("app/importStatus",r),this.$store.commit("app/importTransition","serverFrameworksDetected")}for(var s in e)e[s].loading=!1,e[s].success=!1,e[s].error=!1,e[s].checked=!1,"directory"!==t||e[s].parentDirectory&&this.searchingTopLevel?"framework"===t&&this.cassFrameworks.push(e[s]):this.cassDirectories.push(e[s])},importCassFrameworks:function(e){if(this.$store.commit("app/importTransition","importingCassFrameworks"),e){var t=e[1];this.cassFrameworks[t].loading=!1,this.cassFrameworks[t].error=!0}for(var r=this.cassFrameworks.length-1;r>=0;r--)this.cassFrameworks[r].checked?!1===this.cassFrameworks[r].success&&!1===this.cassFrameworks[r].error&&(this.cassFrameworks[r].loading=!0):this.cassFrameworks.splice(r,1);var s=0,i=null;for(r=0;r<this.cassFrameworks.length;r++)!0===this.cassFrameworks[r].loading&&(s++,null==i&&(i=r));if(0===s)this.$store.commit("app/importFramework",this.$store.getters["editor/framework"]),1===this.cassFrameworks.length?this.importSuccess():(this.$store.commit("app/sortResults",{id:"lastEdited",label:"last modified"}),this.$router.push({name:"frameworks"})),this.$store.commit("app/importStatus","Import finished.");else{var o=this;EcRepository.cache={},EcFramework.get(this.cassFrameworks[i].shortId(),(function(e){o.$store.commit("app/importStatus","framework found..."),o.showModal("duplicateOverwriteOnly",[[o.cassFrameworks[i],i],e])}),(function(e){o.$store.commit("app/importStatus","no match, saving new framework..."),o.continueCassImport([o.cassFrameworks[i],i])}))}},precacheRemoteServer:function(e,t,r){for(var s=[],i=0;i<e.length;i++){var o=e[i];o.startsWith(this.remoteRepo.selectedServer)?s.push(o.replace(this.remoteRepo.selectedServer,"").replace("custom/","")):s.push("data/"+EcCrypto.md5(o))}if(0!==s.length){var a=new FormData;a.append("data",JSON.stringify(s)),EcRemote.postExpectingObject(this.remoteRepo.selectedServer,"sky/repo/multiGet",a,(function(e){for(var r=e,i=0;i<r.length;i++){var o=new EcRemoteLinkedData(null,null);if(o.copyFrom(r[i]),r[i]=o,EcRepository.caching){if(!EcRepository.shouldTryUrl(o.id))for(var a=EcCrypto.md5(o.shortId()),n=0;n<s.length;n++){var c=s[n];if(-1!==c.indexOf(a)){EcRepository.cache[c]=o;break}}EcRepository.cache[o.shortId()]=o,EcRepository.cache[o.id]=o}}null!=t&&t()}),null)}else null!=t&&t()},continueCassImport:function(e){var t=e[0],r=e[1],s=this,i=new EcFramework;i.copyFrom(t),delete i.owner,delete i.reader,EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),i.id=i.shortId(),i["schema:dateModified"]=(new Date).toISOString(),delete i.loading,delete i.success,delete i.error,delete i.checked,delete i.directory;var o=[];o.push(i);var a=[];i.competency&&i.competency.length&&(a=i.competency),i.relation&&i.relation.length&&(a=a.concat(i.relation)),i.level&&i.level.length&&(a=a.concat(i.level)),EcRepository.alwaysTryUrl=!0,this.precacheRemoteServer(a,(function(){(new EcAsyncHelper).each(a,(function(e,t){EcRepository.get(e,(function(e){var r="Ec"+e.type;"EcRelation"===r&&(r="EcAlignment");var s=new window[r];s.copyFrom(e),delete s.owner,delete s.reader,EcIdentityManager.ids.length>0&&s.addOwner(EcIdentityManager.ids[0].ppk.toPk()),s.id=s.shortId(),o.push(s),t()}),t)}),(function(e){EcRepository.alwaysTryUrl=!1,s.repo.multiput(o,(function(){s.cassFrameworks[r].loading=!1,s.cassFrameworks[r].success=!0,s.$store.commit("editor/framework",i),s.spitEvent("importFinished",i.shortId(),"importPage"),s.importCassFrameworks()}),(function(){s.cassFrameworks[r].loading=!1,s.cassFrameworks[r].error=!0,s.importCassFrameworks()}))}))}),(function(e){appError(e)}))},openDirectory:function(e){this.directoryThatsOpen=e;var t=this,r={size:50,sort:'[ { "name.keyword": {"order" : "asc"}} ]'};EcDirectory.search(this.remoteRepo,'parentDirectory:"'+e.shortId()+'"',(function(e){t.cassDirectories.splice(0,t.cassDirectories.length),t.searchingTopLevel=!1,t.cassSearchSuccess(e,"directory")}),appError,r),EcFramework.search(this.remoteRepo,'directory:"'+e.shortId()+'"',(function(e){t.cassFrameworks.splice(0,t.cassFrameworks.length),t.cassSearchSuccess(e,"framework")}),appError,r)},selectAllFrameworks:function(){for(var e in this.cassFrameworks)this.cassFrameworks[e].checked=!0,EcArray.setAdd(this.selectedFrameworks,this.cassFrameworks[e].id)},caseDetectEndpoint:function(){var e=this,t={message:"Unable to import from the URL Endpoint provided.",details:""},r=this.importServerUrl;r.endsWith("/")||(r+="/"),this.get(r,"ims/case/v1p0/CFDocuments",{Accept:"application/json"},(function(t){e.caseGetDocsSuccess(t)}),(function(r){r?(t.details="Error: "+r,401===r&&(t.details+=" A CASE framework cannot be imported if it uses API Key authentication."),e.$store.commit("app/importTransition","upload"),e.$store.commit("app/addImportError",t.details),e.showModal("error",t)):e.caseGetServerSide()}))},caseGetDocsSuccess:function(e){var t;if(e=JSON.parse(e),this.caseDocs=[],null==e.CFDocuments)t="No frameworks found. Please check the URL and try again.",this.$store.commit("app/addImportError",t),me.$store.commit("app/importTransition","process");else{var r=e.CFDocuments.length+" frameworks detected.";this.$store.commit("app/importStatus",r),this.$store.commit("app/importTransition","serverFrameworksDetected");for(var s=0;s<e.CFDocuments.length;s++){var i=e.CFDocuments[s],o={};o.name=i.title,o.id=i.uri,o.identifier=i.identifier,o.loading=!1,o.success=!1,o.error=!1,o.checked=!1,this.caseDocs.push(o)}this.caseCancel=!1}},caseGetServerSide:function(){var e=this;EcRemote.getExpectingString(this.repo.selectedServer,"ims/case/getDocs?url="+this.importServerUrl,(function(t){e.caseGetDocsSuccess(t)}),(function(t){e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError","No frameworks found. Please check the URL and try again.")}))},importCase:function(e){if(e){var t=e[1];this.caseDocs[t].loading=!1,this.caseDocs[t].error=!0}for(var r=this.caseDocs.length-1;r>=0;r--)this.caseDocs[r].checked?!1===this.caseDocs[r].success&&!1===this.caseDocs[r].error&&(this.caseDocs[r].loading=!0):this.caseDocs.splice(r,1);if(!this.caseCancel){var s=0,i=null;for(r=0;r<this.caseDocs.length;r++)!0===this.caseDocs[r].loading&&(s++,null==i&&(i=r));if(0===s)this.$store.commit("app/importFramework",this.$store.getters["editor/framework"]),this.importSuccess(),this.$store.commit("app/importStatus","Import finished.");else{var o=this,a=this.caseDocs[i].id;o.repo.search('(@id:"'+a+'") AND (@type:Framework)',(function(){}),(function(e){appLog(e),e.length>0?(o.$store.commit("app/importStatus","framework found..."),o.showModal("duplicateOverwriteOnly",[[o.caseDocs[i],i],e[0]])):(o.$store.commit("app/importStatus","no match, saving new framework..."),o.continueCaseImport([o.caseDocs[i],i]))}),(function(e){o.$store.commit("app/importStatus",e),o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",e)}))}}},continueCaseImport:function(e){var t=e[0],r=e[1],s=this,i=t.id,o=t.identifier,a=EcIdentityManager.ids[0],n=new FormData;null!=a&&n.append("owner",a.ppk.toPk().toPem()),EcRemote.postInner(this.repo.selectedServer,"ims/case/harvest?caseEndpoint="+this.importServerUrl+"&dId="+o,n,null,(function(e){s.caseDocs[r].loading=!1,s.caseDocs[r].success=!0,appLog(i),EcFramework.get(i,(function(e){s.$store.commit("editor/framework",e),s.spitEvent("importFinished",e.shortId(),"importPage"),s.importCase()}),(function(e){appError(e),s.importCase()}))}),(function(e){s.caseDocs[r].loading=!1,s.caseDocs[r].error=!0,s.importCase()}))},cancelCase:function(){this.caseCancel=!0;for(var e=null,t=0;t<this.caseDocs.length;t++)!0===this.caseDocs[t].loading&&(null==e?e=t:(this.caseDocs[t].loading=!1,this.caseDocs[t].error=!0));this.clearImport(),this.$store.commit("app/importTransition","upload")},goBack:function(){var e=this;this.directoryThatsOpen&&this.directoryThatsOpen.parentDirectory?EcRepository.get(this.directoryThatsOpen.parentDirectory,(function(t){e.openDirectory(t)}),(function(t){appError(t),e.directoryThatsOpen=null,e.cassSearchEndpoint()})):(this.directoryThatsOpen=null,this.cassSearchEndpoint())},findDirectoryTrail:function(e){var t=this;e.parentDirectory&&EcDirectory.get(e.parentDirectory,(function(e){e&&!e.parentDirectory?t.directoryTrail.unshift(e):e&&(t.directoryTrail.unshift(e),t.findDirectoryTrail(e))}),appError)}},watch:{importServerUrl:function(e){this.caseDocs=[]},searchTerm:function(e){this.cassSearchEndpoint()},selectDirectory:function(){"all"===this.selectDirectory?(this.selectDirectory=null,this.directoryThatsOpen=null,this.cassSearchEndpoint()):(this.openDirectory(this.selectDirectory),this.directoryTrail.splice(0,this.directoryTrail.length),this.findDirectoryTrail(this.selectDirectory))},selectedFrameworks:function(){for(var e in this.cassFrameworks)EcArray.has(this.selectedFrameworks,this.cassFrameworks[e].id)?this.cassFrameworks[e].checked=!0:this.cassFrameworks[e].checked=!1},cassFrameworks:function(){this.selectedFrameworks.splice(0,this.selectedFrameworks.length)}}},M=L,N=(r("3410"),Object(u["a"])(M,A,O,!1,null,null,null)),U=N.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-mobile",attrs:{id:"import-from-url"}},[r("div",{staticClass:"column is-12"},[r("div",{staticClass:"container py-6"},[e._t("import-url-title",[r("p",[e._v("No import type selected")])]),r("div",{staticClass:"columns is-multiline"},[r("div",{staticClass:"column is-12"},[r("ImportTabs")],1),r("div",{staticClass:"column is-12"},["importingFromUrl"===e.importTransition?r("div",{staticClass:"section has-text-centered"},[e._m(0)]):e._e(),"upload"===e.importTransition?[r("div",{staticClass:"field"},[r("p",{staticClass:"control is-expanded"},[r("label",{staticClass:"label is-large"},[e._v(" Paste URL of document ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.importUrl,expression:"importUrl"}],staticClass:"input is-large",attrs:{placeholder:"paste your url here...",type:"url"},domProps:{value:e.importUrl},on:{input:function(t){t.target.composing||(e.importUrl=t.target.value)}}})])]),r("div",{staticClass:"field"},[r("div",{staticClass:"buttons is-right"},[r("span",{staticClass:"button is-outlined is-centered is-large is-primary",on:{click:e.importFromUrl}},[e._m(1),r("span",[e._v(" Import framework ")])])])]),r("div",[r("p",{staticClass:"title is-size-5"},[e._v(" Looking for examples? Try one of the following O*Net Competency Frameworks ")]),r("ul",{staticClass:"cat__bullet-list"},[r("li",[r("span",{staticClass:"custom-link local",on:{click:function(t){e.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c257d6-9119-11e8-b852-782bcb5df6ac"}}},[e._v(" Abilities Competency Framework ")])]),r("li",[r("span",{staticClass:"custom-link local",on:{click:function(t){e.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c25f74-9119-11e8-b852-782bcb5df6ac"}}},[e._v(" Basic Skills Competency Framework ")])]),r("li",[r("span",{staticClass:"custom-link local",on:{click:function(t){e.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c264d7-9119-11e8-b852-782bcb5df6ac"}}},[e._v(" Cross-Functional Skills Competency Framework ")])]),r("li",[r("span",{staticClass:"custom-link local",on:{click:function(t){e.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c27a0f-9119-11e8-b852-782bcb5df6ac"}}},[e._v(" Knowledge Competency Framework ")])]),r("li",[r("span",{staticClass:"custom-link local",on:{click:function(t){e.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-9fab4187-d8e7-11e9-8250-782bcb5df6ac"}}},[e._v(" Technology Skills Competency Framework ")])])])])]:"process"!==e.importTransition&&"info"!==e.importTransition||0!==e.importErrors.length?e.importErrors.length>0?r("div",{staticClass:"column has-text-danger"},[r("ul",[e._l(e.importErrors,(function(t,s){return r("li",{key:s,staticClass:"is-size-6"},[r("span",{},[e._m(2,!0),e._v(" "+e._s(t)+" ")])])})),r("li")],2),r("div",{staticClass:"section"},[r("div",{staticClass:"buttons is-centered"},[r("div",{staticClass:"button is-primary",on:{click:function(t){return e.resetImport()}}},[e._m(3),r("span",[e._v("start over")])])])])]):e._e():r("div",{staticClass:"column"},[r("div",{staticClass:"section has-text-centered"},["process"===e.importTransition?r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})]):e._e()]),r("div",{staticClass:"section"},[r("p",{staticClass:"is-size-6"},[e._v(" "+e._s(e.importStatus)+" ")])])])],2),r("div",{staticClass:"column is-12"},[e._t("import-framework")],2)])],2)])])},q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"file-icon"},[r("i",{staticClass:"fas fa-upload"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-redo"})])}],B={name:"ImportUrl",components:{ImportTabs:f},mixins:[d,D["a"]],data:function(){return{importType:"url",importErrors:[],importUrl:"",repo:window.repo}},computed:{importInfoVisible:function(){return this.$store.getters["app/showRightAside"]}},props:{importTransition:{type:String,default:""}},methods:{},watch:{}},z=B,H=Object(u["a"])(z,V,q,!1,null,null,null),W=H.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-mobile",attrs:{id:"import-from-text"}},[r("div",{staticClass:"column is-12"},[r("div",{staticClass:"container py-6"},[e._t("import-text-title",[r("p",[e._v("No import type selected")])]),r("div",{staticClass:"columns is-multiline"},[r("div",{staticClass:"column is-12"},[r("ImportTabs")],1),r("div",{staticClass:"column is-12"},[r("h3",{staticClass:"title is-size-3 has-text-weight-medium"},[r("span",{staticClass:"button is-pulled-right is-large is-primary is-outlined mr-4",attrs:{disabled:!e.importFrameworkName||!e.importText||0===e.importFrameworkName.trim().length},on:{click:function(t){return e.$store.commit("app/importStatus","parseText")}}},[e._v(" Import ")])])]),r("div",{staticClass:"column",class:""!==e.importText?"is-6":"is-12"},[r("div",{staticClass:"import-by-text-form"},[r("h3",{staticClass:"label is-size-4"},[e._v(" Import by text form ")]),r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v(" Framework name ")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.importFrameworkName,expression:"importFrameworkName"}],staticClass:"input",attrs:{placeholder:"Framework Name"},domProps:{value:e.importFrameworkName},on:{input:function(t){t.target.composing||(e.importFrameworkName=t.target.value)}}})])]),r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v(" Paste Text ")]),r("div",{staticClass:"control"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.rawImportText,expression:"rawImportText"}],staticClass:"textarea import-text-textarea",attrs:{placeholder:"Start typing or paste your text here..."},domProps:{value:e.rawImportText},on:{keypress:function(t){return e.handleKeydown(t)},input:function(t){t.target.composing||(e.rawImportText=t.target.value)}}})])])])]),r("div",{staticClass:"column is-6"},[e._t("import-framework")],2)])],2)])])},K=[],J={name:"ImportText",props:{},components:{ImportTabs:f},mixins:[d,D["a"]],data:function(){return{rawImportText:""}},methods:{handleKeydown:function(e){}},computed:{importInfoVisible:function(){return this.$store.getters["app/showRightAside"]},importText:function(){return this.rawImportText},text:function(){return this.$store.getters["app/importText"]},importStatus:function(){return this.$store.getters["app/importStatus"]},importFrameworkName:{get:function(){return this.$store.getters["app/importFrameworkName"]},set:function(e){return this.$store.commit("app/importFrameworkName",e)}},importFrameworkDescription:function(){return this.$store.getters["app/importFrameworkDescription"]},queryParams:function(){return this.$store.getters["editor/queryParams"]},conceptMode:function(){return this.$store.getters["editor/conceptMode"]},importErrors:function(){return this.$store.getters["app/importErrors"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importType:function(){return this.$store.getters["app/importType"]},importTransition:function(){return this.$store.getters["app/importTransition"]}}},Y=J,X=Object(u["a"])(Y,G,K,!1,null,null,null),Q=X.exports,Z=r("b047"),ee=r.n(Z),te=r("9418"),re=r("6ffa4"),se=r("1102"),ie=r("f188"),oe=r("098b"),ae=r("8051"),ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.importFramework&&"detail"===e.importTransition?r("div",{staticClass:"section import-details"},[r("div",{staticClass:"import-details__section"},[r("h3",{staticClass:"subtitle is-size-3 has-text-weight-normal"},[e._v(" The following details were detected. ")]),r("p",{staticClass:"is-size-6 has-text-weight-light"},[e._v(" If these details don't look correct, please verify your file is correct and import again. ")]),r("ul",{staticClass:"is-size-6 detected-import-details"},[e.detailsDetected.columns>0?r("li",[e._m(0),e._v(" CaSS detected "),r("b",[e._v(e._s(e.detailsDetected.columns))]),e._v(" columns ")]):e._e(),e.detailsDetected.rows>0?r("li",[e._m(1),e._v(" CaSS detected "),r("b",[e._v(e._s(e.detailsDetected.rows))]),e._v(" rows ")]):e._e(),r("li",[e._m(2),e._v(" CaSS detected "),r("b",[e._v(e._s(e.detailsDetected.competencies))]),e._v(" competencies in the imported framework ")]),r("li",[e._m(3),e._v(" CaSS detected a "),r("b",[e._v(e._s(e.detailsDetected.fileType))]),e._v(" file type ")]),e.detailsDetected.headers?r("li",[e._m(4),r("b",[e._v("Header rows detected")])]):e._e()]),r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:" button is-light is-small is-pulled-right is-dark is-outlined",on:{click:e.cancelImport}},[r("span",[e._v(" Cancel ")]),e._m(5)]),"detail"===e.importTransition?r("div",{staticClass:"button is-small is-primary is-outlined",on:{click:function(t){return e.$store.commit("app/importTransition","preview")}}},[r("span",[e._v(" Accept Details & Review ")]),e._m(6)]):e._e()])])]):e._e()},ce=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-success"},[r("i",{staticClass:"fa fa-check-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-success"},[r("i",{staticClass:"fa fa-check-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-success"},[r("i",{staticClass:"fa fa-check-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-success"},[r("i",{staticClass:"fa fa-check-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-success"},[r("i",{staticClass:"fa fa-check-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times-circle"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-small"},[r("i",{staticClass:"fas fa-arrow-right"})])}],le={name:"ImportDetails",props:{detailsDetected:Object},components:{},computed:{importErrors:function(){return this.$store.getters["app/importErrors"]},importFile:function(){return this.$store.getters["app/importFiles"]},importTransition:function(){return this.$store.getters["app/importTransition"]},importType:function(){return this.$store.getters["app/importType"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importStatus:function(){return this.$store.getters["app/importStatus"]}},methods:{cancelImport:function(){this.$emit("delete-object",this.importFramework),this.$store.dispatch("app/clearImport")}}},pe=le,de=Object(u["a"])(pe,ne,ce,!1,null,null,null),he=de.exports,ue=r("25d8"),ge=r("b1ab"),fe={name:"Import",mixins:[D["a"],re["a"],se["a"],ie["a"],ge["a"],d],components:{RightAside:o["default"],MainLayout:a["a"],Hierarchy:te["default"],Thing:oe["default"],ThingEditing:ae["default"],ImportTabs:f,ImportDetails:he,ConceptHierarchy:ue["default"],ImportFile:j,ImportServer:U,ImportUrl:W,ImportText:Q},data:function(){return{parentObjectClass:"parent-object",editingNode:!1,hierarchyIsdoneLoading:!1,frameworkBusy:!0,detailsDetected:{rows:0,columns:0,headers:!1,competencies:0,format:"Department of Labor",fileType:""},repo:window.repo,competencyCount:0,relationCount:0,caseCancel:!1,selectedArray:[],changedObj:null}},computed:{importInfoVisible:function(){return this.$store.getters["app/showRightAside"]},queryParams:function(){return this.$store.getters["editor/queryParams"]},conceptMode:function(){return this.$store.getters["editor/conceptMode"]},showImportActions:function(){return"detail"===this.importTransition||"preview"===this.importTransition||"light"===this.importTransition},importServerUrl:function(){return this.$store.getters["app/importServerUrl"]},importUrl:function(){return this.$store.getters["app/importUrl"]},importErrors:function(){return this.$store.getters["app/importErrors"]},importFile:function(){return this.$store.getters["app/importFiles"]},importTransition:function(){return this.$store.getters["app/importTransition"]},importType:function(){return this.$store.getters["app/importType"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importFrameworkName:{get:function(){return this.$store.getters["app/importFrameworkName"]},set:function(e){return this.$store.commit("app/importFrameworkName",e)}},importFrameworkDescription:function(){return this.$store.getters["app/importFrameworkDescription"]},dynamicThing:function(){return this.editingNode?"ThingEditing":"Thing"},isT3Import:function(){return"pdf"===this.importFileType},importStatus:function(){return this.$store.getters["app/importStatus"]},csvColumns:{get:function(){return this.$store.getters["app/csvColumns"]},set:function(e){this.$store.commit("app/csvColumns",e)}},csvRelationColumns:{get:function(){return this.$store.getters["app/csvRelationColumns"]},set:function(e){this.$store.commit("app/csvRelationColumns",e)}},csvRelationFile:function(){return this.$store.getters["app/csvRelationFile"]},importCsvColumnName:{get:function(){return this.$store.getters["app/importNameColumn"]},set:function(e){this.$store.commit("app/importNameColumn",e)}},importCsvColumnDescription:{get:function(){return this.$store.getters["app/importDescriptionColumn"]},set:function(e){this.$store.commit("app/importDescriptionColumn",e)}},importCsvColumnScope:{get:function(){return this.$store.getters["app/importScopeColumn"]},set:function(e){this.$store.commit("app/importScopeColumn",e)}},importCsvColumnId:{get:function(){return this.$store.getters["app/importIdColumn"]},set:function(e){this.$store.commit("app/importIdColumn",e)}},importCsvColumnSource:{get:function(){return this.$store.getters["app/importSourceColumn"]},set:function(e){this.$store.commit("app/importSourceColumn",e)}},importCsvColumnRelationType:{get:function(){return this.$store.getters["app/importRelationColumn"]},set:function(e){this.$store.commit("app/importRelationColumn",e)}},importCsvColumnTarget:{get:function(){return this.$store.getters["app/importTargetColumn"]},set:function(e){this.$store.commit("app/importTargetColumn",e)}},firstImport:{get:function(){return this.$store.getters["app/firstImport"]},set:function(e){this.$store.commit("app/firstImport",e)}},text:function(){return this.$store.getters["app/importText"]},containerProfile:function(){return this.conceptMode?this.ctdlAsnConceptSchemeProfile:this.isT3Import?this.t3FrameworkProfile:"true"===this.queryParams.ceasnDataFields?this.ctdlAsnFrameworkProfile:this.t3FrameworkProfile},hierarchyProfile:function(){return this.conceptMode?this.ctdlAsnConceptProfile:this.isT3Import?this.t3CompetencyProfile:"true"===this.queryParams.ceasnDataFields?this.ctdlAsnCompetencyProfile:this.t3CompetencyProfile}},created:function(){this.$store.commit("editor/framework",null),this.spitEvent("viewChanged")},beforeDestroy:function(){this.clearImport()},mounted:function(){this.clearImport(),this.$store.commit("app/showRightAside");var e=document.getElementById("import");e.addEventListener("scroll",ee()(this.scrollFunction,100,{leading:!0}))},watch:{importStatus:function(e,t){e!==t&&("connectToServer"===e?this.connectToServer():"importFromUrl"===e?this.importFromUrl():"parseText"===e&&this.parseText())}}},we=fe,ye=(r("6bed"),Object(u["a"])(we,s,i,!1,null,null,null));t["default"]=ye.exports},"48dd":function(e,t,r){},"498a":function(e,t,r){"use strict";var s=r("23e7"),i=r("58a8").trim,o=r("c8d2");s({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4cef":function(e,t){var r=/\s/;function s(e){var t=e.length;while(t--&&r.test(e.charAt(t)));return t}e.exports=s},5650:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("div",{staticClass:"px-1"},[r("h2",{staticClass:"title is-size-2 has-text-weight-light"},[e._v(" Adding property ")]),""===e.selectedPropertyToAdd?r("p",{staticClass:"subtitle is-size-5"},[e._v(" Select a property from one of the following groups. ")]):""===e.selectedPropertyToAdd||e.selectedPropertyToAddIsTextValue?e._e():r("p",{staticClass:"subtitle is-size-5"},[e._v(" When adding relationships or levels, you can either search for existing relationships/levels or add one via url. Choose one. ")])]),""!==e.selectedPropertyToAdd?r("div",{staticClass:"py-4 px-1"},[""!==e.selectedPropertyToAdd?r("p",{staticClass:"title is-size-3 has-text-weight-normal"},[e._v(" "+e._s(e.selectedPropertyToAdd.label)+" "),r("span",{staticClass:"button is-pulled-right is-text has-text-primary",on:{click:function(t){e.selectedPropertyToAdd="",e.addRelationBy=""}}},[e._m(0),r("span",[e._v("back")])])]):e._e(),e.selectedPropertyToAddIsTextValue||"url"===e.addRelationBy?r("div",{staticClass:"add-property-field"},[r("div",{staticClass:"add-property__input-type"},[r("div",{staticClass:"add-property__select-type"},[r("div",{staticClass:"field is-expanded"},[e.checkedOptions&&e.profile&&e.profile[e.selectedPropertyToAdd.value]&&e.profile[e.selectedPropertyToAdd.value]["options"]?[r("p",{staticClass:"subtitle is-size-6"},[e._v(" Choose one or more of the following levels. ")]),e._l(e.optionsArray,(function(t){return r("div",{key:t,staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedOptions,expression:"checkedOptions"}],staticClass:"is-checkradio",attrs:{type:"checkbox",name:t.val,id:t.val},domProps:{value:t.val,checked:Array.isArray(e.checkedOptions)?e._i(e.checkedOptions,t.val)>-1:e.checkedOptions},on:{change:function(r){var s=e.checkedOptions,i=r.target,o=!!i.checked;if(Array.isArray(s)){var a=t.val,n=e._i(s,a);i.checked?n<0&&(e.checkedOptions=s.concat([a])):n>-1&&(e.checkedOptions=s.slice(0,n).concat(s.slice(n+1)))}else e.checkedOptions=o}}}),r("label",{staticClass:"label",attrs:{for:t.val}},[e._v(" "+e._s(t.name)+" ")])])}))]:r("PropertyString",{attrs:{index:"null",expandedProperty:e.selectedPropertyToAdd.value,langString:e.selectedPropertyToAddIsLangString,range:e.selectedPropertyRange,newProperty:!0,profile:e.profile,addSingle:!0,valueFromSearching:e.selectedPropertyToAddValue,options:e.profile&&e.profile[e.selectedPropertyToAdd.value]&&e.profile[e.selectedPropertyToAdd.value]["options"]?e.profile[e.selectedPropertyToAdd.value]["options"]:null}})],2)])])]):""===e.selectedPropertyToAdd||e.selectedPropertyToAddIsTextValue?e._e():r("div",{staticClass:"add-property__field"},[r("div",{staticClass:"buttons is-left"},[e.selectedPropertyRange&&-1!==e.selectedPropertyRange[0].toLowerCase().indexOf("level")&&!e.editingMultipleCompetencies?r("div",{staticClass:"button is-outlined is-primary",attrs:{type:"text"},on:{click:e.addNewLevel}},[e._m(1),r("span",[e._v(" create new Level ")])]):e._e(),r("div",{staticClass:"button is-outlined is-primary",attrs:{type:"text"},on:{click:function(t){e.addRelationBy="url"}}},[r("span",[e._v(" Add "+e._s(e.selectedPropertyToAdd.label)+" by url ")]),e._m(2)]),r("div",{staticClass:"button is-outlined is-primary",attrs:{type:"button"},on:{click:e.search}},[r("span",[e._v(" Search for "+e._s(e.selectedPropertyToAdd.label)+" to add ")]),e._m(3)])])])]):e._e(),r("div",{},[r("div",{staticClass:"columns my-2"},[r("div",{staticClass:"column is-6"},[""===e.selectedPropertyToAdd?r("div",{staticClass:"buttons"},[r("div",{staticClass:"button is-small",class:"all"===e.filterProperties?"is-primary":"",on:{click:function(t){e.filterProperties="all"}}},[e._v(" all ")]),r("div",{staticClass:"button is-small",class:"relationships"===e.filterProperties?"is-primary":"",on:{click:function(t){e.filterProperties="relationships"}}},[e._v(" relationships ")]),r("div",{staticClass:"button is-small",class:"general"===e.filterProperties?"is-primary":"",on:{click:function(t){e.filterProperties="general"}}},[e._v(" general ")])]):e._e()]),r("div",{staticClass:"column is-6"},[""===e.selectedPropertyToAdd?r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-small",class:"list"===e.propertyView?"is-primary":"",on:{click:function(t){e.propertyView="list"}}},[e._m(4)]),r("div",{staticClass:"button is-small",class:"grid"===e.propertyView?"is-primary":"",on:{click:function(t){e.propertyView="grid"}}},[e._m(5)])]):e._e()])]),""===e.selectedPropertyToAdd?[r("div",{staticClass:"columns is-multiline property-columns px-1"},[r("div",{staticClass:"column is-12 slide px-4",class:{collapsed:!e.showGeneral}},[r("div",{staticClass:"columns is-mobile is-multiline"},e._l(e.showProperties,(function(t){return r("div",{key:t,staticClass:"column property",class:"grid"===e.propertyView?"is-3":"is-12"},[r("div",{staticClass:"property-button",class:{selected:t===e.selectedPropertyToAdd},attrs:{title:t.description},on:{click:function(r){e.selectedPropertyToAdd=t}}},[r("p",{staticClass:"has-text-weight-semibold is-size-6"},[e._v(" "+e._s(t.label)+" ")]),r("p",{staticClass:"is-size-7 property-description"},[e._v(" "+e._s(t.description)+" ")])])])})),0)])])]:e._e(),r("p",{staticClass:"help is-danger"},[e._v(" "+e._s(e.errorMessage[0])+" ")])],2),e.$store.state.featuresEnabled.configurationsEnabled?r("div",{staticClass:"px-1"},[r("p",{staticClass:"subtitle"},[e._v(" Note: Property options are determined by your "),r("router-link",{attrs:{target:"_blank",to:"/configuration"}},[e._v(" configuration settings. ")]),e._v(" If a property is unavailable to you here, please refer to your configuration settings or contact your administrator. ")],1)]):e._e()])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-arrow-left"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-plus"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-link"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-search"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-list-alt"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-th"})])}],o=(r("b0c0"),r("a9e3"),r("159b"),r("d17f")),a={name:"AddProperty",props:{profile:Object,expandedThing:Object,editingMultipleCompetencies:Boolean,idx:Number,addedPropertiesAndValuesFromSearching:Object,errorMessage:{type:Array,default:function(){return[]}}},components:{PropertyString:o["default"]},data:function(){return{filterProperties:"all",propertyView:"list",showGeneral:!0,showRelationships:!0,showResources:!0,addRelationBy:"",selectedPropertyToAdd:"",selectedPropertyRange:null,selectedPropertyToAddIsLangString:!1,selectedPropertyToAddValue:null,checkedOptions:null,skipConfigProperties:["alwaysProperties","headings","primaryProperties","secondaryProperties","tertiaryProperties","relationshipsHeading","relationshipsPriority"],optionsArray:[]}},mounted:function(){this.editingMultipleCompetencies&&this.addedPropertiesAndValuesFromSearching.value.length&&(this.selectedPropertyToAdd=this.addedPropertiesAndValuesFromSearching.property,this.selectedPropertyToAddValue=this.addedPropertiesAndValuesFromSearching.value,this.addRelationBy="url")},computed:{showProperties:function(){var e=this.allProperties;return"all"===this.filterProperties?e=this.allProperties:"relationships"===this.filterProperties?e=this.relationshipProperties:"general"===this.filterProperties&&(e=this.generalProperties),e},allProperties:function(){var e=[];return this.propertyOptions.forEach((function(t){e.push(t)})),e},generalProperties:function(){var e=[];return this.propertyOptions.forEach((function(t){"relationship"!==t.type&&"resource"!==t.type&&e.push(t)})),e},relationshipProperties:function(){var e=[];return this.propertyOptions.forEach((function(t){"relationship"===t.type&&e.push(t)})),e},resourceProperties:function(){var e=[];return this.propertyOptions.forEach((function(t){"resource"===t.type&&e.push(t)})),e},propertyOptions:function(){var e=[];if(this.profile)for(var t in this.profile)if(!EcArray.has(this.skipConfigProperties,t)){if("true"===this.profile[t]["readOnly"]||!0===this.profile[t]["readOnly"])continue;if(!this.editingMultipleCompetencies&&1===this.profile[t]["max"])if(this.profile[t]["valuesIndexed"]){var r=this.profile[t]["valuesIndexed"];if(r=r(),r&&r[this.obj.shortId()])continue}else if(null!=this.expandedThing[t]&&this.expandedThing[t].length>0)continue;var s=this.profile[t]["http://www.w3.org/2000/01/rdf-schema#label"][0]["@value"],i=this.profile[t]["http://www.w3.org/2000/01/rdf-schema#comment"][0]["@value"],o="property";-1!==this.profile[t]["http://schema.org/rangeIncludes"][0]["@id"].toLowerCase().indexOf("competency")?o="relationship":-1!==this.profile[t]["http://schema.org/rangeIncludes"][0]["@id"].toLowerCase().indexOf("level")&&(o="level"),!0===this.profile[t]["resource"]&&(o="resource"),e.push({value:t,label:s,description:i,type:o})}return e},selectedPropertyToAddIsTextValue:function(){var e,t=this.selectedPropertyToAdd.value;return this.profile&&this.profile[t]&&(e=this.profile[t]["http://schema.org/rangeIncludes"][0]["@id"]),!!e&&(-1===e.toLowerCase().indexOf("competency")&&-1===e.toLowerCase().indexOf("concept")&&((-1===e.toLowerCase().indexOf("level")||"checkedOptions"===this.profile[t]["add"])&&("https://purl.org/ctdlasn/terms/knowledgeEmbodied"!==this.selectedPropertyToAdd.value&&"https://purl.org/ctdlasn/terms/skillEmbodied"!==this.selectedPropertyToAdd.value&&"https://purl.org/ctdlasn/terms/taskEmbodied"!==this.selectedPropertyToAdd.value&&"https://purl.org/ctdlasn/terms/abilityEmbodied"!==this.selectedPropertyToAdd.value)))}},methods:{updatePropertyString:function(e,t){this.selectedPropertyToAddValue=e,this.$emit("property-string-updated",this.selectedPropertyToAdd,e,this.selectedPropertyRange,this.idx)},addNewLevel:function(){var e=this.profile[this.selectedPropertyToAdd.value]["add"],t=EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]);e(t)},removeValueAtIndex:function(){this.$store.commit("lode/removeAddingValueAtIndex",this.idx)},search:function(){if(this.addRelationBy="search",this.$emit("is-searching",!0),-1!==this.selectedPropertyRange[0].toLowerCase().indexOf("concept")?(this.$store.commit("lode/searchType","Concept"),this.$store.commit("lode/copyOrLink",!1)):-1!==this.selectedPropertyRange[0].toLowerCase().indexOf("level")?(this.$store.commit("lode/searchType","Level"),this.$store.commit("lode/copyOrLink",!0)):(this.$store.commit("lode/searchType","Competency"),this.$store.commit("lode/copyOrLink",!1)),this.$store.state.editor){var e=this.expandedThing?EcRepository.getBlocking(EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"])):null;this.$store.commit("editor/selectedCompetency",e),this.$store.commit("editor/selectCompetencyRelation",this.selectedPropertyToAdd.value)}this.$store.commit("lode/competencySearchModalOpen",!0)}},watch:{selectedPropertyToAdd:function(){if(this.selectedPropertyToAddIsLangString=!1,this.profile&&this.profile[this.selectedPropertyToAdd.value]){var e=[],t=this.profile[this.selectedPropertyToAdd.value]["http://schema.org/rangeIncludes"];if(null!=t||void 0!==t)for(var r=0;r<t.length;r++)e.push(t[r]["@id"]),"http://www.w3.org/2000/01/rdf-schema#langString"===t[r]["@id"]&&(this.selectedPropertyToAddIsLangString=!0);this.selectedPropertyRange=e,this.$store.commit("lode/setAddingProperty",this.selectedPropertyToAdd.value)}if(this.selectedPropertyToAdd.value&&-1!==this.selectedPropertyToAdd.value.toLowerCase().indexOf("level")&&this.profile&&this.profile[this.selectedPropertyToAdd.value]&&this.profile[this.selectedPropertyToAdd.value]["options"]?this.checkedOptions=[]:this.checkedOptions=null,this.profile&&this.profile[this.selectedPropertyToAdd.value]&&this.profile[this.selectedPropertyToAdd.value]["options"]&&this.checkedOptions)for(var s=0;s<this.profile[this.selectedPropertyToAdd.value]["options"].length;s++){var i=this.profile[this.selectedPropertyToAdd.value]["options"][s];i.name=EcRepository.getBlocking(i.val).name,this.optionsArray.push(i)}},checkedOptions:function(){this.$store.commit("lode/setAddingChecked",this.checkedOptions),this.updatePropertyString(this.checkedOptions)},selectedPropertyToAddValue:function(){this.$store.commit("lode/setAddingValue",this.selectedPropertyToAddValue)},selectedPropertyRange:function(){this.$store.commit("lode/setAddingRange",this.selectedPropertyRange)},addedPropertiesAndValuesFromSearching:function(){this.editingMultipleCompetencies&&this.addedPropertiesAndValuesFromSearching.value.length&&(this.selectedPropertyToAdd=this.addedPropertiesAndValuesFromSearching.property,this.selectedPropertyToAddValue=this.addedPropertiesAndValuesFromSearching.value,this.addRelationBy="url")}}},n=a,c=(r("639d"),r("2877")),l=Object(c["a"])(n,s,i,!1,null,null,null);t["a"]=l.exports},"585a":function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("c8ba"))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var s=r("1d80"),i=r("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),n=RegExp(o+o+"*$"),c=function(e){return function(t){var r=String(s(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(n,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5e26":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.expandedThing?r("div",{class:["lode__Property lode__"+e.shortTypeAsClass,e.editingPropertyClass,{"has-value":e.expandedValue}]},[r("modal-template",{attrs:{active:e.removePropertyConfirmModal},on:{close:e.closeModal}},[r("template",{slot:"modal-header"},[e._v(" Confirm Remove Property ")]),r("template",{slot:"modal-body"},[r("section",[e._v(" Are you sure you'd like to remove this property? ")])]),r("template",{slot:"modal-foot"},[r("button",{staticClass:"is-danger is-outlined button",on:{click:e.clickConfirmRemove}},[e._v(" Confirm Remove Property ")]),r("button",{staticClass:"is-dark button",on:{click:e.closeModal}},[e._v(" Cancel ")])])],2),e.expandedValue&&e.show?[e._l(e.expandedValue,(function(t,s){return r("div",{key:s,staticClass:"property-section"},[e.editingProperty?[0===s?r("label",{staticClass:"label is-medium",attrs:{title:e.comment}},[e._v(" "+e._s(e.displayLabel)+e._s(e.isRequired?"*":"")+" "),e.comment?r("i",{staticClass:"fa fa-info-circle has-text-dark",attrs:{title:e.comment,"aria-hidden":"true"}}):e._e()]):e._e()]:e._e(),!e.editingProperty&&e.isLink(t)&&"@id"!=e.expandedProperty&&"registryURL"!=e.expandedProperty?[r(e.dynamicThing,{tag:"Component",staticClass:"lode__property",attrs:{uri:t["@id"]||t["@value"],clickToLoad:!0,competencyAsPropertyType:e.shortType,competencyAsPropertyObjectType:e.objectType,parentNotEditable:!e.canEdit,profile:e.childProfile}}),e.editingProperty?r("div",{staticClass:"editing-property"},[r("div",{staticClass:"control"},[e._m(0,!0),r("div",{staticClass:"button is-text has-text-danger",on:{click:function(r){return e.showModal("remove",t)}}},[r("i",{staticClass:"fa fa-times"})])])]):e._e()]:e.isText(t)?e.profile&&e.profile[e.expandedProperty]&&e.isLink(t)&&("true"===e.profile[e.expandedProperty]["noTextEditing"]||"true"===e.profile[e.expandedProperty]["readOnly"]||!0===e.profile[e.expandedProperty]["noTextEditing"]||!0===e.profile[e.expandedProperty]["readOnly"])?r("div",{staticClass:"read-only__link"},[e.editingThing?r("label",[e._v(" "+e._s(e.expandedValueNames[s])+" ")]):e._e(),r("div",{staticClass:"field is-grouped"},[e.editingProperty?e._e():r("span",{staticClass:"tag is-size-7 is-light"},[e._v(e._s(e.displayLabel))]),r("p",{staticClass:"control"},[r("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.getURL(t),expression:"getURL(item)"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.clipboardError,expression:"clipboardError",arg:"error"}],staticClass:"icon",attrs:{title:"Copy URL to the clipboard."}},[e.showClipboardSuccessMessage?r("i",{staticClass:"fa fa-check has-text-success"}):r("i",{staticClass:"fa fa-copy has-text-primary",attrs:{name:"copyURL",expandedProperty:e.expandedProperty,expandedValue:e.expandedValue}})])]),r("a",{staticClass:"control is-expanded is-id",attrs:{title:t["@id"]||t["@value"]}},[e._v(" "+e._s(t["@id"]||t["@value"])+" ")]),e.editingProperty?r("div",{staticClass:"control"},[r("div",{staticClass:"button disabled is-text has-text-danger",attrs:{disabled:"id"===e.shortType},on:{click:function(t){return e.showModal("remove",s)}}},[r("i",{staticClass:"fa fa-times"})])]):e._e()])]):e.editingProperty&&"String"===typeof t&&e.profile&&e.profile[e.expandedProperty]&&("true"===e.profile[e.expandedProperty]["noTextEditing"]||"true"===e.profile[e.expandedProperty]["readOnly"]||!0===e.profile[e.expandedProperty]["noTextEditing"]||!0===e.profile[e.expandedProperty]["readOnly"])?r("div",{staticClass:"editing-string__read-only"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("div",{staticClass:"uneditable"},[e._v(" "+e._s(t)+" ")])])]),e.editingProperty?r("div",{staticClass:"field delete-property-button"},[r("div",{staticClass:"control"},[e._m(2,!0),r("div",{staticClass:"button is-text has-text-danger",on:{click:function(r){return e.showModal("remove",t)}}},[r("i",{staticClass:"fa fa-times"})])])]):e._e()]):e.editingProperty&&e.profile&&e.profile[e.expandedProperty]&&("true"===e.profile[e.expandedProperty]["noTextEditing"]||"true"===e.profile[e.expandedProperty]["readOnly"]||!0===e.profile[e.expandedProperty]["noTextEditing"]||!0===e.profile[e.expandedProperty]["readOnly"])?r("div",{staticClass:"editing-non-string__read-only"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("div",{staticClass:"uneditable"},[e._v(" "+e._s(t["@value"])+" ")])])])]):e.editingProperty&&!e.checkedOptions?r("div",{staticClass:"property"},[r("PropertyString",{attrs:{index:s,expandedProperty:e.expandedProperty,expandedThing:e.expandedThing,expandedValue:e.expandedValue,langString:e.langString,range:e.range,view:e.view,options:e.profile&&e.profile[e.expandedProperty]&&e.profile[e.expandedProperty]["options"]?e.profile[e.expandedProperty]["options"]:null,profile:e.profile},on:{remove:function(r){return e.remove(t)}}})],1):e.isObject(e.expandedValue[s])&&e.expandedValue[s]["@language"]?r("div",{staticClass:"expanded-view__has-language"},["http://schema.org/name"!==e.expandedProperty&&"dcterms:title"!==e.expandedProperty&&"skos:prefLabel"!==e.expandedProperty?r("span",{staticClass:"tag is-size-7 is-light"},[e._v(e._s(e.displayLabel))]):e._e(),r("span",{staticClass:"language"},[e._v(" "+e._s(e.expandedValue[s]["@language"]+": ")+" ")]),r("span",{staticClass:"value",attrs:{title:e.expandedValue[s]["@value"]}},[e._v(" "+e._s(e.expandedValue[s]["@value"])+" ")])]):e.isObject(e.expandedValue[s])?r("div",{staticClass:"expanded-view-property"},[r("div",{staticClass:"property",attrs:{title:e.expandedValue[s]["@value"]}},[e.type&&e.type.includes("resource")?[r("span",{staticClass:"tag is-light is-link"},[e._v(e._s(e.type))]),r("a",{staticClass:"custom-link is-size-6 external",attrs:{title:"Open resource in new window",href:e.expandedValue[s]["@value"],target:"_blank"}},[e._v(e._s(e.expandedValue[s]["@value"]))])]:["http://schema.org/name"!==e.expandedProperty&&"dcterms:title"!==e.expandedProperty&&"skos:prefLabel"!==e.expandedProperty?r("span",{staticClass:"tag is-size-7 is-light"},[e._v(e._s(e.displayLabel))]):e._e(),e._v(" "+e._s(e.expandedValue[s]["@value"])+" ")]],2)]):r("div",{staticClass:"unexpanded-property"},[r("span",{staticClass:"tag is-size-7 is-light"},[e._v(e._s(e.displayLabel))]),r("div",{staticClass:"property"},[e._v(" "+e._s(e.expandedValue[s])+" ")])]):r("div",{staticClass:"non-text-field"},[r(e.dynamicThing,{tag:"Component",attrs:{expandedObj:t,competencyAsPropertyType:e.shortType,competencyAsPropertyObjectType:e.objectType,parentNotEditable:!e.canEdit,profile:e.childProfile}}),e.editingProperty?r("div",{staticClass:"field delete-property-button"},[r("div",{staticClass:"control"},[e._m(1,!0),r("div",{staticClass:"button is-outlined has-text-danger",on:{click:function(r){return e.showModal("remove",t)}}},[r("i",{staticClass:"fa fa-times"})])])]):e._e()],1)],2)})),e.editingProperty&&e.checkedOptions&&e.show&&e.profile&&e.profile[e.expandedProperty]&&e.profile[e.expandedProperty]["options"]?e._l(e.optionsArray,(function(t){return r("div",{key:t,staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedOptions,expression:"checkedOptions"}],staticClass:"is-checkradio",attrs:{type:"checkbox",name:t.val,id:t.val},domProps:{value:t.val,checked:Array.isArray(e.checkedOptions)?e._i(e.checkedOptions,t.val)>-1:e.checkedOptions},on:{change:function(r){var s=e.checkedOptions,i=r.target,o=!!i.checked;if(Array.isArray(s)){var a=t.val,n=e._i(s,a);i.checked?n<0&&(e.checkedOptions=s.concat([a])):n>-1&&(e.checkedOptions=s.slice(0,n).concat(s.slice(n+1)))}else e.checkedOptions=o}}}),r("label",{attrs:{for:t.val}},[e._v(" "+e._s(t.name)+" ")])])})):e._e(),e.errorValidating?r("p",{staticClass:"help is-danger"},[e._v(" "+e._s(e.errorValidating)+" ")]):e._e()]:[r("div",{staticClass:"property-value"},[e.canEdit?r("div",{staticClass:"add-property-button"},[0==e.range.length&&"search"!==e.addOrSearch?r("button",{staticClass:"button is-small is-link has-text-info",attrs:{title:"Add New "+e.displayLabel},on:{click:function(t){t.stopPropagation(),e.add("string"),e.startEditing()}}},[e._m(3),r("span",[e._v(" Add "+e._s(e.displayLabel)+" ")])]):"search"!==e.addOrSearch?e._l(e.range,(function(t){return r("button",{key:t,staticClass:"button is-small is-text has-text-info",attrs:{title:"Add New "+e.displayLabel},on:{click:function(r){r.stopPropagation(),e.add(t),e.startEditing()}}},[e._m(4,!0),r("span",[e._v(" Add "+e._s(e.displayLabel)+" ")])])})):e._e()],2):e._e()]),r("p",{staticClass:"help is-danger"},[e._v(" "+e._s(e.errorMessage[0])+" ")])]],2):e._e()},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[r("br")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[r("br")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[r("br")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-plus has-text-info",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-dark"},[r("i",{staticClass:"fa fa-plus has-text-info",attrs:{"aria-hidden":"true"}})])}],o=(r("caad"),r("a15b"),r("a434"),r("b0c0"),r("b64b"),r("d3b7"),r("ac1f"),r("2532"),r("5319"),r("1276"),r("498a"),r("ddb0"),r("61ed"),r("af07")),a={name:"Property",props:{expandedThing:Object,expandedProperty:String,schema:Object,canEdit:Boolean,profile:Object,editingThing:Boolean,validate:Boolean,errorMessage:{type:Array,default:function(){return[]}},view:{type:String,default:""}},data:function(){return{clickToLoad:!0,showClipboardSuccessMessage:!1,show:!0,langString:!1,addOrSearch:null,checkedOptions:null,initialValue:null,expandedValueNames:[],optionsArray:[],errorValidating:null,removePropertyConfirmModal:!1,propertyToRemove:null}},components:{Thing:function(){return Promise.resolve().then(r.bind(null,"098b"))},ThingEditing:function(){return Promise.all([r.e("chunk-d5b1fd50"),r.e("chunk-06507814"),r.e("chunk-3fb38d12"),r.e("chunk-208a03a5"),r.e("chunk-c6935678")]).then(r.bind(null,"8051"))},PropertyString:function(){return r.e("chunk-3fb38d12").then(r.bind(null,"d17f"))},ModalTemplate:o["a"]},created:function(){var e=this;if(this.editingThing){if(1===this.range.length&&-1!==this.range[0].toLowerCase().indexOf("langstring")){this.langString=!0;for(var t=0;t<this.expandedValue.length;t++)this.expandedValue[t]["@language"]||this.$parent.update(this.expandedProperty,t,{"@language":this.$store.state.editor.defaultLanguage,"@value":this.expandedValue[t]["@value"]},(function(){e.stopEditing()}))}this.$store.commit("lode/incrementNumPropertyComponents",EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]))}},mounted:function(){if(this.range&&this.range.length>0&&-1!==this.range[0].toLowerCase().indexOf("level")&&this.profile&&this.profile[this.expandedProperty]&&this.profile[this.expandedProperty]["options"]&&(this.checkedOptions=[],this.expandedValue.length>0))for(var e=0;e<this.expandedValue.length;e++)this.checkedOptions.push(this.expandedValue[e]["@id"]);if(this.expandedThing[this.expandedProperty]?this.initialValue=JSON.parse(JSON.stringify(this.expandedThing[this.expandedProperty])):this.initialValue=null,"Competency"===this.objectType||"Concept"===this.objectType||"Level"===this.objectType){this.expandedValueNames=[];for(var t=0;t<this.expandedValue.length;t++){var r=this.expandedValue[t],s=this.getURL(r);this.resolveNameFromUrl(s)}}if(this.profile&&this.profile[this.expandedProperty]&&this.profile[this.expandedProperty]["options"]&&this.checkedOptions)for(var i=0;i<this.profile[this.expandedProperty]["options"].length;i++){var o=this.profile[this.expandedProperty]["options"][i];o.name=EcRepository.getBlocking(o.val).name,this.optionsArray.push(o)}},destroyed:function(){this.editingThing&&this.$store.commit("lode/decrementNumPropertyComponents",EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]))},computed:{shortTypeAsClass:function(){return"Level"===this.objectType?this.objectType:"http://schema.org/name"===this.expandedProperty?"name":this.shortType.replace(/ /g,"_")},dynamicThing:function(){return this.editingProperty?"ThingEditing":"Thing"},isCompetency:function(){return!!this.expandedThing["@type"][0].includes("Competency")},editingProperty:function(){return this.editingThing},editingPropertyClass:function(){return this.editingProperty?"editing":""},childProfile:function(){var e=function(e){return!!(e&&e.constructor&&e.call&&e.apply)};if(null==this.schema)return null;var t=this.schema.profile;return e(t)&&(t=t()),t},displayLabel:function(){if(null!=this.schema&&null!=this.schema["http://www.w3.org/2000/01/rdf-schema#label"]&&!EcArray.isArray(this.schema["http://www.w3.org/2000/01/rdf-schema#label"])&&!EcObject.isObject(this.schema["http://www.w3.org/2000/01/rdf-schema#label"]))return this.schema["http://www.w3.org/2000/01/rdf-schema#label"];if(null!=this.schema&&null!=this.schema["http://www.w3.org/2000/01/rdf-schema#label"]&&EcArray.isArray(this.schema["http://www.w3.org/2000/01/rdf-schema#label"])&&EcObject.isObject(this.schema["http://www.w3.org/2000/01/rdf-schema#label"][0]))return this.schema["http://www.w3.org/2000/01/rdf-schema#label"][0]["@value"];if(null!=this.schema&&null!=this.schema["http://www.w3.org/2000/01/rdf-schema#label"]&&EcObject.isObject(this.schema["http://www.w3.org/2000/01/rdf-schema#label"]))return this.schema["http://www.w3.org/2000/01/rdf-schema#label"]["@value"];var e=this.expandedProperty.split("/").pop();return e.replace(/([A-Z]+)/g,(function(e){return" "+e})).toLowerCase().trim().replace(/(^| )(\w)/g,(function(e){return e.toUpperCase()}))},comment:function(){return null==this.schema||null==this.schema["http://www.w3.org/2000/01/rdf-schema#comment"]||null==this.schema["http://www.w3.org/2000/01/rdf-schema#comment"][0]?null:this.schema["http://www.w3.org/2000/01/rdf-schema#comment"][0]["@value"]},type:function(){return null==this.schema?null==this.expandedThing?null:this.expandedThing["@type"][0]:this.schema["@id"]},shortType:function(){if(!this.type)return this.displayLabel;var e=this.type.split("/").pop();return-1!==e.indexOf("core#")&&(e=this.type.split("#").pop()),e},context:function(){var e=this.type.split("/");return e.pop(),e.join("/")},range:function(){if(null==this.schema)return[];var e=[],t=this.schema["http://schema.org/rangeIncludes"];if(null!=t||void 0!==t)for(var r=0;r<t.length;r++)e.push(t[r]["@id"]);return e},expandedValue:{get:function(){var e=this.expandedThing[this.expandedProperty];if(0===this.expandedProperty.indexOf("@")&&(e="@id"===this.expandedProperty?[{"@value":EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing[this.expandedProperty])}]:[{"@value":this.expandedThing[this.expandedProperty]}]),this.profile&&this.profile[this.expandedProperty]&&this.profile[this.expandedProperty]["valuesIndexed"]){e=[];var t=this.profile[this.expandedProperty]["valuesIndexed"];t=t();var r=EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]);return t&&t[r]?t[r]:[]}return e}},canAdd:function(){return(!this.profile||!this.profile[this.expandedProperty]||1!==this.profile[this.expandedProperty]["max"]||1!==this.expandedValue.length)&&(!!this.editingProperty&&this.canEdit)},clickHandler:function(){return this.canEdit?"click":null},objectType:function(){return this.range&&this.range[0]&&-1!==this.range[0].toLowerCase().indexOf("level")?"Level":this.range&&this.range[0]&&-1!==this.range[0].toLowerCase().indexOf("concept")?"Concept":this.range&&this.range[0]&&-1!==this.range[0].toLowerCase().indexOf("competency")?"Competency":""},isRequired:function(){return!(!this.profile||!this.profile[this.expandedProperty]||"true"!==this.profile[this.expandedProperty]["isRequired"]&&!0!==this.profile[this.expandedProperty]["isRequired"])}},methods:{resolveNameFromUrl:function(e){var t=this;EcRepository.get(e,(function(e){var r=e.name;if(r||(r=e["skos:prefLabel"]),r=Thing.getDisplayStringFrom(r),EcObject.isObject(r)){var s=Object.keys(r);r=r[s[0]]}t.expandedValueNames.push(r)}),(function(r){t.get(e,null,null,(function(e){var r=null;if(e){if("<"===e[0])return;if(e=JSON.parse(e),e["ceterms:name"]?r=e["ceterms:name"]:e["ceasn:competencyText"]?r=e["ceasn:competencyText"]:e["name"]?r=e["name"]:e["schema:name"]?r=e["schema:name"]:e["title"]?r=e["title"]:e["skos:prefLabel"]?r=e["skos:prefLabel"]:e["title"]?r=e["title"]:e["@graph"]&&e["@graph"][0]&&(e["@graph"][0]["ceterms:name"]?r=e["@graph"][0]["ceterms:name"]:e["@graph"][0]["name"]?r=e["@graph"][0]["name"]:e["@graph"][0]["schema:name"]?r=e["@graph"][0]["schema:name"]:e["@graph"][0]["title"]?r=e["@graph"][0]["title"]:e["@graph"][0]["skos:prefLabel"]&&(r=e["@graph"][0]["skos:prefLabel"])),r=Thing.getDisplayStringFrom(r),EcObject.isObject(r)){var s=Object.keys(r);r=r[s[0]]}}t.expandedValueNames.push(r)}),(function(e){appLog(e)}))}))},get:function(e,t,r,s,i){var o=EcRemote.urlAppend(e,t);o=EcRemote.upgradeHttpToHttps(o);var a=null;if("undefined"===typeof httpStatus){if(a=new XMLHttpRequest,a.open("GET",o,EcRemote.async),null!=r)for(var n=EcObject.keys(r),c=0;c<n.length;c++)a.setRequestHeader(n[c],r[n[c]]);var l=a;a.onreadystatechange=function(){4===l.readyState&&200===l.status&&(null!=s?s(l.responseText):4===l.readyState&&null!=i&&i(l.responseText))}}null!=a&&EcRemote.async&&(a["timeout"]=EcRemote.timeout),"undefined"!==typeof httpStatus?null!=s&&s(JSON.stringify(httpGet(o))):a.send()},clipboardSuccess:function(){var e=this;this.showClipboardSuccessMessage=!0,setTimeout((function(){e.showClipboardSuccessMessage=!1}),2e3)},clipboardError:function(){this.$emit("clipboard-error-event")},stopEditing:function(){if(this.isRequired&&(0===this.expandedValue.length||null!=this.expandedValue[0]["@value"]&&void 0!==this.expandedValue[0]["@value"]&&0===this.expandedValue[0]["@value"].trim().length))this.showModal("required");else{if(1===this.range.length&&("http://schema.org/URL"===this.range[0]||"https://schema.cassproject.org/0.4/skos/Concept"===this.range[0]))for(var e=0;e<this.expandedValue.length;e++){if(this.expandedValue[e]["@value"]&&-1===this.expandedValue[e]["@value"].indexOf("http"))return this.showModal("urlOnly");if(this.expandedValue[e]["@id"]&&-1===this.expandedValue[e]["@id"].indexOf("http"))return this.showModal("urlOnly")}if(this.profile&&this.profile[this.expandedProperty]&&!0===this.profile[this.expandedProperty]["resource"])for(e=0;e<this.expandedValue.length;e++)if(!this.expandedValue[e]["name"]||!this.expandedValue[e]["@value"]||-1===this.expandedValue[e]["@value"].indexOf("http"))return this.showModal("nameAndUrlRequired");if(this.addOrSearch=null,1===this.range.length&&-1!==this.range[0].toLowerCase().indexOf("langstring")){for(e=0;e<this.expandedValue.length;e++)if(null==this.expandedValue[e]["@language"]||void 0===this.expandedValue[e]["@language"]||0===this.expandedValue[e]["@language"].trim().length)return this.showModal("langRequired");if(this.profile&&this.profile[this.expandedProperty]&&("true"===this.profile[this.expandedProperty]["onePerLanguage"]||!0===this.profile[this.expandedProperty]["onePerLanguage"])){var t=[];for(e=0;e<this.expandedValue.length;e++){if(t.includes(this.expandedValue[e]["@language"].toLowerCase()))return this.showModal("onePerLanguage");t.push(this.expandedValue[e]["@language"].toLowerCase())}}}for(e=this.expandedValue.length-1;e>=0;e--)(null===this.expandedValue[e]||null!==this.expandedValue[e]["@value"]&&void 0!==this.expandedValue[e]["@value"]&&0===this.expandedValue[e]["@value"].length||0===this.expandedValue[e].length)&&this.expandedValue.splice(e,1);this.save(),this.validate&&this.$emit("validated",!0)}},startEditing:function(){if(this.canEdit&&!this.editingProperty&&(this.editingProperty=!0,this.editingPropertyClass="editing",this.$emit("editing-property-event",!0)),1===this.range.length&&-1!==this.range[0].toLowerCase().indexOf("langstring")){this.langString=!0;for(var e=0;e<this.expandedValue.length;e++)this.expandedValue[e]["@language"]||this.update({"@language":this.$store.state.editor.defaultLanguage,"@value":this.expandedValue[e]["@value"]},e)}},showModal:function(e,t){this.$emit("invalid",!0);var r={};if("remove"===e){if(this.profile&&this.profile[this.expandedProperty]&&("true"===this.profile[this.expandedProperty]["isRequired"]||!0===this.profile[this.expandedProperty]["isRequired"])&&(1===this.expandedValue.length||this.expandedValue["@value"]&&1===this.expandedValue["@value"].trim().length))return this.showModal("required"),void this.$store.commit("app/showModal",{component:"RequiredPropertyModal"});this.removePropertyConfirmModal=!0,this.propertyToRemove=t}"required"===e&&(r={type:e,title:"Required property",text:this.displayLabel+" is required. Please enter a value."}),"urlOnly"===e&&(r={type:e,title:"URL Required",text:this.displayLabel+" must be a URL. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}),"nameAndUrlRequired"===e&&(r={type:e,title:"Name and URL Required",text:this.displayLabel+" must have a name and a URL."}),"langRequired"===e&&(r={type:e,title:"Language Required",text:this.displayLabel+" must have a language."}),"onePerLanguage"===e&&(r={type:e,title:"One value per language",text:this.displayLabel+" can only have one entry per language."}),this.errorValidating=r.text},clickConfirmRemove:function(){this.remove(this.propertyToRemove),this.propertyToRemove=null,this.removePropertyConfirmModal=!1},closeModal:function(){this.propertyToRemove=null,this.removePropertyConfirmModal=!1},add:function(e){if(this.profile&&this.profile[this.expandedProperty]&&this.profile[this.expandedProperty]["add"]){this.addOrSearch="add";var t=this.profile[this.expandedProperty]["add"];if("checkedOptions"===t)return;var r=EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]);t(r)}else if(-1!==e.toLowerCase().indexOf("langstring")){this.addOrSearch="add";var s="";this.$store.state.editor&&(s=this.$store.state.editor.defaultLanguage),this.$parent.add(this.expandedProperty,{"@language":s,"@value":""}),this.langString=!0}else if(-1!==e.toLowerCase().indexOf("string")||-1!==e.toLowerCase().indexOf("url")||-1!==e.toLowerCase().indexOf("text")||-1!==e.toLowerCase().indexOf("date")||-1!==e.toLowerCase().indexOf("concept"))this.addOrSearch="add",this.$parent.add(this.expandedProperty,{"@value":""});else{this.addOrSearch="add";var i=new EcRemoteLinkedData;i.context=this.context,i.type=e.split("/").pop(),this.$parent.add(this.expandedProperty,i)}},remove:function(e){if(this.profile&&this.profile[this.expandedProperty]&&this.profile[this.expandedProperty]["remove"]){var t,r=this.profile[this.expandedProperty]["remove"];t=EcObject.isObject(e)?e["@id"]:EcObject.isObject(this.expandedValue[e])?this.expandedValue[e]["@id"]:this.expandedValue[e],r(EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]),t)}else this.$parent.remove(this.expandedProperty,e)},updatePropertyString:function(e,t){this.update(e,t)},update:function(e,t){var r=this;if(this.errorValidating=null,this.profile&&this.profile[this.expandedProperty]&&!0===this.profile[this.expandedProperty]["resource"])for(var s=0;s<this.expandedValue.length;s++)if(!e.name||!e["@value"]||-1===e["@value"].indexOf("http"))return this.showModal("nameAndUrlRequired");this.$parent.update(this.expandedProperty,t,e,(function(){r.stopEditing()}))},isText:function(e){if(null==e||void 0===e)return null;if(null!=e["@value"]&&void 0!==e["@value"])return!0;if(void 0!==e["@type"]&&null!==e["@type"]){if(-1!==e["@type"][0].toLowerCase().indexOf("text"))return!0;if(-1!==e["@type"][0].toLowerCase().indexOf("url"))return!0;if(-1!==e["@type"][0].toLowerCase().indexOf("concept"))return!0;if(-1!==e["@type"][0].toLowerCase().indexOf("string"))return!0}return null!=e["@id"]&&void 0!==e["@id"]},isLink:function(e){if(1===EcObject.keys(e).length){if(null!=e["@id"]&&void 0!==e["@id"])return!0;if(e["@value"]&&0===e["@value"].indexOf("http"))return!0}return!1},save:function(){if(this.profile&&this.profile[this.expandedProperty]&&this.profile[this.expandedProperty]["save"]){var e=this.profile[this.expandedProperty]["save"];this.checkedOptions&&e(this.expandedThing,this.checkedOptions,this.profile[this.expandedProperty]["options"])}else if(-1===this.expandedProperty.indexOf("@")&&!this.validate){for(var t=!1,r=0;r<this.expandedValue.length;r++)if(this.initialValue&&(this.expandedValue[r]["@id"]!==this.initialValue[r]["@id"]||this.expandedValue[r]["@value"]!==this.initialValue[r]["@value"]||this.expandedValue[r]["@language"]!==this.initialValue[r]["@language"])){t=!0;break}t&&(this.$store.commit("editor/addEditsToUndo",{operation:"update",id:EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]),fieldChanged:[this.expandedProperty],initialValue:this.initialValue,changedValue:this.expandedValue,expandedProperty:!0}),this.$parent.saveThing())}},isObject:function(e){return EcObject.isObject(e)},getURL:function(e){return e["@value"]?e["@value"]:e["@id"]?e["@id"]:void 0}},watch:{canEdit:function(){!1===this.canEdit&&(this.editingProperty=!1)},validate:function(){this.validate&&(this.errorValidating=null,this.stopEditing())},checkedOptions:function(){this.save()}}},n=a,c=(r("7965"),r("2877")),l=Object(c["a"])(n,s,i,!1,null,null,null);t["default"]=l.exports},"5fb2":function(e,t,r){"use strict";var s=2147483647,i=36,o=1,a=26,n=38,c=700,l=72,p=128,d="-",h=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",g=i-o,f=Math.floor,w=String.fromCharCode,y=function(e){var t=[],r=0,s=e.length;while(r<s){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<s){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t},v=function(e){return e+22+75*(e<26)},C=function(e,t,r){var s=0;for(e=r?f(e/c):e>>1,e+=f(e/t);e>g*a>>1;s+=i)e=f(e/g);return f(s+(g+1)*e/(e+n))},b=function(e){var t=[];e=y(e);var r,n,c=e.length,h=p,m=0,g=l;for(r=0;r<e.length;r++)n=e[r],n<128&&t.push(w(n));var b=t.length,k=b;b&&t.push(d);while(k<c){var T=s;for(r=0;r<e.length;r++)n=e[r],n>=h&&n<T&&(T=n);var _=k+1;if(T-h>f((s-m)/_))throw RangeError(u);for(m+=(T-h)*_,h=T,r=0;r<e.length;r++){if(n=e[r],n<h&&++m>s)throw RangeError(u);if(n==h){for(var x=m,I=i;;I+=i){var E=I<=g?o:I>=g+a?a:I-g;if(x<E)break;var P=x-E,S=i-E;t.push(w(v(E+P%S))),x=f(P/S)}t.push(w(v(x))),g=C(m,_,k==b),m=0,++k}}++m,++h}return t.join("")};e.exports=function(e){var t,r,s=[],i=e.toLowerCase().replace(m,".").split(".");for(t=0;t<i.length;t++)r=i[t],s.push(h.test(r)?"xn--"+b(r):r);return s.join(".")}},"61ed":function(e,t,r){},"639d":function(e,t,r){"use strict";var s=r("cd8e"),i=r.n(s);i.a},6675:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"comment-list-item"},[r("li",{staticClass:"comment-list__user",attrs:{title:e.comment.creatorEmail}},[e._v(" "+e._s(e.comment.creatorName)+" ")]),r("li",{staticClass:"comment-list__email"},[e._v(" "+e._s(e.comment.creatorEmail)+" ")]),r("li",{staticClass:"comment-list__timestamp"},[e._v(" "+e._s(e.toPrettyDateString(e.comment.dateCreated))+" ")]),r("li",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeCommentListDropDown,expression:"closeCommentListDropDown"}],staticClass:"comment-list__message-container"},[e.comment.canModify?r("div",{staticClass:"dropdown",class:{"is-active":e.commentListDropDownActive}},[r("div",{staticClass:"dropdown-trigger"},[r("button",{staticClass:"button is-text has-text-dark",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:function(t){e.commentListDropDownActive=!e.commentListDropDownActive}}},[e._m(0)])]),r("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[r("div",{staticClass:"dropdown-content"},[r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.handleClickEdit}},[e._v(" edit ")]),r("a",{staticClass:"dropdown-item",on:{click:e.handleClickDelete}},[e._v(" delete ")])])])]):e._e(),r("div",{staticClass:"comment-list__message-container__message",class:{"show-more":e.showMore}},[e._v(" "+e._s(e.comment.commentText)+" ")]),e.comment.commentText.length>90?r("div",{staticClass:"buttons is-right"},[e.showMore?r("div",{staticClass:"button is-text has-text-primary",on:{click:function(t){e.showMore=!1}}},[e._v(" show less ")]):r("div",{staticClass:"button is-text has-text-primary",on:{click:function(t){e.showMore=!0}}},[e._v(" show more ")])]):e._e()]),e.comment.lastEditDate?r("li",{staticClass:"comment-list__message_edit"},[e._v(" *Edited: "+e._s(e.toPrettyDateString(e.comment.lastEditDate))+" ")]):e._e(),e._m(1),e.comment.replies.length>0?r("li",e._l(e.comment.replies,(function(e){return r("comment",{key:e.commentId,attrs:{comment:e,canReply:!1}})})),1):e._e()])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon has-text-primary"},[r("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"comment-list__reply_hr"},[r("hr")])}],o=(r("d3b7"),r("54f8")),a=r("872c"),n={name:"Comment",mixins:[a["a"]],components:{comment:function(){return Promise.resolve().then(r.bind(null,"6675"))}},props:{comment:{type:Object},canReply:{type:Boolean,default:!1}},data:function(){return{showMore:!1,commentListDropDownActive:!1}},methods:{closeCommentListDropDown:function(){this.commentListDropDownActive=!1},handleClickReply:function(){this.$store.commit("editor/setAddCommentAboutId",this.comment.aboutId),this.$store.commit("editor/setAddCommentType","reply"),this.$store.commit("editor/setCommentToReply",this.comment.comment),this.$store.commit("app/showModal",{component:"AddComment"})},handleClickEdit:function(){this.commentListDropDownActive=!1,this.$store.commit("editor/setAddCommentAboutId",this.comment.aboutId),this.$store.commit("editor/setAddCommentType","edit"),this.$store.commit("editor/setCommentToEdit",this.comment.comment),this.$store.commit("app/showModal",{component:"AddComment"})},handleClickEditReply:function(e){this.$store.commit("editor/setAddCommentAboutId",this.comment.aboutId),this.$store.commit("editor/setAddCommentType","edit"),this.$store.commit("editor/setCommentToEdit",this.comment.replies[e].comment),this.$store.commit("app/showModal",{component:"AddComment"})},handleClickDelete:function(){var e=[];if(e.push(this.comment.comment),this.comment.replies&&this.comment.replies.length>0){var t,r=Object(o["a"])(this.comment.replies);try{for(r.s();!(t=r.n()).done;){var s=t.value;e.push(s.comment)}}catch(i){r.e(i)}finally{r.f()}}this.$store.commit("editor/setCommentsToDelete",e),this.$store.commit("app/showModal",{component:"DeleteCommentConfirm"})},handleClickDeleteReply:function(e){var t=[];t.push(this.comment.replies[e].comment),this.$store.commit("editor/setCommentsToDelete",t),this.$store.commit("app/showModal",{component:"DeleteCommentConfirm"})}},computed:{commentId:function(){return this.comment.commentId}}},c=n,l=r("2877"),p=Object(l["a"])(c,s,i,!1,null,null,null);t["default"]=p.exports},"6bed":function(e,t,r){"use strict";var s=r("8e28"),i=r.n(s);i.a},"6ffa4":function(e,t,r){"use strict";r("fb6a");var s=r("872c");t["a"]={mixins:[s["a"]],methods:{removeObject:function(e){appLog("removing "+e.id);var t=this,r=this.$store.getters["editor/framework"],s=r.competency?r.competency.slice():null,i=r.relation?r.relation.slice():null,o=r.level?r.level.slice():null;r["schema:dateModified"]=(new Date).toISOString(),r.removeCompetency(e.shortId(),(function(){var e=t.framework;t.$store.commit("editor/addEditsToUndo",[{operation:"update",id:e.shortId(),fieldChanged:["competency","relation","level"],initialValue:[s,i,o]}]),!0===t.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[f.id]&&(e=EcEncryptedValue.toEncryptedValue(e)),window.repo.saveTo(e,(function(){t.$store.commit("editor/framework",r)}),appError)}),appLog)},deleteObject:function(e){appLog("deleting "+e.id);var t=this,r=this.$store.getters["editor/framework"];if(e.shortId()===r.shortId())window.repo.deleteRegistered(r,(function(e){if(t.spitEvent("frameworkDeleted",r.shortId(),"editFrameworkSection"),null!=r.competency)for(var s=0;s<r.competency.length;s++)t.conditionalDelete(r.competency[s]);if(null!=r.relation)for(s=0;s<r.relation.length;s++)t.conditionalDelete(r.relation[s]);if(null!=r.level)for(s=0;s<r.level.length;s++)t.conditionalDelete(r.level[s]);t.$store.commit("editor/framework",null),t.importType?t.$store.commit("app/importFramework",null):t.$router.push({name:"frameworks"})}),appLog);else{var s=r.competency?r.competency.slice():null,i=r.relation?r.relation.slice():null,o=r.level?r.level.slice():null;this.$store.commit("editor/selectedCompetency",e),r["schema:dateModified"]=(new Date).toISOString(),r.removeCompetency(e.shortId(),(function(){r.removeLevel(e.shortId()),t.$store.commit("editor/addEditsToUndo",[{operation:"delete",obj:e},{operation:"update",id:r.shortId(),fieldChanged:["competency","relation","level"],initialValue:[s,i,o],changedValue:[r.competency,r.relation,r.level]}]),t.conditionalDelete(e.shortId()),t.spitEvent("competencyDeleted",e.shortId(),"editFrameworkSection"),t.$store.commit("editor/selectedCompetency",null);var a=r;!0===t.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[r.id]&&(a=EcEncryptedValue.toEncryptedValue(r)),window.repo.saveTo(a,(function(){t.$store.commit("editor/framework",r)}),appError)}),appLog)}}}}},"713b":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass--main-layout",class:e.simple?"":"has-secondary"},[r("div",{staticClass:"cass--main-layout--primary-top",class:e.simpleClass},[e._t("top")],2),e.simple?e._e():r("div",{staticClass:"cass--main-layout--secondary-top"},[e._t("secondary-top")],2),r("div",{staticClass:"cass--main-layout--body",class:e.topBarClass},[e._t("body")],2),e.rightActive?r("div",{staticClass:"cass--main-layout--right",class:e.topBarClass},[e._t("right")],2):e._e()])},i=[],o={name:"MainLayout",data:function(){return{}},props:{rightActive:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},computed:{simpleClass:function(){return{"is-simple-top-bar":this.simple}},topBarClass:function(){return{"has-simple-top-bar":this.simple,"has-secondary-top-bar":!this.simple,"regular-top-bar":!this.simple}}}},a=o,n=(r("89d3"),r("2877")),c=Object(n["a"])(a,s,i,!1,null,null,null);t["a"]=c.exports},"713e":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass--list--container",class:e.parent},[e.firstSearchProcessing?r("div",{staticClass:"section has-text-centered"},[e._m(0)]):e._e(),[r("div",{staticClass:"container is-desktop"},[r("ul",{staticClass:"cass--list"},[e._l(e.results,(function(t){return r("li",{key:t.id,staticClass:"cass--list--item",class:[{"source-framework":e.crosswalkAlignmentSource&&t.id===e.crosswalkAlignmentSource.id},e.rightAsideObjectId&&e.rightAsideObjectId===t.shortId()?"cass--list--item--selected":""],on:{click:function(r){return e.click(t)}}},[r("div",{staticClass:"cass--list-item--icon"},[r("div",{staticClass:"cass--list-item--icon-wrap has-background-dark"},[r("span",{staticClass:"icon"},["Directory"===t.type?r("i",{staticClass:"fa fa-folder",attrs:{title:"Directory"}}):"Framework"===t.type?r("i",{staticClass:"fa fa-file-alt",attrs:{title:"Framework"}}):"Competency"===t.type?r("i",{staticClass:"fa fa-list-alt",attrs:{title:"Competency"}}):"ConceptScheme"===t.type?r("i",{staticClass:"fa fa-book",attrs:{title:"Concept Scheme"}}):e._e()])])]),r("div",{staticClass:"cass--list-item--content"},[e.selectingCompetency||t.parentDirectory?r("Breadcrumbs",{attrs:{competency:t}}):e._e(),r("Thing",{staticClass:"cass--list--thing",attrs:{parent:e.parent,obj:t,view:e.view,profile:e.profile,parentNotEditable:e.disallowEdits},nativeOn:{dblclick:function(r){return e.$emit("dblclick",t)}},scopedSlots:e._u([{key:"frameworkTags",fn:function(){return[e._t("frameworkTags",null,{item:t})]},proxy:!0}],null,!0)})],1),r("div",{staticClass:"cass--list-item--hover"},[e.selectingCompetency&&e.isClicked(t.shortId())&&"search"===e.view?r("span",{staticClass:"search-selection__icon"},[e._m(1,!0)]):"search"===e.view&&"crosswalk"!==e.view?r("span",{staticClass:"search-selection__add-icon"},[e._m(2,!0)]):e._e(),"search"!==e.view?r("div",{staticClass:"icon has-text-primary arrow-icon"},[r("i",{staticClass:"fa fa-arrow-right"})]):e._e()])])})),e._l(e.subResults,(function(t){return r("li",{key:t.id,staticClass:"cass--list--item",class:e.rightAsideObjectId&&e.rightAsideObjectId===t.shortId()?"cass-list-item--selected":"",on:{click:function(r){return e.subObjectClick(t)}}},[r("div",{staticClass:"cass--list-item--icon"},[r("div",{staticClass:"cass--list-item--icon-wrap has-background-dark"},[r("span",{staticClass:"icon"},["Directory"===t.type?r("i",{staticClass:"fa fa-folder",attrs:{title:"Directory"}}):"Framework"===t.type?r("i",{staticClass:"fa fa-file-alt",attrs:{title:"Framework"}}):"Competency"===t.type?r("i",{staticClass:"fa fa-list-alt",attrs:{title:"Competency"}}):"Concept"===t.type?r("i",{staticClass:"fa fa-book",attrs:{title:"Concept Scheme"}}):e._e()])])]),r("div",{staticClass:"cass--list-item--content"},[r("Breadcrumbs",{ref:t.id,refInFor:!0,attrs:{competency:t}}),r("Thing",{staticClass:"list-thing",attrs:{obj:t,view:e.view,profile:e.profile,parentNotEditable:e.disallowEdits},nativeOn:{dblclick:function(r){return e.$emit("dblclick",t)}}})],1),r("div",{staticClass:"cass--list-item--hover"},["search"!==e.view?r("div",{staticClass:"icon has-text-primary arrow-icon"},[r("i",{staticClass:"fa fa-arrow-right"})]):e._e()])])}))],2),e.results.length>0?r("infinite-loading",{attrs:{spinner:"circles",distance:10},on:{infinite:e.loadMore}},[r("div",{attrs:{slot:"no-more"},slot:"no-more"},[e._v(" All results loaded ")]),r("div",{attrs:{slot:"no-results"},slot:"no-results"},[e._v(" All results loaded ")])]):e._e()],1)]],2)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-large"},[r("i",{staticClass:"fa fa-spinner fa-2x fa-pulse"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icon is-primary is-small"},[r("i",{staticClass:"fa fa-check has-text-primary",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icon is-primary is-small"},[r("i",{staticClass:"fa fa-plus has-text-primary",attrs:{"aria-hidden":"true"}})])}],o=(r("99af"),r("4de4"),r("a434"),r("b0c0"),r("ac1f"),r("5319"),r("841c"),r("098b")),a=r("30d6"),n=r("6d79"),c={name:"List",props:{parent:{type:String,default:""},type:String,repo:Object,profile:Object,click:Function,searchOptions:String,paramObj:Object,disallowEdits:Boolean,selectingCompetency:Boolean,selected:Array,displayFirst:Array,view:{type:String,default:""},filterToEditable:{type:Boolean,default:!1},idsNotPermittedInSearch:{type:Array,default:null}},components:{Thing:o["default"],Breadcrumbs:a["a"]},mixins:[n["a"]],created:function(){var e=this;this.$nextTick((function(){return e.searchRepo()}))},data:function(){return{results:[],start:0,subResults:[],subStart:0,searchFrameworks:!0,searchCompetencies:!0,searchDirectories:!1,searchingForCompetencies:!1,searchingForDirectories:!1,applySearchToOwner:!1,firstSearchProcessing:!0,resultIds:[],nonDirectoryResults:!1}},watch:{text:function(e,t){},paramObj:function(){this.searchRepo()},searchOptions:function(){this.searchRepo()},searchTerm:function(e){this.searchRepo()},applySearchTo:function(){if(this.applySearchToOwner=!1,"crosswalk"===this.view)this.searchFrameworks=!0,this.searchCompetencies=!1,this.searchDirectories=!1;else if(this.applySearchTo&&this.applySearchTo.length>0){this.searchFrameworks=!1,this.searchCompetencies=!1,this.searchDirectories=!1;for(var e=0;e<this.applySearchTo.length;e++)"frameworkName"===this.applySearchTo[e].id||"frameworkDescription"===this.applySearchTo[e].id?this.searchFrameworks=!0:"competencyName"===this.applySearchTo[e].id||"competencyDescription"===this.applySearchTo[e].id||"competencyLabel"===this.applySearchTo[e].id?this.searchCompetencies=!0:"ownerName"===this.applySearchTo[e].id?(this.searchFrameworks=!0,this.searchCompetencies=!0,this.applySearchToOwner=!0):"directoryName"===this.applySearchTo[e].id||"directoryDescription"===this.applySearchTo[e].id?this.searchDirectories=!0:this.searchFrameworks=!0}else this.searchFrameworks=!0,this.searchCompetencies=!0,"Framework"===this.type?this.searchDirectories=!0:this.searchDirectories=!1;this.searchRepo()},type:function(){this.searchRepo()},refreshSearch:function(){this.refreshSearch&&(this.searchRepo(),this.$store.commit("app/refreshSearch",!1))}},computed:{crosswalkAlignmentSource:function(){return this.$store.getters["crosswalk/frameworkSource"]},searchTerm:function(e){return this.$store.getters["app/searchTerm"]},refreshSearch:function(e){return this.$store.getters["app/refreshSearch"]},applySearchTo:function(){var e=this.$store.getters["app/applySearchTo"];if(!e)return null;var t=e.filter((function(e){return!0===e.checked}));return t.length<=0?null:t},rightAsideObjectId:function(){return this.$store.getters["app/rightAsideObject"]?this.$store.getters["app/rightAsideObject"].shortId():null}},methods:{subObjectClick:function(e){var t=this.$refs[e.id][0].frameworks;if(t.length>0)this.click(t[0]);else{var r={component:"Single",uri:e.id,type:e.type,objectType:e.type,parentName:null,canEdit:!1};this.$store.commit("app/showModal",r)}},buildSearch:function(e,t){var r=this,s="",i=!1;if(this.applySearchTo&&""!==this.searchTerm){s="((@type:"+e+" OR (EncryptedValue AND \\*encryptedType:"+e+")) AND (";for(var o=0;o<this.applySearchTo.length;o++)"Framework"===e&&"frameworkName"===this.applySearchTo[o].id||"Competency"===e&&"competencyName"===this.applySearchTo[o].id||"Directory"===e&&"directoryName"===this.applySearchTo[o].id?(i&&(s+=" OR "),s+="name:"+this.searchTerm,i=!0):"Framework"===e&&"frameworkDescription"===this.applySearchTo[o].id||"Competency"===e&&"competencyDescription"===this.applySearchTo[o].id||"Directory"===e&&"directoryDescription"===this.applySearchTo[o].id?(i&&(s+=" OR "),s+="description:"+this.searchTerm,i=!0):"Framework"===e?(i&&(s+=" OR "),s+=this.applySearchTo[o].id+":"+this.searchTerm,i=!0):"Competency"===e&&"competencyLabel"===this.applySearchTo[o].id?(i&&(s+=" OR "),s+="ceasn\\:competencyLabel:"+this.searchTerm,i=!0):"ownerName"===this.applySearchTo[o].id&&function(){var e={size:10},o=r;EcPerson.search(window.repo,"name:"+r.searchTerm,(function(r){i&&r.length>0&&(s+=" OR "),appLog(r);for(var a=0;a<r.length;a++)s+='\\*owner:"'+o.getPersonEcPk(r[a]).toPem()+'"',a<r.length-1&&(s+=" OR ");EcOrganization.search(window.repo,"name:"+o.searchTerm,(function(e){appLog(e);for(var r=0;r<e.length;r++)s+='\\*owner:"'+o.getOrganizationEcPk(e[r]).toPem()+'"',i=!0,r<e.length-1&&(s+=" OR ");s+="))"+(null==o.searchOptions?"":o.searchOptions),-1!==s.indexOf("AND ())")&&(s=null),t(s)}),(function(e){appError(e),t(null)}),e)}),(function(e){appError(e),t(null)}),e)}();this.applySearchToOwner||(s+="))"+(null==this.searchOptions?"":this.searchOptions))}else s="((@type:"+e+" OR (EncryptedValue AND \\*encryptedType:"+e+"))"+(null!=this.searchTerm&&""!==this.searchTerm?" AND "+this.searchTerm:"")+")"+(null==this.searchOptions||""===this.searchOptions?"":this.searchOptions);this.applySearchToOwner||t(s)},searchForDirectories:function(e){var t=this;this.searchingForDirectories=!0,t.buildSearch("Directory",(function(r){var s=null;t.paramObj&&(s=Object.assign({},t.paramObj)),t.firstSearchProcessing||(t.start+=t.paramObj.size),s.start=t.start;var i=[];t.repo.searchWithParams(r,s,(function(e){if((!t.filterToEditable||t.filterToEditable&&e.canEditAny(EcIdentityManager.getMyPks()))&&!EcArray.has(t.resultIds,e.id)&&(!t.idsNotPermittedInSearch||0===t.idsNotPermittedInSearch.length||!EcArray.has(t.idsNotPermittedInSearch,e.shortId()))&&(!e.parentDirectory||""!==t.searchTerm)){if(e.isAny((new EcEncryptedValue).getTypes())){var r="Ec"+e.encryptedType,s=new EcEncryptedValue;s.copyFrom(e);var o=new window[r];o.copyFrom(s.decryptIntoObject()),e=o}i.push(e),t.resultIds.push(e.id)}}),(function(r){t.firstSearchProcessing=!1,i&&i.length>0?(t.results=t.results.concat(i),e&&e.loaded()):0===r.length?(t.searchingForDirectories=!1,t.start=0,t.loadMore(e)):r.length>0&&e?e.loaded():e&&e.complete()}),(function(r){appError(r),t.firstSearchProcessing=!1,e&&e.complete()}))}))},searchRepo:function(){var e=this;if(this.start=0,this.subStart=0,this.firstSearchProcessing=!0,this.results.splice(0,this.results.length),this.subResults.splice(0,this.subResults.length),this.resultIds.splice(0,this.resultIds.length),this.searchingForCompetencies=!1,this.nonDirectoryResults=!1,this.applySearchTo||("frameworks"===this.view&&"Framework"===this.type?this.searchDirectories=!0:this.searchDirectories=!1),""===this.searchTerm&&this.displayFirst&&this.displayFirst.length>0)for(var t=0;t<20;t++)this.displayFirst[0]&&(this.results.push(this.displayFirst[0]),this.resultIds.push(this.displayFirst[0].id),this.displayFirst.shift(),this.nonDirectoryResults=!0);if(!0===this.searchDirectories?this.searchForDirectories():!this.searchFrameworks||""===this.searchTerm&&this.displayFirst&&0!==this.displayFirst.length?e.firstSearchProcessing=!1:e.buildSearch(this.type,(function(t){var r=null;e.paramObj&&(r=Object.assign({},e.paramObj)),e.repo.searchWithParams(t,r,(function(t){if((!e.filterToEditable||e.filterToEditable&&t.canEditAny(EcIdentityManager.getMyPks()))&&!EcArray.has(e.resultIds,t.id)&&(!e.idsNotPermittedInSearch||0===e.idsNotPermittedInSearch.length||!EcArray.has(e.idsNotPermittedInSearch,t.shortId()))){if(t.isAny((new EcEncryptedValue).getTypes())){var r="Ec"+t.encryptedType,s=new EcEncryptedValue;s.copyFrom(t);var i=new window[r];i.copyFrom(s.decryptIntoObject()),t=i}""!==t.name&&(e.results.push(t),e.resultIds.push(t.id),e.nonDirectoryResults=!0)}}),(function(t){e.firstSearchProcessing=!1,t.length<10&&("Framework"===e.type||"ConceptScheme"===e.type)&&e.searchCompetencies&&e.searchForSubObjects()}),(function(t){appError(t),e.firstSearchProcessing=!1}))})),!this.searchFrameworks&&!this.searchDirectories&&(""!==this.searchTerm||!this.displayFirst||0===this.displayFirst.length))return this.searchForSubObjects()},loadMore:function(e){if(""===this.searchTerm&&this.displayFirst&&this.displayFirst.length>0)for(var t=0;t<20;t++)this.displayFirst[t]&&(this.results.push(this.displayFirst[t]),this.resultIds.push(this.displayFirst[t].id),this.displayFirst.shift());if(this.searchingForDirectories)this.searchForDirectories(e);else if(!this.paramObj||""===this.searchTerm&&this.displayFirst&&0!==this.displayFirst.length)e.loaded();else{var r,s=this,i=Object.assign({},this.paramObj);s.nonDirectoryResults&&(this.start+=this.paramObj.size),i.start=this.start,r=this.searchingForCompetencies?"ConceptScheme"===this.type?"Concept":"Competency":this.type,this.buildSearch(r,(function(t){s.repo.searchWithParams(t,i,(function(e){if(!s.filterToEditable||s.filterToEditable&&e.canEditAny(EcIdentityManager.getMyPks()))if(s.searchingForCompetencies){if(!EcArray.has(s.resultIds,e.id)&&(!s.idsNotPermittedInSearch||0===s.idsNotPermittedInSearch.length||!EcArray.has(s.idsNotPermittedInSearch,e.shortId()))){if(e.isAny((new EcEncryptedValue).getTypes())){var t="Ec"+e.encryptedType,r=new EcEncryptedValue;r.copyFrom(e);var i=new window[t];i.copyFrom(r.decryptIntoObject()),e=i}s.subResults.push(e),s.resultIds.push(e.id)}}else if(!EcArray.has(s.resultIds,e.id)&&(!s.idsNotPermittedInSearch||0===s.idsNotPermittedInSearch.length||!EcArray.has(s.idsNotPermittedInSearch,e.shortId()))){if(e.isAny((new EcEncryptedValue).getTypes())){t="Ec"+e.encryptedType,r=new EcEncryptedValue;r.copyFrom(e);var o=new window[t];o.copyFrom(r.decryptIntoObject()),e=o}s.results.push(e),s.resultIds.push(e.id)}}),(function(t){0!==t.length||"Framework"!==s.type&&"ConceptScheme"!==s.type?t.length>0?(s.nonDirectoryResults=!0,e&&e.loaded()):e&&e.complete():s.searchCompetencies?s.searchForSubObjects(e):e&&e.complete()}),(function(t){appError(t),e.complete()}))}))}},searchForSubObjects:function(e){var t=this;this.searchingForCompetencies=!0;var r=Object.assign({},t.paramObj);r.start=t.subStart,-1!==r.sort.indexOf("dcterms:title")&&(r.sort=r.sort.replace("dcterms:title","skos:prefLabel"));var s="Framework"===t.type?"Competency":"Concept";t.buildSearch(s,(function(s){t.repo.searchWithParams(s,r,(function(e){if((!t.filterToEditable||t.filterToEditable&&e.canEditAny(EcIdentityManager.getMyPks()))&&!EcArray.has(t.resultIds,e.id)&&(!t.idsNotPermittedInSearch||0===t.idsNotPermittedInSearch.length||!EcArray.has(t.idsNotPermittedInSearch,e.shortId()))){if(e.isAny((new EcEncryptedValue).getTypes())){var r="Ec"+e.encryptedType,s=new EcEncryptedValue;s.copyFrom(e);var i=new window[r];i.copyFrom(s.decryptIntoObject()),e=i}t.subResults.push(e),t.resultIds.push(e.id),t.nonDirectoryResults=!0}}),(function(r){r.length>0&&e?e.loaded():e&&e.complete(),t.subStart+=t.paramObj.size}),(function(t){appError(t),e&&e.complete()}))}))},isClicked:function(e){return!!EcArray.has(this.selected,e)}},mounted:function(){"crosswalk"===this.view&&(this.searchFrameworks=!0,this.searchCompetencies=!1,this.searchDirectories=!1)}},l=c,p=r("2877"),d=Object(p["a"])(l,s,i,!1,null,null,null);t["a"]=d.exports},71560:function(e,t,r){var s=r("861d"),i=r("d2bb");e.exports=function(e,t,r){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==r&&s(a=o.prototype)&&a!==r.prototype&&i(e,a),e}},"78bf":function(e,t,r){"use strict";var s=r("a222"),i=r.n(s);i.a},7965:function(e,t,r){"use strict";var s=r("8ee0"),i=r.n(s);i.a},8051:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal lode__thing-editing is-active"},[r("div",{staticClass:"modal-background"}),r("div",{staticClass:"modal-card  has-text-dark"},[r("header",{staticClass:"modal-card-head has-background-primary has-text-white"},[r("p",{staticClass:"modal-card-title is-size-3 has-text-white"},[e.newFramework&&"Framework"===e.shortType?r("span",{staticClass:"pr-2"},[e._v("Create framework")]):e.newFramework&&"ConceptScheme"===e.shortType?r("span",{staticClass:"pr-2"},["true"===e.queryParams.ceasnDataFields?r("span",[e._v(" Create Concept Scheme ")]):r("span",[e._v(" Create Taxonomy ")])]):r("span",{staticClass:"pr-2"},[e._v("Edit "+e._s(e.shortType))]),r("span",{},[r("span",{staticClass:"tag has-text-dark is-rounded is-medium-grey is-small",attrs:{title:"Auto saving"}},[e.saved?r("span",{staticClass:"is-small export icon has-text-success"},[r("i",{staticClass:"fa fa-check"})]):e._e(),e.saving?r("span",{staticClass:"is-small export icon has-text-primary"},[r("i",{staticClass:"fa fa-spinner fa-pulse"})]):e._e(),e.errorSaving?r("span",{staticClass:"is-small export icon has-text-link"},[r("i",{staticClass:"fa fa-exclamation"})]):e._e(),e.saving?r("span",[e._v("saving")]):e._e(),e.saved?r("span",[e._v(e._s(e.saved))]):e._e(),e.errorSaving?r("span",[e._v("error saving")]):e._e()])])]),r("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:e.closeWithoutSaving}})]),e.showAddPropertyContent?e._e():r("section",{staticClass:"modal-card-body"},e._l(e.headings,(function(t){return r("div",{key:t,staticClass:"lode__thing-heading"},[e.displayHeading(t)?r("label",{staticClass:"label is-large is-family-secondary"},[e._v(" "+e._s(e.displayHeading(t))+" ")]):e._e(),e.showAlwaysProperties&&e.alwaysProperties[t]?[e._l(e.alwaysProperties[t],(function(t,s){return r("Property",{key:s,attrs:{expandedThing:e.expandedThing,expandedProperty:s,schema:t,canEdit:e.allowPropertyEdits(s),profile:e.profile,editingThing:e.editingThing,validate:e.validate,view:e.view},on:{"editing-property-event":function(t){return e.handleEditingEvent(t)},select:e.select,validated:e.validated,invalid:function(t){e.validate=!1,e.errorValidating=!0}}})})),e._t("frameworkTags")]:e.showPossibleProperties&&e.possibleProperties[t]?e._l(e.possibleProperties[t],(function(t,s){return r("Property",{key:s,attrs:{expandedThing:e.expandedThing,expandedProperty:s,schema:t,canEdit:e.allowPropertyEdits(s),profile:e.profile,editingThing:e.editingThing,validate:e.validate,view:e.view},on:{"editing-property-event":function(t){return e.handleEditingEvent(t)},select:e.select,validated:e.validated,invalid:function(t){e.validate=!1,e.errorValidating=!0}}})})):e.showViewProperties&&e.viewProperties[t]?e._l(e.viewProperties[t],(function(t,s){return r("Property",{key:s,attrs:{expandedThing:e.expandedThing,expandedProperty:s,schema:t,canEdit:e.allowPropertyEdits(s),profile:e.profile,editingThing:e.editingThing,validate:e.validate,view:e.view},on:{"editing-property-event":function(t){return e.handleEditingEvent(t)},select:e.select,validated:e.validated,invalid:function(t){e.validate=!1,e.errorValidating=!0}}})})):e._e()],2)})),0),e.isSearching&&e.showAddPropertyContent?r("section",{staticClass:"modal-card-body"},[r("h4",{staticClass:"is-size-4 subtitle"},[e._v(" Searching for "),r("b",[e._v(e._s(e.addingPropertyLabel))]),e._v(" property on "),r("b",[e._v(e._s(e.nameOfSelectedCompetency))])]),r("Search",{attrs:{view:"thing-editing",idsNotPermittedInSearch:e.idsNotPermittedInSearch}})],1):e._e(),e.showAddPropertyContent&&!e.isSearching?r("section",{staticClass:"modal-card-body"},[r("AddProperty",{attrs:{profile:e.profile,errorMessage:e.errorMessage,expandedThing:e.expandedThing},on:{"is-searching":function(t){e.isSearching=!0}}})],1):e._e(),r("footer",{staticClass:"modal-card-foot has-background-light"},[e.frameworkEditable||e.editingThing?r("div",{staticClass:"buttons"},[e.canEdit&&!e.isSearching?r("div",{staticClass:"button is-outlined is-danger",attrs:{title:"Delete this "+(e.shortType?e.shortType.toLowerCase():"")},on:{click:function(t){return t.stopPropagation(),e.clickToDelete(t)}}},[e.newFramework&&"Framework"===e.shortType?[e._m(0),r("span",[e._v("Cancel create new framework")])]:e.newFramework&&"ConceptScheme"===e.shortType?[e._m(1),"true"===e.queryParams.ceasnDataFields?r("span",[e._v(" Cancel Create Concept Scheme ")]):r("span",[e._v(" Cancel Create Taxonomy ")])]:[e._m(2)]],2):e._e(),!e.frameworkEditable||"Competency"!==e.shortType||e.newFramework||e.isSearching?e._e():r("div",{staticClass:"button is-outlined is-warning",attrs:{title:"Remove competency from framework"},on:{click:function(t){return t.stopPropagation(),e.showModal("removeObject")}}},[e._m(3)]),e.isSearching||"Level"===e.shortType?e._e():r("div",{staticClass:"button is-outlined is-info",attrs:{title:"Export "+e.shortType},on:{click:function(t){return t.stopPropagation(),e.showModal("export")}}},[e._m(4)]),e.showAddPropertyContent||"framework"!==e.view&&"concept"!==e.view||!e.hasAdditionalProperty||e.errorValidating?e._e():r("div",{staticClass:"button is-outlined is-primary",on:{click:e.onClickToAddProperty}},[e._m(5),r("span",[e._v(" Add property ")])]),e.showAddPropertyContent?r("div",{staticClass:"button is-outlined is-dark",on:{click:e.onCancelAddProperty}},[e.isSearching?r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-arrow-left"})]):r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})]),e.isSearching?r("span",[e._v(" back ")]):r("span",[e._v(" cancel ")])]):e._e(),e.showAddPropertyContent&&!e.isSearching?r("div",{staticClass:"button is-outlined is-primary",on:{click:e.saveNewProperty}},[e._m(6),r("span",[e._v(" save property ")])]):e._e(),e.showAddPropertyContent?e._e():r("div",{staticClass:"button is-outlined is-dark",attrs:{disabled:e.disableDoneEditingButton,title:"Done editing"},on:{click:e.doneEditing}},[e._m(7),r("span",[e._v("done")])]),!e.showAddPropertyContent&&e.$store.state.editor.newCompetency?r("div",{staticClass:"button is-outlined is-dark",attrs:{title:"Done editing"},on:{click:e.saveAndAddAnother}},[e._m(8),r("span",[e._v("save and add another")])]):e._e(),e.isSearching?[r("div",{staticClass:"button is-outlined is-primary",attrs:{title:"Add Competency as Property"},on:{click:e.addSelected}},[e._m(9),r("span",[e._v("Add Selected")])])]:e._e()],2):e._e()])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon delete-thing"},[r("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon delete-thing"},[r("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-danger delete-thing"},[r("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon remove"},[r("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"is-small export icon"},[r("i",{staticClass:"fa fa-file-export"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-plus"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-save"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"export icon"},[r("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"export icon"},[r("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-check"})])}],o=(r("99af"),r("caad"),r("a15b"),r("a434"),r("b0c0"),r("a9e3"),r("b64b"),r("d3b7"),r("ac1f"),r("8a79"),r("5319"),r("1276"),r("2ca0"),r("498a"),r("ddb0"),r("54f8")),a=r("f3f3"),n=r("2f62"),c=r("5e26"),l=r("5650"),p=r("3dcd"),d=r("872c"),h={name:"ThingEditing",props:{obj:Object,children:Number,expandedObj:Object,uri:String,clickToLoad:Boolean,parentNotEditable:Boolean,profile:Object,highlightList:Array,childrenExpanded:{type:Boolean,default:!0},newFramework:Boolean,index:Number,frameworkEditable:Boolean,cantMoveUp:Boolean,cantMoveDown:Boolean,cantMoveRight:Boolean,cantMoveLeft:Boolean,editingNode:Boolean,properties:String,view:{type:String,default:"framework"}},components:{Property:c["default"],AddProperty:l["a"],Search:p["a"]},mixins:[d["a"]],data:function(){return{showAddPropertyContent:!1,isSearching:!1,selectedMove:"",saving:!1,saved:"saved",errorSaving:!1,editingThing:!0,editingClass:"thing-editing",hoverClass:"",expandedThing:null,originalThing:null,showAlways:!1,showPossible:!0,uriAndNameOnly:!1,name:null,skipConfigProperties:["alwaysProperties","headings","primaryProperties","secondaryProperties","tertiaryProperties","relationshipsHeading","relationshipsPriority"],validate:!1,validateCount:0,repo:window.repo,doneValidating:!1,doneSaving:!1,errorMessage:[],idsNotPermittedInSearch:[],addAnother:!1,disableDoneEditingButton:!1,errorValidating:null}},created:function(){!1===this.clickToLoad&&this.load()},mounted:function(){this.uri&&this.$store.state.editor&&this.resolveNameFromUrl(this.uri);var e=this.originalThing["schema:dateModified"];e&&(this.saved="last saved "+new Date(e).toLocaleString()),this.obj&&this.obj.shortId()===this.changedObject&&this.$store.commit("editor/changedObject",null)},beforeDestroy:function(){this.$store.commit("editor/selectedCompetency",null),this.$store.commit("lode/setAddingProperty",""),this.$store.commit("lode/setAddingValue",""),this.$store.commit("lode/setIsAddingProperty",!1)},computed:Object(a["a"])(Object(a["a"])({},Object(n["c"])({selectedCompetency:function(e){return e.editor.selectedCompetency},framework:function(e){return e.editor.framework},queryParams:function(e){return e.editor.queryParams},addingProperty:function(e){return e.lode.addingProperty},isSavingProperty:function(e){return e.lode.isSavingProperty},isSavingThing:function(e){return e.lode.isSavingThing},addingValue:function(e){return e.lode.addingValue},addingRange:function(e){return e.lode.addingRange},addingChecked:function(e){return e.lode.addingChecked}})),{},{addingPropertyLabel:function(){return this.addingProperty&&this.profile&&this.profile[this.addingProperty]?this.profile[this.addingProperty]["http://www.w3.org/2000/01/rdf-schema#label"][0]["@value"]:this.addingProperty},nameOfSelectedCompetency:function(){return this.selectedCompetency&&this.selectedCompetency.name?this.selectedCompetency.getName?this.selectedCompetency.getName():Thing.getDisplayStringFrom(this.selectedCompetency.name):this.selectedCompetency?this.selectedCompetency["skos:prefLabel"]?Thing.getDisplayStringFrom(this.selectedCompetency["skos:prefLabel"]):Thing.getDisplayStringFrom(this.selectedCompetency["dcterms:title"]):""},showAlwaysProperties:function(){return!0===this.showAlways&&null!==this.expandedThing&&void 0!==this.expandedThing},showPossibleProperties:function(){return!0===this.showPossible&&null!=this.expandedThing&&void 0!==this.expandedThing},showViewProperties:function(){return null!==this.expandedThing&&void 0!==this.expandedThing},headings:function(){return this.profile&&this.profile["headings"]&&0!==this.profile["headings"].length?this.profile["headings"]:[""]},minimizeButtonClass:function(){return!0===this.showAlways&&!1===this.showPossible?"is-text has-text-info ":"is-text has-text-dark"},allPropertiesButtonClass:function(){return!1===this.showAlways&&null===this.showPossible?"is-info has-text-white ":"is-text has-text-dark"},globalButtonClass:function(){return!1===this.showAlways&&!0===this.showPossible?"is-info has-text-white ":"is-text has-text-dark"},type:function(){return null==this.expandedThing?null:this.expandedThing["@type"][0]},shortType:function(){return null==this.expandedThing?null:this.expandedThing["@type"][0].split("/").pop()},context:function(){if(this.type){var e=this.type.split("/");return e.pop(),e.join("/")}return null},canEdit:function(){return!0},schema:function(){var e=this.$store.state.lode.schemata[this.type];null==e&&(e=this.$store.state.lode.schemata[this.context]);var t={};if(null!==e&&void 0!==e)for(var r=0;r<e.length;r++){var s=e[r];t[s["@id"]]=s}return t},alwaysProperties:function(){var e={};if(this.profile&&this.profile["alwaysProperties"])return this.getPropertiesFromProfile(e,"alwaysProperties");if(this.profile&&this.profile["primaryProperties"])return this.getPropertiesFromProfile(e,"primaryProperties");for(var t=["http://schema.org/name","http://schema.org/description","http://purl.org/dc/terms/title","http://purl.org/dc/terms/description","http://www.w3.org/2004/02/skos/core#prefLabel","http://www.w3.org/2004/02/skos/core#definition"],r=0;r<t.length;r++){var s=t[r];if((null==this.profile||null!=this.profile&&void 0!==this.profile[s])&&null!=this.schema[s]&&null!=this.expandedThing[s]&&0!==this.expandedThing[s].length){var i="";null!=this.profile?(this.profile[s]["heading"]&&(i=this.profile[s]["heading"]),null!=e[i]&&void 0!==e[i]||(e[i]={}),e[i][s]=this.profile[s]):(null!=e[i]&&void 0!==e[i]||(e[i]={}),e[i][s]=this.schema[s])}}return e},viewProperties:function(){var e={};for(var t in this.alwaysProperties)for(var r in e[t]={},this.alwaysProperties[t])e[t][r]=this.alwaysProperties[t][r];if(this.profile&&this.profile["secondaryProperties"])return this.getPropertiesFromProfile(e,"secondaryProperties");for(var t in this.expandedThing)if("constructor"!==t&&"@id"!==t&&"@type"!==t&&"@context"!==t&&!t.endsWith("owner")&&!t.endsWith("reader")&&!t.endsWith("signature")&&(null==this.profile||void 0!==this.profile[t])&&null!=this.expandedThing[t]&&0!==this.expandedThing[t].length)if(null==this.profile)null==this.schema[t]||void 0===this.schema[t]?(null!=e[""]&&void 0!==e[""]||(e[""]={}),e[""][t]=this.$store.state.lode.schemaFallback[t]):(null!=e[""]&&void 0!==e[""]||(e[""]={}),e[""][t]=this.schema[t]);else{var s="";this.profile[t]["heading"]&&(s=this.profile[t]["heading"]),null!=e[s]&&void 0!==e[s]||(e[s]={}),e[s][t]=this.profile[t]}if(this.profile)for(var t in this.profile){s="";if(this.profile[t]["heading"]&&(s=this.profile[t]["heading"]),null==e[s]&&void 0===e[s]&&(e[s]={}),this.profile[t]["valuesIndexed"]){var i=this.profile[t]["valuesIndexed"];i=i(),i&&i[this.obj.shortId()]&&(e[s][t]=this.profile[t])}else null!=this.expandedThing[t]&&0!==this.expandedThing[t].length&&(e[s][t]=this.profile[t])}return e},possibleProperties:function(){var e={};for(var t in this.viewProperties)for(var r in e[t]={},this.viewProperties[t])e[t][r]=this.viewProperties[t][r];if(this.profile&&this.profile["tertiaryProperties"])return this.getPropertiesFromProfile(e,"tertiaryProperties");if(null!=this.profile){for(var t in this.profile)if(!EcArray.has(this.skipConfigProperties,t))if(this.profile["headings"]&&0!==this.profile["headings"].length){var s=this.profile[t]["heading"];null!=e[s]&&void 0!==e[s]||(e[s]={}),e[s][t]=this.profile[t]}else null!=e[""]&&void 0!==e[""]||(e[""]={}),e[""][t]=this.profile[t]}else for(var t in this.schema)"constructor"!==t&&"@id"!==t&&"@type"!==t&&"@context"!==t&&(t.endsWith("owner")||t.endsWith("reader")||t.endsWith("signature")||null!=this.profile&&void 0===this.profile[t]||void 0===this.schema[t]["@type"]&&void 0===this.schema[t]["http://schema.org/domainIncludes"]||null!=this.schema[t]["@type"]&&-1===this.schema[t]["@type"][0].indexOf("Property")||(null==this.schema[t]||void 0===this.schema[t]?(null!=e[""]&&void 0!==e[""]||(e[""]={}),e[""][t]=this.$store.state.lode.schemaFallback[t]):(null!=e[""]&&void 0!==e[""]||(e[""]={}),e[""][t]=this.schema[t])));return e},iconClass:function(){return"fas fa-"+this.shortType.toLowerCase()},highlighted:function(){if(this.highlightList)for(var e=0;e<this.highlightList.length;e++)if(this.obj.shortId()===this.highlightList[e]||this.obj.id===this.highlightList[e])return!0;return!1},changedObject:function(){return this.$store.state.editor?this.$store.state.editor.changedObject:null},isAddingProperty:function(){return this.$store.getters["lode/isAddingProperty"]},hasAdditionalProperty:function(){if(this.profile)for(var e in this.profile)if(!EcArray.has(this.skipConfigProperties,e)){if("true"===this.profile[e]["readOnly"]||!0===this.profile[e]["readOnly"])continue;if(1===this.profile[e]["max"]){if("true"===this.profile[e]["isRequired"]||!0===this.profile[e]["isRequired"])continue;if(this.profile[e]["valuesIndexed"]){var t=this.profile[e]["valuesIndexed"];if(t=t(),t&&t[this.obj.shortId()])continue}else if(this.expandedThing&&null!=this.expandedThing[e]&&this.expandedThing[e].length>0)continue}return!0}return!1}}),methods:{onClickToAddProperty:function(){this.showAddPropertyContent=!0,this.$store.commit("lode/setAddingProperty",""),this.$store.commit("lode/setAddingValue",""),this.$store.commit("lode/setIsAddingProperty",!0)},onCancelAddProperty:function(){this.showAddPropertyContent=!1,this.isSearching=!1,this.$store.commit("lode/setIsAddingProperty",!1),this.errorMessage=[]},saveNewProperty:function(){var e=this.addingProperty,t=this.addingValue,r=this.addingRange;this.errorMessage=[],this.errorMessage=[];var s,i=!1;if(this.profile&&this.profile[e]&&this.profile[e]["resource"]&&(i=!0),!e)return this.errorMessage.push("Property type is required.");if((!t||null!==t&&void 0!==t&&null!==t["@value"]&&void 0!==t["@value"]&&0===t["@value"].trim().length)&&(!this.addingChecked||0===this.addingChecked.length))return this.errorMessage.push("Value is required to save.");if(t&&i){if(!t["@value"]||!t["name"])return this.errorMessage.push("This property must have a URL and a name.");if(-1===t["@value"].indexOf("http"))return this.errorMessage.push("This property must be a URL. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/.")}if(t&&!i&&1===r.length&&("http://schema.org/URL"===r[0]||-1!==r[0].toLowerCase().indexOf("concept")||-1!==r[0].toLowerCase().indexOf("competency")||-1!==r[0].toLowerCase().indexOf("level"))&&-1===t.indexOf("http"))return this.errorMessage.push("This property must be a URL. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/.");if(t&&-1!==r[0].toLowerCase().indexOf("level")){var o=EcLevel.getBlocking(t);if(!o)return this.errorMessage.push("This URL must be a Level that is already in the system.")}if(t&&1===r.length&&-1!==r[0].toLowerCase().indexOf("langstring")){if(null==t["@language"]||void 0===t["@language"]||0===t["@language"].trim().length)return this.errorMessage.push("This field can only have one entry per language.");if(this.profile&&this.profile[e]&&("true"===this.profile[e]["onePerLanguage"]||!0===this.profile[e]["onePerLanguage"])&&this.expandedThing[e]){for(var a=[],n=0;n<this.expandedThing[e].length;n++){if(a.includes(this.expandedThing[e][n]["@language"].toLowerCase()))return this.errorMessage.push("This field can only have one entry per language.");a.push(this.expandedThing[e][n]["@language"].toLowerCase())}if(a.includes(t["@language"].toLowerCase()))return this.errorMessage.push("This field can only have one entry per language.")}}if(this.profile&&this.profile[e]["add"]){var c=this.profile[e]["add"];if("checkedOptions"!==c){var l=EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]);c(l,[t])}}else this.expandedThing[e]&&(s=JSON.parse(JSON.stringify(this.expandedThing[e]))),this.add();if(this.profile&&this.profile[e]["save"]){c=this.profile[e]["save"];this.addingChecked&&this.addingChecked.length>0?c(this.expandedThing,this.addingChecked,this.profile[e]["options"]):c()}else s&&this.$store.commit("editor/addEditsToUndo",{operation:"update",id:EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]),fieldChanged:[e],initialValue:[s],changedValue:[this.expandedThing[e]],expandedProperty:!0}),this.saveThing();this.showAddPropertyContent=!1,this.$store.commit("lode/setIsAddingProperty",!1),this.$store.commit("lode/setAddingProperty",""),this.$store.commit("lode/setAddingValue","")},handleMove:function(e){appLog(e);var t=e.target.value;"movedown"===t?this.moveDown():"moveleft"===t?this.moveLeft():"moveright"===t?this.moveRight():"moveup"===t?this.moveUp():appLog("error: move not allowed"),this.selectedMove=""},showEnteredProperties:function(){appLog("showing entered properties"),this.showAlways=!1,this.showPossible=null},showGlobal:function(){this.showAlways=!1,this.showPossible=!0},emitExpandEvent:function(e){appLog("expand",e.target),this.$emit("expand-event")},handleMouseOverThing:function(){this.hoverClass="showHoverItems"},handleMouseOutThing:function(){this.hoverClass=""},showModal:function(e){"deleteObject"===e?"Competency"===this.shortType?this.$store.commit("app/showModal",{component:"DeleteCompetencyConfirm"}):"Level"===this.shortType?this.$store.commit("app/showModal",{component:"DeleteLevelConfirm"}):"Concept"===this.shortType?this.$store.commit("app/showModal",{component:"DeleteConceptConfirm"}):"ConceptScheme"===this.shortType?this.$store.commit("app/showModal",{component:"DeleteConceptSchemeConfirm"}):"Framework"===this.shortType?this.$store.commit("app/showModal",{component:"DeleteFrameworkConfirm"}):"Directory"===this.shortType&&this.$store.commit("app/showModal",{component:"DeleteDirectoryConfirm"}):("removeObject"===e&&(this.$store.commit("editor/setItemToRemove",this.obj),this.$store.commit("app/showModal",{component:"RemoveCompetencyConfirm"})),"export"===e&&(this.$store.commit("editor/setItemToExport",this.obj),this.$store.commit("app/showModal",{title:"Export "+this.shortType,component:"ExportOptionsModal"})))},load:function(){var e=this;if(e.clickToLoad=!1,null!=this.uri)EcRepository.get(this.uri,(function(t){if(e.originalThing=t,EcObject.isObject(t)){var r=e.getAllTypes(t);null!=t.context&&void 0!==t.context&&r.push(t.context),(new EcAsyncHelper).each(r,(function(t,r){e.loadSchema(r,t)}),(function(){e.expand(t,(function(){}))}))}else e.resolveNameFromUrl(e.uri),e.uriAndNameOnly=!0}),(function(){e.resolveNameFromUrl(e.uri),e.uriAndNameOnly=!0}));else if(null!=this.expandedObj&&void 0!==this.expandedObj)this.loadSchema((function(){e.expandedThing=e.expandedObj,!e.$store.state.editor||EcRemoteLinkedData.trimVersionFromUrl(e.expandedThing["@id"])!==e.$store.state.editor.newCompetency&&EcRemoteLinkedData.trimVersionFromUrl(e.expandedThing["@id"])!==e.$store.state.editor.newFramework||e.populateRequiredFields()}),this.expandedObj["@type"][0]);else{e.originalThing=this.obj;var t=e.getAllTypes(this.obj);null!=this.obj.context&&void 0!==this.obj.context&&t.push(this.obj.context),(new EcAsyncHelper).each(t,(function(t,r){e.loadSchema(r,t)}),(function(){e.expand(e.obj,(function(){}))}))}},reactify:function(e){for(var t in e)if(EcArray.isArray(e[t])){var r,s=Object(o["a"])(e[t]);try{for(s.s();!(r=s.n()).done;){var i=r.value;EcObject.isObject(i)&&null!=i["@type"]&&this.reactify(i)}}catch(p){s.e(p)}finally{s.f()}}var a=null,n=e["@type"];EcArray.isArray(n)&&n.length>0&&(n=n[0]);a=this.$store.state.lode.objectModel[n];if(null!=a)for(var c in a)null==e[c]&&(e[c]=[]);if(this.profile)for(var l in this.profile)null!=e[l]||this.profile[l]["valuesIndexed"]||EcArray.has(this.skipConfigProperties,l)||(e[l]=[]);return e},expand:function(e,t){var r=this,s=JSON.parse(e.toJson());null!=s["@context"]&&s["@context"].startsWith("http://")&&(s["@context"]=s["@context"].replace("http://","https://")),null!=s["@context"]&&-1!==s["@context"].indexOf("skos")&&(s["@context"]="https://schema.cassproject.org/0.4/skos/"),jsonld.expand(s,(function(e,t){null==e?(r.expandedThing=r.reactify(t[0]),!r.$store.state.editor||EcRemoteLinkedData.trimVersionFromUrl(r.expandedThing["@id"])!==r.$store.state.editor.newCompetency&&EcRemoteLinkedData.trimVersionFromUrl(r.expandedThing["@id"])!==r.$store.state.editor.newFramework||r.populateRequiredFields()):appError(e)}))},loadSchema:function(e,t){var r=this;if(null==t&&(t=this.type),t.startsWith("http://schema.org/"))null!=e&&e();else if(-1!==t.indexOf("ConceptScheme")?t="https://schema.cassproject.org/0.4/skos/ConceptScheme":-1!==t.indexOf("Concept")?t="https://schema.cassproject.org/0.4/skos/Concept":-1!==t.indexOf("skos")&&(t="https://schema.cassproject.org/0.4/skos"),void 0===this.$store.state.lode.schemata[t]&&-1===t.indexOf("EncryptedValue")){var s=t;s+=-1!==t.indexOf("schema.org")?".jsonld":"",EcRemote.getExpectingObject("",s,(function(s){r.$store.commit("lode/rawSchemata",{id:t,obj:s}),jsonld.expand(s,(function(s,i){null==s?(r.$store.dispatch("lode/schemata",{id:t,obj:i}),null!=e&&e()):e()}))}),e)}else null!=e&&e()},add:function(e,t){var r=e||this.addingProperty,s=t||this.addingValue;null!=s["@value"]&&void 0!==s["@value"]||(s={"@value":s});var i=this;(new EcAsyncHelper).each(i.getAllTypes(s),(function(e,t){i.loadSchema(t,e)}),(function(){void 0!==i.expandedThing[r]&&null!=i.expandedThing[r]||(i.expandedThing[r]=[]),EcArray.isArray(i.expandedThing[r])||(i.expandedThing[r]=[i.expandedThing[r]]),null==s["@value"]?jsonld.expand(JSON.parse(s.toJson()),(function(e,t){null!=e?appError(e):i.expandedThing[r].push(i.reactify(t[0]))})):i.expandedThing[r].push(s)}))},remove:function(e,t){var r=JSON.parse(JSON.stringify(this.expandedThing[e]));EcArray.isArray(this.expandedThing[e])||(this.expandedThing[e]=[this.expandedThing[e]]),this.expandedThing[e].splice(t,1),this.$store.commit("editor/addEditsToUndo",{operation:"update",id:EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"]),fieldChanged:[e],initialValue:r,changedValue:this.expandedThing[e],expandedProperty:!0}),this.saveThing()},update:function(e,t,r,s){if(this.errorValidating=null,this.profile&&this.profile[e]&&this.profile[e]["update"]){if(r["name"]&&r["@value"]){var i=this.profile[e]["update"];i(r)}}else null==t?this.expandedThing[e]=r:this.expandedThing[e][t]=r;s&&s()},saveThing:function(){this.saving=!0,this.doneSaving=!1,this.saved=!1,this.errorSaving=!1;var e=this,t=this;while(null==e.expandedThing["@id"]||void 0===e.expandedThing["@id"])if(e=e.$parent.$parent,null==e.expandedThing)return"Could not save.";jsonld.compact(this.stripEmptyArrays(this.expandedThing),this.$store.state.lode.rawSchemata[this.context],(function(e,r){if(null!=e&&appError(e),r){r=t.turnFieldsBackIntoArrays(r);var s=new EcRemoteLinkedData;s.copyFrom(r),s.context=t.context,delete s["@context"],t.$store.state.editor&&!0===t.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[s.id]&&(s=EcEncryptedValue.toEncryptedValue(s)),s["schema:dateModified"]=(new Date).toISOString(),repo.saveTo(s,(function(){t.doneSaving=!0,t.saving=!1,t.saved="last saved "+new Date(s["schema:dateModified"]).toLocaleString(),t.$store.commit("editor/changedObject",s.shortId()),t.doneValidating&&(t.addAnother&&(t.$store.commit("editor/addAnother",!0),t.addAnother=!1),t.$emit("done-editing-node-event")),"Framework"===s.type?(t.$store.commit("editor/framework",EcFramework.getBlocking(s.shortId())),t.spitEvent("viewChanged")):"ConceptScheme"===s.type&&(t.$store.commit("editor/framework",EcConceptScheme.getBlocking(s.shortId())),t.spitEvent("viewChanged"))}),(function(e){appError(e),t.errorSaving=!0}))}}))},turnFieldsBackIntoArrays:function(e){for(var t=["owner","reader","signature","competency","level","relation","skos:hasTopConcept","skos:narrower","skos:broader","skos:broadMatch","skos:closeMatch","skos:exactMatch","skos:narrowMatch","skos:related"],r=0;r<t.length;r++){var s=t[r];e[s]&&!EcArray.isArray(e[s])&&(e[s]=[e[s]])}return e},stripEmptyArrays:function(e){if(EcArray.isArray(e)){if(0===e.length)return null;for(var t=0;t<e.length;t++)e[t]=this.stripEmptyArrays(e[t]),null==e[t]&&e.splice(t--,1)}else if(EcObject.isObject(e))for(var r in e){var s=this.stripEmptyArrays(e[r]);null==s&&delete e[r]}return e},getAllTypes:function(e,t){var r=[];if(null!=e&&null!=e.context&&(t=e.context),EcArray.isArray(e))for(var s=0;s<e.length;s++)r=r.concat(this.getAllTypes(e[s],t));else if(EcObject.isObject(e))for(var i in null!=e.type&&(null==e.context&&(e.context=t),r.push(e.context+(e.context.endsWith("/")?"":"/")+e.type)),null!=e["@type"]&&(null==e["@context"]&&(e["@context"]=t),-1===e["@type"].indexOf("schema:")&&r.push(e["@context"]+(e["@context"].endsWith("/")?"":"/")+e["@type"])),e)r=r.concat(this.getAllTypes(e[i],t));return r},deleteObject:function(e){e?this.$emit("delete-object",e):this.$emit("delete-object",this.originalThing)},removeObject:function(){this.$emit("remove-object",this.originalThing)},resolveNameFromUrl:function(e){var t=this;this.get(e,null,null,(function(e){var r=null;if(e){if("<"===e[0])return;if(e=JSON.parse(e),e["ceterms:name"]?r=e["ceterms:name"]:e["ceasn:competencyText"]?r=e["ceasn:competencyText"]:e["name"]?r=e["name"]:e["schema:name"]?r=e["schema:name"]:e["title"]?r=e["title"]:e["skos:prefLabel"]?r=e["skos:prefLabel"]:e["title"]?r=e["title"]:e["@graph"]&&e["@graph"][0]&&(e["@graph"][0]["ceterms:name"]?r=e["@graph"][0]["ceterms:name"]:e["@graph"][0]["name"]?r=e["@graph"][0]["name"]:e["@graph"][0]["schema:name"]?r=e["@graph"][0]["schema:name"]:e["@graph"][0]["title"]?r=e["@graph"][0]["title"]:e["@graph"][0]["skos:prefLabel"]&&(r=e["@graph"][0]["skos:prefLabel"])),r=Thing.getDisplayStringFrom(r),EcObject.isObject(r)){var s=Object.keys(r);r=r[s[0]]}}t.name=r}),(function(e){appLog(e)}))},get:function(e,t,r,s,i){var o=EcRemote.urlAppend(e,t);o=EcRemote.upgradeHttpToHttps(o);var a=null;if("undefined"===typeof httpStatus){if(a=new XMLHttpRequest,a.open("GET",o,EcRemote.async),null!=r)for(var n=EcObject.keys(r),c=0;c<n.length;c++)a.setRequestHeader(n[c],r[n[c]]);var l=a;a.onreadystatechange=function(){4===l.readyState&&200===l.status&&(null!=s?s(l.responseText):4===l.readyState&&null!=i&&i(l.responseText))}}null!=a&&EcRemote.async&&(a["timeout"]=EcRemote.timeout),"undefined"!==typeof httpStatus?null!=s&&s(JSON.stringify(httpGet(o))):a.send()},allowPropertyEdits:function(e){return"@id"!==e&&"ctid"!==e&&"registryURL"!==e&&((!this.profile||!this.profile[e]||!0!==this.profile[e]["readOnly"])&&this.canEdit)},moveUp:function(){this.$emit("move-up",this.originalThing.shortId(),this.index)},moveDown:function(){this.$emit("move-down",this.originalThing.shortId(),this.index)},moveRight:function(){this.$emit("move-right",this.originalThing.shortId(),this.index)},moveLeft:function(){this.$emit("move-left",this.originalThing.shortId(),this.index)},displayHeading:function(e){if(!0===this.showAlways&&!1===this.showPossible){if(this.alwaysProperties[e]&&EcObject.keys(this.alwaysProperties[e]).length>0)return e}else if(!1===this.showAlways&&null==this.showPossible){if(this.viewProperties[e]&&EcObject.keys(this.viewProperties[e]).length>0)return e}else if(!0===this.showPossible&&EcObject.keys(this.possibleProperties[e]).length>0)return e;return null},select:function(e,t){this.$emit("select",e,t)},getPropertiesFromProfile:function(e,t){for(var r=0;r<this.profile[t].length;r++){var s=this.profile[t][r],i="";if(this.profile[s]["heading"]&&(i=this.profile[s]["heading"]),null==e[i]&&void 0===e[i]&&(e[i]={}),this.profile[s]["valuesIndexed"]){var o=this.profile[s]["valuesIndexed"];o=o(),o&&o[this.obj.shortId()]&&(e[i][s]=this.profile[s])}else this.expandedThing&&null!=this.expandedThing[s]&&0!==this.expandedThing[s].length&&(e[i][s]=this.profile[s])}return e},closeWithoutSaving:function(){if(this.newFramework)return this.clickToDelete();this.$emit("done-editing-node-event")},doneEditing:function(){if(this.disableDoneEditingButton=!0,!0===this.showAddPropertyContent)return this.onCancelAddProperty();this.doneValidating=!1,this.validate=!0,this.errorValidating=null,this.doneSaving=!0,this.addAnother&&this.doneValidating&&(this.$store.commit("editor/addAnother",!0),this.addAnother=!1)},saveAndAddAnother:function(){this.addAnother=!0,this.doneEditing()},validated:function(){this.validateCount++,this.validateCount===this.$store.state.lode.numPropertyComponentsVisible[EcRemoteLinkedData.trimVersionFromUrl(this.expandedThing["@id"])]&&(this.doneValidating=!0,this.validateCount=0,this.doneSaving&&(this.addAnother&&(this.$store.commit("editor/addAnother",!0),this.addAnother=!1),this.$emit("done-editing-node-event")))},populateRequiredFields:function(){for(var e in this.profile)if(!EcArray.has(this.skipConfigProperties,this.profile[e])&&!this.profile[e].valuesIndexed&&("true"===this.profile[e]["isRequired"]||!0===this.profile[e]["isRequired"])&&this.expandedThing[e].length<1){var t=this.profile[e]["http://schema.org/rangeIncludes"][0]["@id"];-1!==t.toLowerCase().indexOf("langstring")?this.add(e,{"@language":this.$store.getters["editor/defaultLanguage"],"@value":""}):this.add(e,{"@value":""})}},addSelected:function(){var e=this.$store.getters["editor/selectedCompetenciesAsProperties"],t=this.$store.state.editor.selectCompetencyRelation;if("Concept"===this.$store.state.lode.searchType||"https://purl.org/ctdlasn/terms/knowledgeEmbodied"===t||"https://purl.org/ctdlasn/terms/abilityEmbodied"===t||"https://purl.org/ctdlasn/terms/taskEmbodied"===t||"https://purl.org/ctdlasn/terms/skillEmbodied"===t)this.attachUrlProperties(e);else if("Competency"===this.$store.state.lode.searchType)this.addAlignments(e,this.$store.state.editor.selectedCompetency,t);else for(var r=0;r<e.length;r++)this.addLevel(this.$store.getters["editor/selectedCompetency"].shortId(),[e[r]]);this.isSearching=!1,this.showAddPropertyContent=!1},attachUrlProperties:function(e){var t=this.$store.state.editor.framework;null!=this.$store.state.editor.selectedCompetency&&(t=this.$store.state.editor.selectedCompetency);for(var r=0;r<e.length;r++){var s=EcRepository.getBlocking(e[r]);if(s.isAny((new EcConcept).getTypes())||s.isAny((new EcCompetency).getTypes())){var i=this.$store.state.editor.selectCompetencyRelation;-1!==i.indexOf("http")?(this.$store.commit("lode/setAddingProperty",i),this.$store.commit("lode/setAddingValue",{"@value":e[r]}),this.add(),this.saveThing()):(EcArray.isArray(t[this.$store.state.editor.selectCompetencyRelation])||(t[this.$store.state.editor.selectCompetencyRelation]=[]),EcArray.setAdd(t[this.$store.state.editor.selectCompetencyRelation],s.shortId()))}}t["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[t.id]&&(t=EcEncryptedValue.toEncryptedValue(t)),this.repo.saveTo(t,(function(){}),appError)},clickToDelete:function(){this.$store.getters["app/editDirectory"]?(this.$store.commit("app/editDirectory",!1),this.$store.commit("app/showModal",{component:"DeleteDirectoryConfirm"})):(this.$store.commit("editor/setItemToDelete",this.obj?this.obj:this.originalThing),this.showModal("deleteObject"))}},watch:{addingProperty:function(e){e&&(this.errorMessage=[])},isSavingThing:function(e){if(e)return this.saveThing()},canEdit:function(){this.showAlways=!0,this.showPossible=!1},changedObject:function(){if(this.originalThing&&this.shortType&&this.changedObject===this.originalThing.shortId()){var e="Ec"+this.shortType;if(e){var t=window[e].getBlocking(this.changedObject);this.obj=t,!1===this.clickToLoad&&this.load()}this.$store.commit("editor/changedObject",null)}},isAddingProperty:function(){!1===this.isAddingProperty&&(this.showAddPropertyContent=!1)},originalThing:function(){this.originalThing&&("Competency"!==this.shortType&&"Concept"!==this.shortType&&"Level"!==this.shortType||this.$store.commit("editor/selectedCompetency",this.originalThing))},isSearching:function(){if(this.isSearching){var e=["narrows","broadens","hasChild","isChildOf"];if(EcArray.has(e,this.addingProperty))for(var t=this.$store.getters["editor/relations"],r=0;r<e.length;r++)if(t[e[r]]&&t[e[r]][this.obj.shortId()]){var s=t[e[r]][this.obj.shortId()];if(s)for(var i=0;i<s.length;i++)this.idsNotPermittedInSearch.push(s[i]["@id"])}}else this.idsNotPermittedInSearch=[]},profile:function(){this.populateRequiredFields()},validate:function(){this.validate||(this.disableDoneEditingButton=!1,this.validateCount=0)}}},m=h,u=(r("78bf"),r("2877")),g=Object(u["a"])(m,s,i,!1,null,null,null);t["default"]=g.exports},"81d7":function(e,t,r){"use strict";var s=r("ed1c"),i=r.n(s);i.a},"891f":function(e,t,r){},"89d3":function(e,t,r){"use strict";var s=r("1776"),i=r.n(s);i.a},"8d74":function(e,t,r){var s=r("4cef"),i=/^\s+/;function o(e){return e?e.slice(0,s(e)+1).replace(i,""):e}e.exports=o},"8e28":function(e,t,r){},"8e85":function(e,t,r){},"8ee0":function(e,t,r){},"94fc":function(e,t,r){"use strict";var s=r("3e24"),i=r.n(s);i.a},"984b":function(e,t,r){},9861:function(e,t,r){"use strict";r("e260");var s=r("23e7"),i=r("d066"),o=r("0d3b"),a=r("6eeb"),n=r("e2cc"),c=r("d44e"),l=r("9ed3"),p=r("69f3"),d=r("19aa"),h=r("5135"),m=r("0366"),u=r("f5df"),g=r("825a"),f=r("861d"),w=r("7c73"),y=r("5c6c"),v=r("9a1f"),C=r("35a1"),b=r("b622"),k=i("fetch"),T=i("Headers"),_=b("iterator"),x="URLSearchParams",I=x+"Iterator",E=p.set,P=p.getterFor(x),S=p.getterFor(I),F=/\+/g,$=Array(4),j=function(e){return $[e-1]||($[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},A=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(F," "),r=4;try{return decodeURIComponent(t)}catch(s){while(r)t=t.replace(j(r--),A);return t}},D=/[!'()~]|%20/g,R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return R[e]},M=function(e){return encodeURIComponent(e).replace(D,L)},N=function(e,t){if(t){var r,s,i=t.split("&"),o=0;while(o<i.length)r=i[o++],r.length&&(s=r.split("="),e.push({key:O(s.shift()),value:O(s.join("="))}))}},U=function(e){this.entries.length=0,N(this.entries,e)},V=function(e,t){if(e<t)throw TypeError("Not enough arguments")},q=l((function(e,t){E(this,{type:I,iterator:v(P(e).entries),kind:t})}),"Iterator",(function(){var e=S(this),t=e.kind,r=e.iterator.next(),s=r.value;return r.done||(r.value="keys"===t?s.key:"values"===t?s.value:[s.key,s.value]),r})),B=function(){d(this,B,x);var e,t,r,s,i,o,a,n,c,l=arguments.length>0?arguments[0]:void 0,p=this,m=[];if(E(p,{type:x,entries:m,updateURL:function(){},updateSearchParams:U}),void 0!==l)if(f(l))if(e=C(l),"function"===typeof e){t=e.call(l),r=t.next;while(!(s=r.call(t)).done){if(i=v(g(s.value)),o=i.next,(a=o.call(i)).done||(n=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");m.push({key:a.value+"",value:n.value+""})}}else for(c in l)h(l,c)&&m.push({key:c,value:l[c]+""});else N(m,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},z=B.prototype;n(z,{append:function(e,t){V(arguments.length,2);var r=P(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){V(arguments.length,1);var t=P(this),r=t.entries,s=e+"",i=0;while(i<r.length)r[i].key===s?r.splice(i,1):i++;t.updateURL()},get:function(e){V(arguments.length,1);for(var t=P(this).entries,r=e+"",s=0;s<t.length;s++)if(t[s].key===r)return t[s].value;return null},getAll:function(e){V(arguments.length,1);for(var t=P(this).entries,r=e+"",s=[],i=0;i<t.length;i++)t[i].key===r&&s.push(t[i].value);return s},has:function(e){V(arguments.length,1);var t=P(this).entries,r=e+"",s=0;while(s<t.length)if(t[s++].key===r)return!0;return!1},set:function(e,t){V(arguments.length,1);for(var r,s=P(this),i=s.entries,o=!1,a=e+"",n=t+"",c=0;c<i.length;c++)r=i[c],r.key===a&&(o?i.splice(c--,1):(o=!0,r.value=n));o||i.push({key:a,value:n}),s.updateURL()},sort:function(){var e,t,r,s=P(this),i=s.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(e=o[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}s.updateURL()},forEach:function(e){var t,r=P(this).entries,s=m(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<r.length)t=r[i++],s(t.value,t.key,this)},keys:function(){return new q(this,"keys")},values:function(){return new q(this,"values")},entries:function(){return new q(this,"entries")}},{enumerable:!0}),a(z,_,z.entries),a(z,"toString",(function(){var e,t=P(this).entries,r=[],s=0;while(s<t.length)e=t[s++],r.push(M(e.key)+"="+M(e.value));return r.join("&")}),{enumerable:!0}),c(B,x),s({global:!0,forced:!o},{URLSearchParams:B}),o||"function"!=typeof k||"function"!=typeof T||s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,s,i=[e];return arguments.length>1&&(t=arguments[1],f(t)&&(r=t.body,u(r)===x&&(s=t.headers?new T(t.headers):new T,s.has("content-type")||s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=w(t,{body:y(0,String(r)),headers:y(0,s)}))),i.push(t)),k.apply(this,i)}}),e.exports={URLSearchParams:B,getState:P}},"98d4":function(e,t,r){},"99af":function(e,t,r){"use strict";var s=r("23e7"),i=r("d039"),o=r("e8b5"),a=r("861d"),n=r("7b0b"),c=r("50c4"),l=r("8418"),p=r("65f0"),d=r("1dde"),h=r("b622"),m=r("2d00"),u=h("isConcatSpreadable"),g=9007199254740991,f="Maximum allowed index exceeded",w=m>=51||!i((function(){var e=[];return e[u]=!1,e.concat()[0]!==e})),y=d("concat"),v=function(e){if(!a(e))return!1;var t=e[u];return void 0!==t?!!t:o(e)},C=!w||!y;s({target:"Array",proto:!0,forced:C},{concat:function(e){var t,r,s,i,o,a=n(this),d=p(a,0),h=0;for(t=-1,s=arguments.length;t<s;t++)if(o=-1===t?a:arguments[t],v(o)){if(i=c(o.length),h+i>g)throw TypeError(f);for(r=0;r<i;r++,h++)r in o&&l(d,h,o[r])}else{if(h>=g)throw TypeError(f);l(d,h++,o)}return d.length=h,d}})},"9a1f":function(e,t,r){var s=r("825a"),i=r("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return s(t.call(e))}},"9e69":function(e,t,r){var s=r("2b3e"),i=s.Symbol;e.exports=i},a222:function(e,t,r){},a434:function(e,t,r){"use strict";var s=r("23e7"),i=r("23cb"),o=r("a691"),a=r("50c4"),n=r("7b0b"),c=r("65f0"),l=r("8418"),p=r("1dde"),d=p("splice"),h=Math.max,m=Math.min,u=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,s,p,d,f,w,y=n(this),v=a(y.length),C=i(e,v),b=arguments.length;if(0===b?r=s=0:1===b?(r=0,s=v-C):(r=b-2,s=m(h(o(t),0),v-C)),v+r-s>u)throw TypeError(g);for(p=c(y,s),d=0;d<s;d++)f=C+d,f in y&&l(p,d,y[f]);if(p.length=s,r<s){for(d=C;d<v-s;d++)f=d+s,w=d+r,f in y?y[w]=y[f]:delete y[w];for(d=v;d>v-s+r;d--)delete y[d-1]}else if(r>s)for(d=v-s;d>C;d--)f=d+s-1,w=d+r-1,f in y?y[w]=y[f]:delete y[w];for(d=0;d<r;d++)y[d+C]=arguments[d+2];return y.length=v-s+r,p}})},a907:function(e,t,r){},a9e3:function(e,t,r){"use strict";var s=r("83ab"),i=r("da84"),o=r("94ca"),a=r("6eeb"),n=r("5135"),c=r("c6b6"),l=r("71560"),p=r("c04e"),d=r("d039"),h=r("7c73"),m=r("241c").f,u=r("06cf").f,g=r("9bf2").f,f=r("58a8").trim,w="Number",y=i[w],v=y.prototype,C=c(h(v))==w,b=function(e){var t,r,s,i,o,a,n,c,l=p(e,!1);if("string"==typeof l&&l.length>2)if(l=f(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+l}for(o=l.slice(2),a=o.length,n=0;n<a;n++)if(c=o.charCodeAt(n),c<48||c>i)return NaN;return parseInt(o,s)}return+l};if(o(w,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,T=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof T&&(C?d((function(){v.valueOf.call(r)})):c(r)!=w)?l(new y(b(t)),r,T):b(t)},_=s?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;_.length>x;x++)n(y,k=_[x])&&!n(T,k)&&g(T,k,u(y,k));T.prototype=v,v.constructor=T,a(i,w,T)}},ad86:function(e,t,r){"use strict";var s=r("a907"),i=r.n(s);i.a},af07:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal cass-editor___modal",class:[{"is-active":e.active},"is-"+e.size,"cass-editor__modal--"+e.content],attrs:{id:"cass-modal"}},[r("div",{staticClass:"modal-background"}),r("div",{staticClass:"modal-card",class:"cass-editor__modal-card--"+e.size},[r("header",{staticClass:"modal-card-head is-size-4 has-text-weight-bold",class:["has-background-"+e.type,"has-text-"+e.fontColor]},[r("p",{staticClass:"modal-card-title"},[e._t("modal-header")],2),e.canClose?r("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){e.$store.commit("app/closeModal"),e.$emit("close")}}}):e._e()]),r("div",{staticClass:"modal-card-body has-text-dark"},[e._t("modal-body")],2),r("footer",{staticClass:"modal-card-foot has-background-white"},[e._t("modal-foot")],2)])])},i=[],o=(r("984b"),{name:"ModalTemplate",props:{canClose:{type:Boolean,default:!0},active:{type:Boolean,default:!1},type:{default:"primary",type:String},fontColor:{type:String,default:"white"},size:{type:String,default:"medium"},content:{defualt:"default",type:String}},data:function(){return{}},computed:{}}),a=o,n=(r("ad86"),r("2877")),c=Object(n["a"])(a,s,i,!1,null,null,null);t["a"]=c.exports},b047:function(e,t,r){var s=r("1a8c"),i=r("408c"),o=r("b4b0"),a="Expected a function",n=Math.max,c=Math.min;function l(e,t,r){var l,p,d,h,m,u,g=0,f=!1,w=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function v(t){var r=l,s=p;return l=p=void 0,g=t,h=e.apply(s,r),h}function C(e){return g=e,m=setTimeout(T,t),f?v(e):h}function b(e){var r=e-u,s=e-g,i=t-r;return w?c(i,d-s):i}function k(e){var r=e-u,s=e-g;return void 0===u||r>=t||r<0||w&&s>=d}function T(){var e=i();if(k(e))return _(e);m=setTimeout(T,b(e))}function _(e){return m=void 0,y&&l?v(e):(l=p=void 0,h)}function x(){void 0!==m&&clearTimeout(m),g=0,l=u=p=m=void 0}function I(){return void 0===m?h:_(i())}function E(){var e=i(),r=k(e);if(l=arguments,p=this,u=e,r){if(void 0===m)return C(u);if(w)return clearTimeout(m),m=setTimeout(T,t),v(u)}return void 0===m&&(m=setTimeout(T,t)),h}return t=o(t)||0,s(r)&&(f=!!r.leading,w="maxWait"in r,d=w?n(o(r.maxWait)||0,t):d,y="trailing"in r?!!r.trailing:y),E.cancel=x,E.flush=I,E}e.exports=l},b1ab:function(e,t,r){"use strict";r("b0c0");t["a"]={data:function(){return{levels:null,relations:{},alignments:{}}},watch:{refreshLevels:function(){this.refreshLevels&&this.updateLevels()},relationArray:function(){this.updateRelations()},refreshAlignments:function(){this.refreshAlignments&&this.updateAlignments()}},computed:{refreshLevels:function(){return this.$store.getters["editor/refreshLevels"]},relationArray:function(){return this.framework?this.framework.relation:this.importFramework?this.importFramework.relation:void 0},refreshAlignments:function(){return this.$store.getters["editor/refreshAlignments"]}},methods:{updateLevels:function(){var e=this;!0===this.$store.getters["editor/refreshLevels"]&&this.$store.commit("editor/refreshLevels",!1);var t={};this.framework&&(this.framework.level?(new EcAsyncHelper).each(this.framework.level,(function(e,r){EcLevel.get(e,(function(e){var s=e.competency;EcArray.isArray(s)||(s=[s]);for(var i=0;i<s.length;i++)EcArray.isArray(t[s[i]])||(t[s[i]]=[]),t[s[i]].push({"@id":e.shortId()});r()}),r)}),(function(r){e.levels=t})):this.levels=null)},updateRelations:function(){var e,t;if((null===(e=this.framework)||void 0===e||!e.relation)&&(null===(t=this.importFramework)||void 0===t||!t.relation))return this.relations={},void this.$store.commit("editor/relations",{});var r=this,s=[];(new EcAsyncHelper).each(this.framework?this.framework.relation:this.importFramework.relation,(function(e,t){EcAlignment.get(e,(function(e){if(e&&e.source&&e.target){var i={},o=e.relationType,a=null;if("true"===r.queryParams.ceasnDataFields&&"narrows"===o){var n=r.framework;n||(n=r.importFramework),-1!==n.competency.indexOf(e.target)&&-1!==n.competency.indexOf(e.source)&&(o="isChildOf",a="hasChild")}if("narrows"===o&&(a="broadens"),i.type=o,i.source=e.source,i.target={"@id":e.target},s.push(i),a){var c={};c.type=a,c.source=e.target,c.target={"@id":e.source},s.push(c)}}t()}),t)}),(function(e){for(var t={},i=0;i<s.length;i++){var o=s[i];t[o.type]||(t[o.type]={}),t[o.type][o.source]||(t[o.type][o.source]=[]),t[o.type][o.source].push(o.target)}r.relations=t,r.$store.commit("editor/relations",r.relations)}))},updateAlignments:function(){var e=this;if(!0===this.$store.getters["editor/refreshAlignments"]&&this.$store.commit("editor/refreshAlignments",!1),this.framework&&this.framework.competency){var t={};(new EcAsyncHelper).each(this.framework.competency,(function(r,s){var i='@type:CreativeWork AND educationalAlignment.targetUrl:"'+r+'"';e.repo.searchWithParams(i,{size:25},null,(function(e){for(var i=0;i<e.length;i++){var o=e[i].educationalAlignment.alignmentType+" (resource)";t[o]||(t[o]={}),t[o][r]||(t[o][r]=[]),t[o][r].push({"@id":e[i].shortId(),name:e[i].name,"@value":e[i].url})}s()}),s)}),(function(r){e.alignments=t}))}}}}},b4b0:function(e,t,r){var s=r("8d74"),i=r("1a8c"),o=r("ffd6"),a=NaN,n=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;function d(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var r=c.test(e);return r||l.test(e)?p(e.slice(2),r?2:8):n.test(e)?a:+e}e.exports=d},c8d2:function(e,t,r){var s=r("d039"),i=r("5899"),o="​᠎";e.exports=function(e){return s((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},cd8e:function(e,t,r){},d57a:function(e,t,r){"use strict";var s=r("d921"),i=r.n(s);i.a},d6b4:function(e,t,r){"use strict";t["a"]={computed:{tlaFrameworkProfile:function(){return{"@id":{"@id":"https://schema.cassproject.org/0.4/Framework/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Framework URL"}],readOnly:"true",max:1,heading:"Keys"},"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The name of the framework. One name per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Framework Name"}],heading:"General",isRequired:"true",onePerLanguage:"true"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The description of the framework. One description per language"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}],heading:"General",onePerLanguage:"true"},"http://schema.org/creator":{"@id":"http://schema.org/creator","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The primary entity responsible for making this competency or competency framework. For example: \n                            https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/. One entity per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Creator"}],heading:"General"},"https://purl.org/ctdlasn/terms/publisherName":{"@id":"https://purl.org/ctdlasn/terms/publisherName","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the agent responsible for making this entity available."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher Name"}],heading:"General"},"http://schema.org/publisher":{"@id":"http://schema.org/publisher","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The entity responsible for making this competency framework available. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher"}],heading:"General"},"http://schema.org/inLanguage":{"@id":"http://schema.org/inLanguage","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The primary language used in or by this competency framework or competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"In Language"}],heading:"General"},"http://schema.org/keywords":{"@id":"http://schema.org/keywords","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A word or phrase used by the promulgating agency to refine and differentiate individual frameworks contextually. One concept per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Keywords"}],heading:"Tagging"},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Terms"}],noTextEditing:"true",heading:"Tagging"},"https://purl.org/ctdlasn/terms/derivedFrom":{"@id":"https://purl.org/ctdlasn/terms/derivedFrom","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A third party version of the entity being referenced that has been modified in meaning through editing, extension, or refinement.\n                            For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Derived From"}],max:1,heading:"Relations"},"https://purl.org/ctdlasn/terms/isVersionOf":{"@id":"https://purl.org/ctdlasn/terms/isVersionOf","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A related competency framework of which this competency framework is a version, edition, or adaptation."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Version Of"}],max:1,heading:"Relations"},"http://purl.org/dc/elements/1.1/source":{"@id":"http://purl.org/dc/elements/1.1/source","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A URI to the original competency framework which this competency framework is based on or derived from.\n                            For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Source"}],heading:"Relations"},"https://purl.org/ctdlasn/terms/educationLevelType":{"@id":"https://purl.org/ctdlasn/terms/educationLevelType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A general statement describing the education or training context.\n                                Alternatively, a more specific statement of the location of the audience in terms of its progression through an education or training context."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Education Level Type"}],noTextEditing:"true",heading:"Context"},"http://schema.org/validFrom":{"@id":"http://schema.org/validFrom","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2001/XMLSchema#dateTime"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Beginning date of validity of this competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Valid From"}],max:1,heading:"Context"},"http://schema.org/validThrough":{"@id":"http://schema.org/validThrough","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2001/XMLSchema#dateTime"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"End date of validity of this competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Valid Until"}],max:1,heading:"Context"},"https://purl.org/ctdlasn/terms/publicationStatusType":{"@id":"https://purl.org/ctdlasn/terms/publicationStatusType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Publication status of the source competency framework. The original framework may be drafted, published, or depreciated outside of this system."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publication Status"}],options:[{display:"Draft",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Draft"},{display:"Published",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Published"},{display:"Deprecated",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Deprecated"}],max:1,heading:"Context"},"http://schema.org/identifier":{"@id":"http://schema.org/identifier","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alternative URI by which this competency or competency framework is identified. For example, https://sandbox.credentialengineregistry.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Identifier"}],heading:"Context"},"http://schema.org/copyrightYear":{"@id":"http://schema.org/copyrightYear","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://purl.org/dc/terms/date"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Year of a statement of copyright for this competency framework, such as 2017."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Year Copyrighted"}],max:1,heading:"Rights"},"http://schema.org/license":{"@id":"http://schema.org/license","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A legal document giving official permission to do something with this competency framework. For example, https://sandbox.credentialengineregistry.org/"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"License"}],max:1,heading:"Rights"},"http://purl.org/dc/elements/1.1/rights":{"@id":"http://purl.org/dc/elements/1.1/rights","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Information about rights held in and over this competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rights"}],max:1,heading:"Rights"},"http://schema.org/copyrightHolder":{"@id":"http://schema.org/copyrightHolder","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The agent owning or managing rights over this competency framework. For example, https://credentialengineregistry.org/"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rights Holder"}],max:1,heading:"Rights"},headings:["Keys","General","Tagging","Relations","Context","Rights"],primaryProperties:["@id","http://schema.org/name","http://schema.org/description"],secondaryProperties:["http://schema.org/creator","https://purl.org/ctdlasn/terms/publisherName","http://schema.org/publisher","http://schema.org/inLanguage","http://schema.org/keywords","https://purl.org/ctdlasn/terms/conceptTerm","https://purl.org/ctdlasn/terms/derivedFrom","https://purl.org/ctdlasn/terms/isVersionOf","http://purl.org/dc/elements/1.1/source","https://purl.org/ctdlasn/terms/educationLevelType"],tertiaryProperties:["http://schema.org/validFrom","http://schema.org/validThrough","https://purl.org/ctdlasn/terms/publicationStatusType","http://schema.org/identifier","http://schema.org/copyrightYear","http://schema.org/license","http://purl.org/dc/elements/1.1/rights","http://schema.org/copyrightHolder"]}},tlaCompetencyProfile:function(){var e=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/Competency/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"URL"}],readOnly:"true",max:1,heading:"Keys"},"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The name of the competency. One name per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],heading:"General",isRequired:"true",onePerLanguage:"true"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The description of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}],heading:"General"},"https://schema.cassproject.org/0.4/scope":{"@id":"https://schema.cassproject.org/0.4/scope","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The scope of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Scope"}],heading:"General"},"https://schema.cassproject.org/0.4/Level":{"@id":"https://schema.cassproject.org/0.4/Level","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"When an individual's performance in a competency can be measured, a level specifies milestones that an individual can reach, creating fine-grained distinction between the proficient and the adept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Level"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],valuesIndexed:function(){return e.levels},noTextEditing:"true",add:function(t){e.addLevel(t)},remove:function(t,r){e.removeLevelFromFramework(r)},save:function(){e.saveFramework()},heading:"General"},"http://purl.org/dc/terms/type":{"@id":"http://purl.org/dc/terms/type","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The textual label identifying the category of the competency as designated by the promulgating body. One label per line. One label per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Type"}],onePerLanguage:"true",heading:"General"},"https://purl.org/ctdlasn/terms/educationLevelType":{"@id":"https://purl.org/ctdlasn/terms/educationLevelType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A general statement describing the education or training context. Alternatively, a more specific statement of the location of the audience in terms of its progression \n                                through an education or training context."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Education Level"}],noTextEditing:"true",heading:"General"},"https://purl.org/ctdlasn/terms/listID":{"@id":"https://purl.org/ctdlasn/terms/listID","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alphanumeric string indicating this competency's position in a list of competencies at the same level in some arbitrary hierarchy."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"List ID"}],max:1,heading:"General"},"https://purl.org/ctdlasn/terms/codedNotation":{"@id":"https://purl.org/ctdlasn/terms/codedNotation","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alphanumeric notation or ID code identifying this competency in common use among end-users."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Coded Notation"}],max:1,heading:"Context"},"https://purl.org/ctdlasn/terms/derivedFrom":{"@id":"https://purl.org/ctdlasn/terms/derivedFrom","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URI of a competency from which this competency has been derived. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/.  One entity per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Derived From"}],max:1,heading:"Context"},"http://schema.org/identifier":{"@id":"http://schema.org/identifier","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alternative URI by which this competency framework or competency is identified. For example, https://sandbox.credentialengineregistry.org/. One URI per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Identifier"}],heading:"Context"},"http://schema.org/keywords":{"@id":"http://schema.org/keywords","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A word or phrase used by the promulgating agency to refine and differentiate individual competencies contextually. One concept per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Keywords"}],heading:"Tagging"},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Terms"}],noTextEditing:"true",heading:"Tagging"},"https://purl.org/ctdlasn/terms/complexityLevel":{"@id":"https://purl.org/ctdlasn/terms/complexityLevel","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The expected performance level of a learner or professional as defined by a competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Complexity Level"}],noTextEditing:"true",heading:"Scales"},"https://purl.org/ctdlasn/terms/weight":{"@id":"https://purl.org/ctdlasn/terms/weight","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An asserted measurement of the weight, degree, percent, or strength of a recommendation, requirement, or comparison."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Weight"}],max:1,heading:"Scales"},narrows:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A sub-competency relationship which has relevance to this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Narrows"}],valuesIndexed:function(){return e.relations["narrows"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"narrows",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"narrows",r)},heading:"Relations"},broadens:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Covers other relevant competencies not found in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Broadens"}],valuesIndexed:function(){return e.relations["broadens"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"broadens",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"broadens",r)},heading:"Relations"},isEquivalentTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Represents same capability in all aspects to another competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Equivalent To"}],valuesIndexed:function(){return e.relations["isEquivalentTo"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isEquivalentTo",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isEquivalentTo",r)},heading:"Relations"},requires:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Another competency is prerequisite for this."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Requires"}],valuesIndexed:function(){return e.relations["requires"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"requires",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"requires",r)},heading:"Relations"},isEnabledBy:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A recommended option that speeds up acquisition of this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Enabled By"}],valuesIndexed:function(){return e.relations["isEnabledBy"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isEnabledBy",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isEnabledBy",r)},heading:"Relations"},isRelatedTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"This competency has some degree of overlap with another."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Related To"}],valuesIndexed:function(){return e.relations["isRelatedTo"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isRelatedTo",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isRelatedTo",r)},heading:"Relations"},desires:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Recommended, assumed, or expected competency not essential to acquisition of this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Desires"}],valuesIndexed:function(){return e.relations["desires"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"desires",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"desires",r)},heading:"Relations"},headings:["Keys","General","Context","Tagging","Scales","Relations"],primaryProperties:["@id","http://schema.org/name","http://schema.org/description"],secondaryProperties:["https://schema.cassproject.org/0.4/scope","https://schema.cassproject.org/0.4/Level","http://purl.org/dc/terms/type","https://purl.org/ctdlasn/terms/educationLevelType","https://purl.org/ctdlasn/terms/listID","https://purl.org/ctdlasn/terms/codedNotation","https://purl.org/ctdlasn/terms/derivedFrom","http://schema.org/identifier","http://schema.org/keywords","https://purl.org/ctdlasn/terms/conceptTerm","https://purl.org/ctdlasn/terms/complexityLevel","https://purl.org/ctdlasn/terms/weight"],tertiaryProperties:["narrows","broadens","isEquivalentTo","requires","isEnabledBy","isRelatedTo","desires"]}}}}},d921:function(e,t,r){},dd98:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("aside",{staticClass:"has-background-light",attrs:{id:"right-side-bar"}},[r("div",{staticClass:"cass--right-aside--top-bar"},[r("button",{staticClass:"delete has-text-white",attrs:{"aria-label":"close"},on:{click:function(t){return e.$store.commit("app/closeRightAside")}}},[e._m(0)]),r("div",{staticClass:"cass--right-aside--title"},["FilterAndSort"===e.rightAsideContent?r("span",[e._v(" Filter & sort ")]):"ListItemInfo"===e.rightAsideContent?r("span",[e._v(" Information ")]):"Comments"===e.rightAsideContent?r("span",[e._v(" Comments ")]):e._e()])]),e._t("right-aside-content",[r(e.rightAsideContent,{tag:"Component",on:{editResourceDetails:function(t){return e.$emit("editResource",t)}}})])],2)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-times"})])}],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"has-background-lightest",attrs:{id:"right-side-bar__comments"}},[e.isCommentsBusy?r("div",{staticClass:"has-text-centered"},[e._m(0)]):e._e(),e.isCommentsBusy?e._e():r("div",[e.commentWrapperList.length<=0?r("div",{staticClass:"has-text-centered"},[e._m(1)]):e._e(),e.commentWrapperList.length>0?e._l(e.commentWrapperList,(function(t,s){return r("div",{key:s,staticClass:"comment-list"},[r("h4",{staticClass:"comment-list__about",on:{click:function(r){return e.setUpScroll(t)}}},[e._v(" "+e._s(t.aboutName)+" ")]),r("Comment",{key:t.commentId,attrs:{comment:t,canReply:e.canReplyToComments}}),r("div",{staticClass:"buttons is-right"},[r("div",{staticClass:"button is-small is-outlined is-primary",attrs:{title:"reply"},on:{click:function(r){return e.handleClickReply(t)}}},[e._m(2,!0),r("span",[e._v("reply")])])])],1)})):e._e()],2)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-large has-text-center has-text-link"},[r("i",{staticClass:"fas fa-2x fa-spinner is-info fa-pulse"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"has-text-center"},[r("p",[r("i",{staticClass:"fa fa-exclamation-circle"}),e._v(" No comments available")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-reply"})])}],n=(r("caad"),r("b0c0"),r("ac1f"),r("841c"),r("1276"),r("54f8")),c=r("6675"),l=r("872c"),p={name:"Comments",mixins:[l["a"]],data:function(){return{COMMENT_SEARCH_SIZE:1e4,isCommentsBusy:!1,localFrameworkCommentList:[],commentAboutMap:{},commentWrapperList:[],commentWrapperMap:{},canReplyToComments:!1}},components:{Comment:c["default"]},methods:{setUpScroll:function(e){var t={ts:Date.now(),scrollId:"#scroll-"+e.aboutId.split("/").pop()};this.$store.commit("editor/setCommentScrollTo",t)},handleClickReply:function(e){this.$store.commit("editor/setAddCommentAboutId",e.aboutId),this.$store.commit("editor/setAddCommentType","reply"),this.$store.commit("editor/setCommentToReply",e.comment),this.$store.commit("app/showModal",{component:"AddComment"})},determineCanModifyComment:function(e){return!!this.loggedOnPerson.shortId().equals(e.creator)},buildCommentWrapper:function(e,t,r){var s={},i=this.frameworkCommentPersonMap[e.creator];return s.comment=e,s.creator=i,s.aboutId=e.about,s.aboutName=t,s.commentId=e.shortId(),s.creatorName=i.name,s.creatorEmail=i.email,s.dateCreated=e.dateCreated-0,e.lastEditDate&&(s.lastEditDate=e.lastEditDate-0),s.commentText=e.text,s.isTopLevel=r,s.canModify=this.determineCanModifyComment(e),s.replies=[],s},buildFrameworkCommentWrappers:function(){var e=this.commentAboutMap[this.currentFramework.shortId()];if(e&&e.length>0){var t,r=Object(n["a"])(e);try{for(r.s();!(t=r.n()).done;){var s=t.value,i=this.buildCommentWrapper(s,this.currentFramework.getName(),!0);this.commentWrapperList.push(i),this.commentWrapperMap[s.shortId()]=i}}catch(o){r.e(o)}finally{r.f()}}},getCompetencyName:function(e){var t=EcRepository.getBlocking(e);return t?t.getName():"Unknown Competency"},buildCompetencyCommentWrappers:function(){if(this.currentFramework.competency){var e,t=Object(n["a"])(this.currentFramework.competency);try{for(t.s();!(e=t.n()).done;){var r=e.value,s=this.commentAboutMap[r];if(s&&s.length>0){var i,o=this.getCompetencyName(r),a=Object(n["a"])(s);try{for(a.s();!(i=a.n()).done;){var c=i.value,l=this.buildCommentWrapper(c,o,!0);this.commentWrapperList.push(l),this.commentWrapperMap[c.shortId()]=l}}catch(p){a.e(p)}finally{a.f()}}}}catch(p){t.e(p)}finally{t.f()}}},addRepliesToParentWrapper:function(e){var t,r=Object(n["a"])(e);try{for(r.s();!(t=r.n()).done;){var s=t.value,i=this.commentWrapperMap[s],o=i.aboutId,a=this.commentWrapperMap[o];a&&a.replies.push(i)}}catch(c){r.e(c)}finally{r.f()}},buildReplyCommentWrappers:function(){var e,t=[],r=Object(n["a"])(this.frameworkCommentList);try{for(r.s();!(e=r.n()).done;){var s=e.value,i=s.shortId(),o=this.commentAboutMap[i];if(o&&o.length>0){var a,c=Object(n["a"])(o);try{for(c.s();!(a=c.n()).done;){var l=a.value,p=this.buildCommentWrapper(l,"reply",!1);this.commentWrapperMap[l.shortId()]=p,t.push(l.shortId())}}catch(d){c.e(d)}finally{c.f()}}}}catch(d){r.e(d)}finally{r.f()}this.addRepliesToParentWrapper(t)},buildCommentDisplayStructures:function(){this.buildFrameworkCommentWrappers(),this.buildCompetencyCommentWrappers(),this.buildReplyCommentWrappers()},buildCommentAboutMap:function(){var e,t=Object(n["a"])(this.frameworkCommentList);try{for(t.s();!(e=t.n()).done;){var r=e.value,s=r.about;this.commentAboutMap[s]||(this.commentAboutMap[s]=[]),this.commentAboutMap[s].push(r)}}catch(i){t.e(i)}finally{t.f()}},parseComments:function(){this.currentFramework?(this.isCommentsBusy=!0,this.commentAboutMap={},this.commentWrapperList=[],this.commentWrapperMap={},this.buildCommentAboutMap(),this.buildCommentDisplayStructures(),this.isCommentsBusy=!1):this.clearAllFrameworkCommentData()},buildFrameworkCommentPersonMapSuccess:function(e){var t,r={},s=Object(n["a"])(e);try{for(s.s();!(t=s.n()).done;){var i=t.value;r[i.shortId()]=i}}catch(o){s.e(o)}finally{s.f()}this.$store.commit("editor/setFrameworkCommentDataLoaded",!0),this.$store.commit("editor/setFrameworkCommentPersonMap",r),this.$store.commit("editor/setFrameworkCommentList",this.localFrameworkCommentList)},buildFrameworkCommentPersonMapFailure:function(e){appLog("buildFrameworkCommentPersonMapFailure: "+e),this.isCommentsBusy=!1},buildCommentCreatorList:function(){var e,t=[],r=Object(n["a"])(this.localFrameworkCommentList);try{for(r.s();!(e=r.n()).done;){var s=e.value;t.includes(s.creator)||t.push(s.creator)}}catch(i){r.e(i)}finally{r.f()}return t},buildFrameworkCommentPersonMap:function(){var e=this.buildCommentCreatorList();e.length>0?window.repo.multiget(e,this.buildFrameworkCommentPersonMapSuccess,this.buildFrameworkCommentPersonMapFailure):this.buildFrameworkCommentPersonMapSuccess([])},sortLocalFrameworkCommentList:function(){this.localFrameworkCommentList.sort((function(e,t){return e.dateCreated-0>t.dateCreated-0?1:t.dateCreated-0>e.dateCreated-0?-1:0}))},buildFrameworkCommentListSuccess:function(e){this.localFrameworkCommentList=e,this.sortLocalFrameworkCommentList(),this.buildFrameworkCommentPersonMap()},buildFrameworkCommentListFailure:function(e){appLog("buildFrameworkCommentListFailure: "+e),this.isCommentsBusy=!1},clearAllFrameworkCommentData:function(){this.isCommentsBusy=!1,this.localFrameworkCommentList=[],this.commentAboutMap={},this.commentWrapperList=[],this.commentWrapperMap={},this.canReplyToComments=!1},buildFrameworkCommentList:function(){if(this.currentFramework){var e={};e.size=this.COMMENT_SEARCH_SIZE,EcComment.search(window.repo,'isBasedOn:"'+this.currentFramework.shortId()+'"',this.buildFrameworkCommentListSuccess,this.buildFrameworkCommentListFailure,null)}else this.clearAllFrameworkCommentData()},buildCommentDataSet:function(){!this.frameworkCommentList||this.frameworkCommentList.length<=0?(this.isCommentsBusy=!0,this.buildFrameworkCommentList()):this.parseComments()}},computed:{loggedOnPerson:function(){return this.$store.getters["user/loggedOnPerson"]},currentFramework:function(){return this.$store.getters["editor/framework"]},currentFrameworkCompetencies:function(){return this.$store.getters["editor/framework"].competency},frameworkCommentList:function(){return this.$store.getters["editor/frameworkCommentList"]},frameworkCommentPersonMap:function(){return this.$store.getters["editor/frameworkCommentPersonMap"]}},watch:{currentFrameworkCompetencies:function(){this.parseComments()},frameworkCommentList:function(){this.parseComments()}},mounted:function(){this.buildCommentDataSet(),this.canReplyToComments=this.canAddCommentsCurrentFramework()}},d=p,h=(r("94fc"),r("2877")),m=Object(h["a"])(d,o,a,!1,null,null,null),u=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("aside",{staticClass:"menu has-background-light",attrs:{id:"comments-side-bar"}},[r("p",{staticClass:"subtitle is-size-4"},[r("span",{staticClass:"icon",on:{click:function(t){return e.$store.commit("app/closeRightAside")}}},[r("i",{staticClass:"fa fa-caret-right"})]),e._v(" Version History ")])])},f=[],w={name:"Versions",data:function(){return{isCommenter:!0,isAdmin:!1,isViewer:!0}},components:{}},y=w,v=(r("eeb6"),Object(h["a"])(y,g,f,!1,null,null,null)),C=v.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"has-background-lightest",attrs:{id:"cass__right-aside"}},[r("div",{staticClass:"cass__right-aside--header"},[r("div",{staticClass:"right-aside-bar__title"},[r("span",{staticClass:"help"},[e._v(e._s(e.objectTypeForDisplay))]),r("div",{staticClass:"right-aside-bar--title-text is-size-4 is-family-secondary",attrs:{title:e.objectName}},[e._v(" "+e._s(e.objectName)+" ")]),e.objectShortId!==e.selectedDirectoryId?r("div",{staticClass:"buttons pt-2"},[r("div",{staticClass:"button is-small is-rounded is-primary",on:{click:e.openObject}},[r("span",[e._v("Open "+e._s(e.objectTypeForDisplay))]),e._m(0)])]):e._e()])]),r("div",{staticClass:"cass__right-aside--body"},[r("div",{staticClass:"cass__right-side--details"},[r("div",{staticClass:"cass__right-side--details-wrapper"},["Directory"===e.objectType||"Framework"===e.objectType||"ConceptScheme"===e.objectType?[r("button",{staticClass:"cass__right-side--accordion details",on:{click:function(t){return e.clickAccordion("details")}}},[e._v(" Details "),r("span",{staticClass:"icon is-pulled-right"},["details"===e.accordion?r("i",{staticClass:"fa fa-minus"}):r("i",{staticClass:"fa fa-plus"})])]),r("div",{staticClass:"cass__right-side--accordion-panel details",class:"details"===e.accordion?"active":""},[e._m(1),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.lastModified)+" ")]),e.object.directory&&e.object.directory!==e.selectedDirectoryId?[e._m(2),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.getName(e.object.directory))+" "),r("span",{staticClass:"button is-primary is-outlined is-small",on:{click:e.goToParentDirectory}},[e._v(" Open ")])])]:e.object.parentDirectory&&e.object.parentDirectory!==e.selectedDirectoryId?[e._m(3),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.getName(e.object.parentDirectory))+" "),r("span",{staticClass:"inline-link is-small",attrs:{title:"Navigate to parent directory"},on:{click:e.goToParentDirectory}},[r("span",[e._v("Go to parent")]),e._m(4)])])]:e._e(),e._m(5),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.dateCreated)+" ")]),"Directory"===e.objectType?r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Subdirectories:")])]):e._e(),"Directory"===e.objectType?r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.numSubdirectories)+" ")]):e._e(),"Directory"===e.objectType?[e._m(6),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.numObjects)+" ")])]:"Framework"===e.objectType?[e._m(7),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.object.competency?e.object.competency.length:0)+" ")])]:e._e(),e.object.Published?[e._m(8),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.object.Published)+" ")])]:e._e(),e.object.Approved?[e._m(9),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.object.Approved)+" ")])]:e._e(),e.publisherName?[e._m(10),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.publisherName)+" ")])]:e._e(),e.creatorName?[e._m(11),r("div",{staticClass:"cass__right-aside--half-item"},[e._v(" "+e._s(e.creatorName)+" ")])]:e._e(),[e._m(12),r("div",{staticClass:"cass__right-aside--half-item"},[r("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return e.shareLink},expression:"() => shareLink"},{name:"clipboard",rawName:"v-clipboard:success",value:e.successfulClip,expression:"successfulClip",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.errorClip,expression:"errorClip",arg:"error"}],staticClass:"inline-link",attrs:{title:"Copy URL to the clipboard."}},[r("span",{attrs:{title:e.shareLink}},[e._v("copy link")]),r("span",{staticClass:"icon"},["success"===e.clipStatus?r("i",{staticClass:"fa fa-check"}):"error"===e.clipStatus?r("i",{staticClass:"fa fa-times"}):r("i",{staticClass:"fa fa-link",attrs:{name:"copyURL"}})])])])]],2)]:e._e(),"CreativeWork"===e.objectType||e.canEditObject&&"Directory"===e.objectType?[r("button",{staticClass:"cass__right-side--accordion details",on:{click:function(t){return e.clickAccordion("properties")}}},[e._v(" Properties "),r("span",{staticClass:"icon is-pulled-right"},["properties"===e.accordion?r("i",{staticClass:"fa fa-minus"}):r("i",{staticClass:"fa fa-plus"})])]),r("div",{staticClass:"cass__right-side--accordion-panel",class:"properties"===e.accordion?"active":""},["CreativeWork"===e.objectType?[r("div",{staticClass:"cass__right-aside--property"},[r("div",{staticClass:"cass__right-aside--property-text"},[r("span",[e._v(" "+e._s(e.object.url)+" ")])]),r("div",{staticClass:"cass__right-aside--property-label"},[e._v(" Url ")])]),r("div",{staticClass:"cass__right-aside--property"},[r("div",{staticClass:"cass__right-aside--property-text"},[r("span",[e._v(" "+e._s(e.objectName)+" ")])]),r("div",{staticClass:"cass__right-aside--property-label"},[e._v(" Name ")])]),r("div",{staticClass:"cass__right-aside--property flex-end"},[r("div",{staticClass:"button is-pulled-right is-primary is-outlined",on:{click:function(t){return e.$emit("editResourceDetails",e.object)}}},[r("span",[e._v("Edit")]),e._m(13)])])]:e._e(),"Directory"===e.objectType?[r("div",{staticClass:"cass__right-aside--property"},[r("div",{staticClass:"cass__right-aside--property-text"},[r("span",[e._v(" "+e._s(e.objectName)+" ")])]),r("div",{staticClass:"cass__right-aside--property-label"},[e._v(" Directory Name ")]),e.canEditObject&&"Directory"===e.objectType?r("div",{staticClass:"cass__right-aside--property flex-end"},[r("div",{staticClass:"button is-pulled-right is-primary is-outlined",on:{click:e.editDirectory}},[r("span",[e._v("Edit")]),e._m(14)])]):e._e()])]:e._e(),e.errorEditing?r("span",[e._v(" "+e._s(e.errorEditing)+" ")]):e._e()],2)]:e._e(),e.loggedIn&&e.canEditObject?[r("button",{staticClass:"cass__right-side--accordion",class:"users"===e.accordion?"active":"",on:{click:function(t){return e.clickAccordion("users")}}},[e._v(" Users "),r("span",{staticClass:"icon is-pulled-right"},["users"===e.accordion?r("i",{staticClass:"fa fa-minus"}):r("i",{staticClass:"fa fa-plus"})])]),r("div",{staticClass:"cass__right-side--accordion-panel users",class:"users"===e.accordion?"active":""},[r("div",{staticClass:"cass__right-aside--whole-item pt-2"},[r("div",{staticClass:"buttons is-centered"},[r("div",{staticClass:"button is-primary is-rounded",on:{click:e.manageUsers}},[r("span",[e._v("Manage Users and Privacy")]),e._m(15)])])])])]:e._e(),"Directory"===e.objectType?[r("button",{staticClass:"cass__right-side--accordion",class:"description"===e.accordion?"active":"",on:{click:function(t){return e.clickAccordion("description")}}},[e._v(" Description "),r("span",{staticClass:"icon is-pulled-right"},["description"===e.accordion?r("i",{staticClass:"fa fa-minus"}):r("i",{staticClass:"fa fa-plus"})])]),r("div",{staticClass:"cass__right-side--accordion-panel",class:"description"===e.accordion?"active":""},[e.objectDescription?r("div",{staticClass:"p-2"},[e._v(" "+e._s(e.objectDescription)+" ")]):r("div",{staticClass:"p-2"},[e._v(" No description ")])])]:e._e(),[r("button",{staticClass:"cass__right-side--accordion",class:"copy"===e.accordion?"active":"",on:{click:function(t){e.clickAccordion("copy"),e.copyingToDirectory=!0}}},[e._v(" Copy "+e._s(e.objectTypeForDisplay)+" "),r("span",{staticClass:"icon is-pulled-right"},["copy"===e.accordion?r("i",{staticClass:"fa fa-minus"}):r("i",{staticClass:"fa fa-plus"})])]),r("div",{staticClass:"cass__right-side--accordion-panel",class:"copy"===e.accordion?"active":""},e._l(e.copyDirectoryOptions,(function(t){return r("li",{key:t,staticClass:"cass--list-item-info--search-result--li"},[r("span",{staticClass:"cass--list-item-info--search-results--li-text"},[e._v(" "+e._s(t.name)+" ")]),r("span",{staticClass:"button is-primary is-outlined is-small is-pulled-right",on:{click:function(r){return e.copyOrMove(t)}}},[e._v(" copy here ")])])})),0)],e.canEditObject?[r("button",{staticClass:"cass__right-side--accordion",class:"move"===e.accordion?"active":"",on:{click:function(t){e.clickAccordion("move"),e.movingToDirectory=!0}}},[e._v(" Move "+e._s(e.objectTypeForDisplay)+" "),r("span",{staticClass:"icon is-pulled-right"},["move"===e.accordion?r("i",{staticClass:"fa fa-minus"}):r("i",{staticClass:"fa fa-plus"})])]),r("div",{staticClass:"cass__right-side--accordion-panel",class:"move"===e.accordion?"active":""},[e._l(e.moveDirectoryOptions,(function(t){return r("li",{key:t,staticClass:"cass--list-item-info--search-result--li"},[r("span",{staticClass:"cass--list-item-info--search-results--li-text"},[e._v(" "+e._s(t.name)+" ")]),r("span",{staticClass:"button is-primary is-v-centered is-outlined is-small is-pulled-right",on:{click:function(r){return e.copyOrMove(t)}}},[e._v(" move here ")])])})),e.object.directory||e.object.parentDirectory?r("li",{staticClass:"cass--list-item-info--search-result--li"},[r("span",{staticClass:"cass--list-item-info--search-results--li-text has-text-danger"},[e._v(" Remove from directory ")]),e.movingToDirectory?r("span",{staticClass:"button is-danger is-outlined is-small is-pulled-right",on:{click:e.removeFromDirectory}},[e._v(" remove ")]):e._e()]):e._e()],2)]:e._e(),e.canEditObject&&"Directory"===e.objectType?[r("div",{},[r("div",{staticClass:"buttons is-pulled-right p-2",on:{click:e.deleteDirectory}},[r("div",{staticClass:"button is-danger is-outlined"},[e._v(" delete directory ")])])])]:e._e()],2)])])])},k=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-folder-open"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Last Modified:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Directory:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Parent Directory:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-folder-open"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v(" Date Created: ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Objects:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Item Count:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Published Date:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Approved Date:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Publisher:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("b",[e._v("Creator:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass__right-aside--half-item"},[r("span",[r("b",[e._v("Share:")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-edit"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fa fa-edit"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon"},[r("i",{staticClass:"fas fa-users"})])}],T=(r("a4d3"),r("e01a"),r("99af"),r("4de4"),r("5319"),{name:"ListItemInfo",mixins:[l["a"]],components:{},data:function(){return{accordion:"details",numSubdirectories:"unknown",numObjects:"unknown",copyingToDirectory:!1,movingToDirectory:!1,repo:window.repo,frameworksToProcess:0,clipStatus:"ready",ineligibleDirectoriesForMove:[],errorEditing:null,processingCopyOrMove:!1}},methods:{deleteDirectory:function(){this.$store.commit("app/showModal",{component:"DeleteDirectoryConfirm"})},clickAccordion:function(e){this.accordion===e?this.accordion="":this.accordion=e},successfulClip:function(e){var t=this,r=e.value;e.event;appLog("success",r),this.clipStatus="success",setTimeout((function(){t.clipStatus="ready"}),1e3)},errorClip:function(e){var t=this,r=e.value;e.event;appLog("error",r),this.clipStatus="error",setTimeout((function(){t.clipStatus="ready"}),1e3)},setNumSubdirectoriesAndObjects:function(){var e=this;"Directory"===this.objectType&&(e.repo.searchWithParams('(@type:Directory AND parentDirectory:"'+this.object.shortId()+'")',{size:1e4},null,(function(t){e.numSubdirectories=t.length,1e4===t.length&&(e.numSubdirectories="More than 10,000")}),(function(t){appError(t),e.numSubdirectories="unknown"})),e.repo.searchWithParams('(directory:"'+this.object.shortId()+'")',{size:1e4},null,(function(t){e.numObjects=t.length,1e4===t.length&&(e.numObjects="More than 10,000")}),(function(t){appError(t),e.numObjects="unknown"})))},openObject:function(){var e=this;"Directory"===this.objectType?(this.$store.commit("app/selectDirectory",this.object),"directory"!==this.$route.name&&this.$router.push({name:"directory"}),this.$store.commit("app/closeRightAside")):"CreativeWork"===this.object.type?window.open(this.object.url,"_blank"):this.$store.getters["editor/conceptMode"]?(this.$store.commit("app/selectDirectory",null),EcConceptScheme.get(this.object.id,(function(t){e.$store.commit("editor/framework",t),e.$store.commit("editor/clearFrameworkCommentData"),e.$store.commit("app/setCanViewComments",e.canViewCommentsCurrentFramework()),e.$store.commit("app/setCanAddComments",e.canAddCommentsCurrentFramework()),e.$router.push({name:"conceptScheme",params:{frameworkId:e.object.id}})}),appError)):(this.$store.commit("app/selectDirectory",null),EcFramework.get(this.object.id,(function(t){e.$store.commit("editor/framework",t),e.$store.commit("editor/clearFrameworkCommentData"),e.$store.commit("app/setCanViewComments",e.canViewCommentsCurrentFramework()),e.$store.commit("app/setCanAddComments",e.canAddCommentsCurrentFramework()),e.$router.push({name:"framework",params:{frameworkId:e.object.id}})}),appError))},getName:function(e){var t=EcArray.isArray(e)?e:[e];return-1!==Thing.getDisplayStringFrom(t).toLowerCase().indexOf("http")?this.resolveNameFromUrl(Thing.getDisplayStringFrom(t)):Thing.getDisplayStringFrom(t)},goToParentDirectory:function(){var e=this,t=this.object.directory?this.object.directory:this.object.parentDirectory;EcDirectory.get(t,(function(t){e.$store.commit("app/selectDirectory",t),"directory"!==e.$route.name&&e.$router.push({name:"directory"}),e.$store.commit("app/closeRightAside")}),appError)},copyOrMove:function(e){this.frameworksToProcess=0,this.processingCopyOrMove=!0,this.$Progress.start(),this.copyingToDirectory?this.$emit("beginCopy"):this.movingToDirectory&&this.$emit("beginMove"),this.copyingToDirectory&&"Framework"===this.objectType?this.copyFrameworkToDirectory(e,this.object):this.copyingToDirectory&&"CreativeWork"===this.objectType?this.copyResourceToDirectory(e,this.object):this.copyingToDirectory&&"Directory"===this.objectType?this.copySubdirectoryToDirectory(e,this.object):this.movingToDirectory&&"Framework"===this.objectType?this.moveFrameworkToDirectory(e,this.object):this.movingToDirectory&&"CreativeWork"===this.objectType?this.moveResourceToDirectory(e,this.object):this.movingToDirectory&&"Directory"===this.objectType&&this.moveSubdirectoryToDirectory(e,this.object)},removeFromDirectory:function(){this.$Progress.start(),"Framework"===this.objectType?this.removeFrameworkFromDirectory():"CreativeWork"===this.objectType?this.removeResourceFromDirectory():"Directory"===this.objectType&&this.removeSubdirectoryFromDirectory()},multiput:function(e,t){var r=this;this.frameworksToProcess--,this.frameworksToProcess<=0&&this.repo.multiput(e,(function(e){r.processingCopyOrMove=!1,r.$Progress.finish(),r.copyingToDirectory=!1,r.movingToDirectory&&(r.$store.commit("app/rightAsideObject",null),r.$store.commit("app/closeRightAside"),r.$Progress.finish(),r.movingToDirectory=!1),t&&r.$store.commit("app/refreshSearch",!0)}),appError)},getCopyFrameworkName:function(e){var t=e.name;for(var r in EcArray.isArray(t)||(t=[t]),t)t[r]["@value"]?t[r]["@value"]="Copy of "+t[r]["@value"]:t[r]="Copy of "+t[r];return 1===t.length&&(t=t[0]),t},copyFrameworkToDirectory:function(e,t,r){var s=[];r&&(s=r);var i=new EcFramework;i.copyFrom(t),null!=this.queryParams.newObjectEndpoint?i.generateShortId(this.queryParams.newObjectEndpoint):i.generateId(this.repo.selectedServer),i.directory=e.shortId(),i["schema:dateCreated"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),delete i.owner,delete i.reader,e.owner&&(i.owner=e.owner),e.reader&&(i.reader=e.reader),EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk());var o=this.getCopyFrameworkName(i);i.name=o,i["ceasn:derivedFrom"]=t.id;var a={};t.competency&&t.competency.length>0?this.copyCompetenciesToDirectory(i,s,a):t.level&&t.level.length>0?this.copyLevelsToDirectory(i,s,a):t.relation&&t.relation.length>0?this.copyRelationsToDirectory(i,s,a):(s.push(i),this.multiput(s))},copyCompetenciesToDirectory:function(e,t,r){var s=this;(new EcAsyncHelper).each(e.competency,(function(i,o){EcCompetency.get(i,(function(a){var n=new EcCompetency;n.copyFrom(a),null!=s.queryParams.newObjectEndpoint?n.generateShortId(s.queryParams.newObjectEndpoint):n.generateId(s.repo.selectedServer),r[a.shortId()]=n.shortId();var c=e.competency.indexOf(i);-1!==c&&(e.competency[c]=n.shortId()),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),delete n.owner,delete n.reader,e.owner&&(n.owner=e.owner),e.reader&&(n.reader=e.reader),n["ceasn:derivedFrom"]=a.id,t.push(n),o()}),o)}),(function(i){e.level&&e.level.length>0?s.copyLevelsToDirectory(e,t,r):e.relation&&e.relation.length>0?s.copyRelationsToDirectory(e,t,r):(t.push(e),s.multiput(t))}))},copyLevelsToDirectory:function(e,t,r){var s=this;(new EcAsyncHelper).each(e.level,(function(i,o){EcLevel.get(i,(function(a){var n=new EcLevel;n.copyFrom(a),null!=s.queryParams.newObjectEndpoint?n.generateShortId(s.queryParams.newObjectEndpoint):n.generateId(s.repo.selectedServer);var c=e.level.indexOf(i);if(-1!==c&&(e.level[c]=n.shortId()),n.competency)for(var l in EcArray.isArray(n.competency)||(n.competency=[n.competency]),n.competency)n.competency[l]=r[n.competency[l]];n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),delete n.owner,delete n.reader,e.owner&&(n.owner=e.owner),e.reader&&(n.reader=e.reader),n["ceasn:derivedFrom"]=a.id,t.push(n),o()}),o)}),(function(i){e.relation&&e.relation.length>0?s.copyRelationsToDirectory(e,t,r):(t.push(e),s.multiput(t))}))},copyRelationsToDirectory:function(e,t,r){var s=this;(new EcAsyncHelper).each(e.relation,(function(i,o){EcAlignment.get(i,(function(a){var n=new EcAlignment;n.copyFrom(a),null!=s.queryParams.newObjectEndpoint?n.generateShortId(s.queryParams.newObjectEndpoint):n.generateId(s.repo.selectedServer);var c=e.relation.indexOf(i);-1!==c&&(e.relation[c]=n.shortId()),a.source&&r[a.source]&&(n.source=r[a.source]),a.target&&r[a.target]&&(n.target=r[a.target]),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),delete n.owner,delete n.reader,e.owner&&(n.owner=e.owner),e.reader&&(n.reader=e.reader),n["ceasn:derivedFrom"]=a.id,t.push(n),o()}),o)}),(function(r){t.push(e),s.multiput(t)}))},copyResourceToDirectory:function(e,t,r){var s=this,i=new CreativeWork;null!=this.queryParams.newObjectEndpoint?i.generateShortId(this.queryParams.newObjectEndpoint):i.generateId(this.repo.selectedServer),i.name="Copy of "+t.name,i.url=t.url,i.directory=e.shortId(),e.owner&&(i.owner=e.owner),e.reader&&(i.reader=e.reader),EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),r?(r.push(i),s.multiput(r)):s.repo.saveTo(i,(function(){appLog("Resource copied: "+i.id),s.copyingToDirectory=!1}),appError)},copySubdirectoryToDirectory:function(e,t,r){var s=this,i=[];r&&(i=r);var o=new EcDirectory;o.copyFrom(t),null!=this.queryParams.newObjectEndpoint?o.generateShortId(this.queryParams.newObjectEndpoint):o.generateId(this.repo.selectedServer),o.parentDirectory=e.shortId(),o["schema:dateCreated"]=(new Date).toISOString(),o["schema:dateModified"]=(new Date).toISOString(),delete o.owner,delete o.reader,e.owner&&(o.owner=e.owner),e.reader&&(o.reader=e.reader),EcIdentityManager.ids.length>0&&o.addOwner(EcIdentityManager.ids[0].ppk.toPk()),o["ceasn:derivedFrom"]=t.id,o.name="Copy of "+o.name,i.push(o),this.repo.search('(directory:"'+t.shortId()+'" OR parentDirectory:"'+t.shortId()+'")',(function(){}),(function(e){s.frameworksToProcess+=e.length,(new EcAsyncHelper).each(e,(function(e,t){"Framework"===e.type?s.copyFrameworkToDirectory(o,e,i):"CreativeWork"===e.type?s.copyResourceToDirectory(o,e,i):"Directory"===e.type&&(s.frameworksToProcess--,s.copySubdirectoryToDirectory(o,e,i)),t()}),(function(e){0===e.length&&s.multiput(i)}))}),appError)},moveFrameworkToDirectory:function(e,t,r){var s=[];r&&(s=r),t.owner=e.owner,t.reader=e.reader,t.directory=e.shortId(),t["schema:dateModified"]=(new Date).toISOString(),s.push(t);var i=[];t.competency&&t.competency.length>0&&(i=t.competency),t.level&&t.level.length>0&&(i=i.concat(t.level)),t.relation&&t.relation.length>0&&(i=i.concat(t.relation)),i.length>0?this.moveSubobjectsToDirectory(i,e,s):this.multiput(s,!0)},moveSubobjectsToDirectory:function(e,t,r){var s=this;(new EcAsyncHelper).each(e,(function(e,s){EcRepository.get(e,(function(e){e.owner=t.owner,e.reader=t.reader,e["schema:dateModified"]=(new Date).toISOString(),r.push(e),s()}),s)}),(function(e){s.multiput(r,!0)}))},moveResourceToDirectory:function(e,t,r){var s=this;t.owner=e.owner,t.reader=e.reader,t.directory=e.shortId(),r?(r.push(t),s.multiput(r,!0)):s.repo.saveTo(t,(function(){appLog("resource moved"),s.$store.commit("app/refreshSearch",!0),s.$store.commit("app/rightAsideObject",null),s.$store.commit("app/closeRightAside"),s.movingToDirectory=!1}),appError)},moveSubdirectoryToDirectory:function(e,t,r){var s=this,i=[];r&&(i=r),t.parentDirectory=e.shortId(),t["schema:dateModified"]=(new Date).toISOString(),t.owner=e.owner,t.reader=e.reader,i.push(t),this.repo.search('(directory:"'+t.shortId()+'" OR parentDirectory:"'+t.shortId()+'")',(function(){}),(function(e){s.frameworksToProcess+=e.length,(new EcAsyncHelper).each(e,(function(e,r){"Framework"===e.type?s.moveFrameworkToDirectory(t,e,i):"CreativeWork"===e.type?s.moveResourceToDirectory(t,e,i):"Directory"===e.type&&(s.frameworksToProcess--,s.moveSubdirectoryToDirectory(t,e,i)),r()}),(function(e){0===e.length&&s.multiput(i,!0)}))}),appError)},removeFrameworkFromDirectory:function(){var e=this.object,t=this,r=[];this.$Progress.start(),EcDirectory.get(e.directory,(function(s){if(s.owner){var i,o=Object(n["a"])(s.owner);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.removeOwner(EcPk.fromPem(a))}}catch(h){o.e(h)}finally{o.f()}e.addOwner(EcIdentityManager.ids[0].ppk.toPk())}if(s.reader){var c,l=Object(n["a"])(s.reader);try{for(l.s();!(c=l.n()).done;){var p=c.value;e.removeReader(EcPk.fromPem(p))}}catch(h){l.e(h)}finally{l.f()}}delete e.directory,e["schema:dateModified"]=(new Date).toISOString(),r.push(e);var d=[];e.competency&&e.competency.length>0&&(d=e.competency),e.level&&e.level.length>0&&(d=d.concat(e.level)),e.relation&&e.relation.length>0&&(d=d.concat(e.relation)),d.length>0?t.removeSubobjectsFromDirectory(d,s,r):this.multiput(r,!0)}),appError)},removeSubobjectsFromDirectory:function(e,t,r){var s=this;(new EcAsyncHelper).each(e,(function(e,s){EcRepository.get(e,(function(e){if(t.owner){var i,o=Object(n["a"])(t.owner);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.removeOwner(EcPk.fromPem(a))}}catch(d){o.e(d)}finally{o.f()}e.addOwner(EcIdentityManager.ids[0].ppk.toPk())}if(t.reader){var c,l=Object(n["a"])(t.reader);try{for(l.s();!(c=l.n()).done;){var p=c.value;e.removeReader(EcPk.fromPem(p))}}catch(d){l.e(d)}finally{l.f()}}e["schema:dateModified"]=(new Date).toISOString(),r.push(e),s()}),s)}),(function(e){s.multiput(r,!0)}))},removeResourceFromDirectory:function(){var e=this;EcDirectory.get(this.object.directory,(function(t){if(t.owner){var r,s=Object(n["a"])(t.owner);try{for(s.s();!(r=s.n()).done;){var i=r.value;e.object.removeOwner(EcPk.fromPem(i))}}catch(l){s.e(l)}finally{s.f()}e.object.addOwner(EcIdentityManager.ids[0].ppk.toPk())}if(t.reader){var o,a=Object(n["a"])(t.reader);try{for(a.s();!(o=a.n()).done;){var c=o.value;e.object.removeReader(EcPk.fromPem(c))}}catch(l){a.e(l)}finally{a.f()}}delete e.object.directory,e.repo.saveTo(e.object,(function(){appLog("resource removed"),e.$store.commit("app/refreshSearch",!0),e.movingToDirectory=!1}),appError)}),appError)},removeSubdirectoryFromDirectory:function(){var e=this,t=[],r=this.object;EcDirectory.get(r.parentDirectory,(function(s){if(s.owner){var i,o=Object(n["a"])(s.owner);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.removeOwner(EcPk.fromPem(a))}}catch(h){o.e(h)}finally{o.f()}r.addOwner(EcIdentityManager.ids[0].ppk.toPk())}if(s.reader){var c,l=Object(n["a"])(s.reader);try{for(l.s();!(c=l.n()).done;){var p=c.value;r.removeReader(EcPk.fromPem(p))}}catch(h){l.e(h)}finally{l.f()}}delete r.parentDirectory,r["schema:dateModified"]=(new Date).toISOString(),t.push(r);var d=[];e.repo.search('directory:"'+r.shortId()+'"',(function(){}),(function(r){e.frameworksToProcess=r.length,(new EcAsyncHelper).each(r,(function(r,i){d.push(r.shortId()),r.competency&&r.competency.length>0&&(d=d.concat(r.competency)),r.level&&r.level.length>0&&(d=d.concat(r.level)),r.relation&&r.relation.length>0&&(d=d.concat(r.relation)),d.length>0&&e.removeSubobjectsFromDirectory(d,s,t),i()}),(function(r){0===r.length&&e.multiput(t,!0)}))}),appError)}),appError)},setIneligibleDirectoriesForMove:function(e){var t=this;this.repo.search('parentDirectory:"'+e.shortId()+'"',(function(e){t.ineligibleDirectoriesForMove.push(e.shortId()),t.setIneligibleDirectoriesForMove(e)}),(function(){}),appError)},manageUsers:function(){this.$store.commit("app/objForShareModal",this.object),this.$store.commit("app/showModal",{component:"Share"})},editDirectory:function(){this.$store.commit("app/editDirectory",!0)}},mounted:function(){if(this.setNumSubdirectoriesAndObjects(),this.object.encryptedType){var e="Ec"+this.object.encryptedType,t=new EcEncryptedValue;t.copyFrom(this.object);var r=new window[e];r.copyFrom(t.decryptIntoObject()),this.$store.commit("app/rightAsideObject",r)}"Directory"===this.object.type&&this.setIneligibleDirectoriesForMove(this.object)},computed:{objectName:function(){var e=this.object.name;return!e&&this.object["dcterms:title"]?e=this.object["dcterms:title"]:!e&&this.object["skos:prefLabel"]&&(e=this.object["skos:prefLabel"]),Thing.getDisplayStringFrom(e)},objectDescription:function(){var e=this.object.description;return!e&&this.object["dcterms:description"]?e=this.object["dcterms:description"]:!e&&this.object["skos:definition"]&&(e=this.object["skos:definition"]),Thing.getDisplayStringFrom(e)},objectShortId:function(){return this.object.shortId()},object:function(){return this.$store.getters["app/rightAsideObject"]},objectType:function(){return this.object.type},objectTypeForDisplay:function(){return"CreativeWork"===this.objectType?"Resource":"ConceptScheme"===this.objectType?"true"===this.queryParams.ceasnDataFields?"Concept Scheme":"Taxonomy":this.objectType},lastModified:function(){return this.object.getTimestamp()?this.$moment(new Date(this.object.getTimestamp())).format("MMM D YYYY"):this.object["schema:dateModified"]?this.$moment(new Date(this.object["schema:dateModified"])).format("MMM D YYYY"):"unknown"},dateCreated:function(){return this.object["schema:dateCreated"]?this.$moment(new Date(this.object["schema:dateCreated"])).format("MMM D YYYY"):"unknown"},publisherName:function(){return this.object["ceasn:publisherName"]&&this.getName(this.object["ceasn:publisherName"])?this.getName(this.object["ceasn:publisherName"]):this.object["schema:publisher"]&&this.getName(this.object["schema:publisher"])?this.getName(this.object["schema:publisher"]):null},creatorName:function(){return this.object["schema:creator"]&&this.getName(this.object["schema:creator"])?this.getName(this.object["schema:creator"]):null},shareLink:function(){var e=window.location.href;return e=e.replace("/frameworks","").replace("/directory",""),"Directory"===this.objectType?e+"?directoryId="+this.objectShortId:!0===this.$store.getters["editor/conceptMode"]?e+"?concepts=true&frameworkId="+this.objectShortId:e+"?frameworkId="+this.objectShortId},copyDirectoryOptions:function(){var e=this;return this.$store.getters["app/directoryList"].filter((function(t){return t.shortId()!==e.object.shortId()&&(!e.object.parentDirectory||t.shortId()!==e.object.parentDirectory)&&(!e.object.directory||t.shortId()!==e.object.directory)}))},moveDirectoryOptions:function(){var e=this;return"Directory"===this.objectType?this.$store.getters["app/directoryList"].filter((function(t){return t.shortId()!==e.object.shortId()&&(!e.object.parentDirectory||t.shortId()!==e.object.parentDirectory)&&(!e.object.directory||t.shortId()!==e.object.directory)&&!EcArray.has(e.ineligibleDirectoriesForMove,t.shortId())})):this.$store.getters["app/directoryList"].filter((function(t){return t.shortId()!==e.object.shortId()&&(!e.object.parentDirectory||t.shortId()!==e.object.parentDirectory)&&(!e.object.directory||t.shortId()!==e.object.directory)}))},canEditObject:function(){return this.object.canEditAny(EcIdentityManager.getMyPks())},canEditDirectory:function(){return this.object.directory?EcDirectory.getBlocking(this.object.directory).canEditAny(EcIdentityManager.getMyPks()):this.object.parentDirectory?EcDirectory.getBlocking(this.object.parentDirectory).canEditAny(EcIdentityManager.getMyPks()):"ConceptScheme"!==this.objectType},queryParams:function(){return this.$store.getters["editor/queryParams"]},loggedIn:function(){return!!(EcIdentityManager.ids&&EcIdentityManager.ids.length>0)},selectedDirectoryId:function(){return this.$store.getters["app/selectedDirectory"]?this.$store.getters["app/selectedDirectory"].shortId():null}},watch:{objectShortId:function(){this.copyingToDirectory=!1,this.movingToDirectory=!1,this.ineligibleDirectoriesForMove=[],this.setNumSubdirectoriesAndObjects(),"Directory"===this.object.type&&this.setIneligibleDirectoriesForMove(this.object)}}}),_=T,x=(r("09d8"),Object(h["a"])(_,b,k,!1,null,null,null)),I=x.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cass--right-aside--content"},[r("div",{staticClass:"section"},[r("h3",{staticClass:"title is-size-4"},[e._v(" Filter and Sort ")]),r("div",{staticClass:"filter-sort-section"},[r("h3",{staticClass:"filter-sort-header"},[e._v(" Sort by ")]),e._l(e.sortResults,(function(t){return r("div",{key:t,staticClass:"field"},[t.enabled?[r("input",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"is-checkradio",attrs:{id:t.id,type:"radio",name:"sortResults"},domProps:{value:{id:t.id,label:t.label},checked:e._q(e.sortBy,{id:t.id,label:t.label})},on:{change:function(r){e.sortBy={id:t.id,label:t.label}}}}),r("label",{staticClass:"label",attrs:{for:t.id}},[e._v(e._s(t.label))])]:e._e()],2)}))],2),!e.showQuickFilterHeading||e.$store.getters["editor/conceptMode"]&&!e.loggedIn?e._e():r("div",{staticClass:"filter-sort-section"},[r("h3",{staticClass:"filter-sort-header"},[e._v(" Quick Filters ")]),e._l(e.quickFilters,(function(t){return r("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideOwnershipFilters||!t.id.includes("ByMe"),expression:"!hideOwnershipFilters || !option.id.includes('ByMe')"}],key:t,staticClass:"field"},[t.enabled?[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"option.checked"}],staticClass:"is-checkradio",attrs:{id:t.id,type:"checkbox",name:t.id},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(r){var s=t.checked,i=r.target,o=!!i.checked;if(Array.isArray(s)){var a=null,n=e._i(s,a);i.checked?n<0&&e.$set(t,"checked",s.concat([a])):n>-1&&e.$set(t,"checked",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(t,"checked",o)}}}),r("label",{staticClass:"label",attrs:{for:t.id}},[e._v(e._s(t.label))])]:e._e()],2)}))],2),e.$store.getters["editor/conceptMode"]?e._e():r("div",{staticClass:"filter-sort-section"},[r("h3",{staticClass:"filter-sort-header"},[e._v(" Apply search term to ")]),e._l(e.applySearchTo,(function(t){return r("div",{key:t,staticClass:"field"},[t.enabled?[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"option.checked"}],staticClass:"is-checkradio",attrs:{id:t.id,type:"checkbox",name:t.id},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(r){var s=t.checked,i=r.target,o=!!i.checked;if(Array.isArray(s)){var a=null,n=e._i(s,a);i.checked?n<0&&e.$set(t,"checked",s.concat([a])):n>-1&&e.$set(t,"checked",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(t,"checked",o)}}}),r("label",{staticClass:"label",attrs:{for:t.id}},[e._v(e._s(t.label))])]:e._e()],2)}))],2)])])},P=[],S=(r("d3b7"),r("498a"),r("ddb0"),r("f188")),F=r("d6b4"),$=r("6d79"),j={name:"FilterAndSort",data:function(){return{sortResults:[{id:"alphabetical",label:"alphabetical",enabled:!0},{id:"dateCreated",label:"created date",enabled:!0},{id:"lastEdited",label:"last modified",enabled:!0}],quickFilters:[{id:"configMatchDefault",checked:!1,label:"Configuration matches default",enabled:!0},{id:"ownedByMe",checked:!1,label:"Owned by me",enabled:!0},{id:"notOwnedByMe",checked:!1,label:"Not owned by me",enabled:!0}],frameworkPropertiesApplySearchTo:[],competencyPropertiesApplySearchTo:[],otherPropertiesApplySearchTo:[],showQuickFilterHeading:!0,frameworkConfig:null,configPropertiesToIgnore:["@id","headings","primaryProperties","secondaryProperties","tertiaryProperties","ctid"],searchTermsFromRawSchemata:{}}},mixins:[S["a"],F["a"],$["a"]],computed:{sortBy:{get:function(){return this.$store.getters["app/sortResults"]},set:function(e){this.$store.commit("app/sortResults",e)}},loggedIn:function(){return EcIdentityManager.ids&&EcIdentityManager.ids.length},searchByOwnerNameEnabled:function(){return this.$store.state.featuresEnabled.searchByOwnerNameEnabled},configurationsEnabled:function(){return this.$store.state.featuresEnabled.configurationsEnabled},queryParams:function(){return this.$store.getters["editor/queryParams"]},hideOwnershipFilters:function(){return"mine"===this.queryParams.show},applySearchTo:function(){return this.frameworkPropertiesApplySearchTo.concat(this.competencyPropertiesApplySearchTo).concat(this.otherPropertiesApplySearchTo)},conceptMode:function(){return this.$store.getters["editor/conceptMode"]}},mounted:function(){if(this.conceptMode||(this.setSearchTermsFromRawSchemata(),this.getFrameworkConfig(),this.setOtherPropertiesApplySearchTo(),this.setCompetencyPropertiesApplySearchTo()),!this.loggedIn)for(var e=0;e<this.quickFilters.length;e++)"configMatchDefault"!==this.quickFilters[e].id&&(this.quickFilters[e].enabled=!1);if(this.conceptMode||!this.configurationsEnabled)for(e=0;e<this.quickFilters.length;e++)"configMatchDefault"===this.quickFilters[e].id&&(this.quickFilters[e].enabled=!1);var t=!1;for(e=0;e<this.quickFilters.length;e++)!0===this.quickFilters[e].enabled&&(t=!0);this.showQuickFilterHeading=t},watch:{applySearchTo:{handler:function(){this.$store.commit("app/applySearchTo",this.applySearchTo)},deep:!0},quickFilters:{handler:function(){appLog("watched"),this.$store.commit("app/quickFilters",this.quickFilters)},deep:!0},frameworkConfig:function(){this.frameworkConfig&&this.setFrameworkPropertiesApplySearchTo()}},methods:{getFrameworkConfig:function(){if("true"===this.queryParams.ceasnDataFields)this.frameworkConfig=this.ctdlAsnFrameworkProfile;else if("true"===this.queryParams.tlaProfile)this.frameworkConfig=this.tlaFrameworkProfile;else if(this.getDefaultBrowserConfigId()&&!this.getDefaultBrowserConfigId().trim().equals("")){var e=EcRepository.getBlocking(this.getDefaultBrowserConfigId());this.frameworkConfig=e.frameworkConfig}else{var t=this;window.repo.searchWithParams("@type:Configuration",{size:1e4},null,(function(e){var r,s=!1,i=Object(n["a"])(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("true"===o.isDefault){t.frameworkConfig=o.frameworkConfig,s=!0;break}}}catch(a){i.e(a)}finally{i.f()}s||t.setDefaultFrameworkSearchTerms()}),(function(){t.setDefaultFrameworkSearchTerms()}))}},setFrameworkPropertiesApplySearchTo:function(){var e,t=EcObject.keys(this.frameworkConfig),r=[],s=Object(n["a"])(t);try{for(s.s();!(e=s.n()).done;){var i=e.value;if(!EcArray.has(this.configPropertiesToIgnore,i)&&("http://www.w3.org/2000/01/rdf-schema#langString"===this.frameworkConfig[i]["http://schema.org/rangeIncludes"][0]["@id"]||"http://schema.org/Text"===this.frameworkConfig[i]["http://schema.org/rangeIncludes"][0]["@id"])){var o=this.frameworkConfig[i]["http://www.w3.org/2000/01/rdf-schema#label"][0]["@value"],a="";a="http://schema.org/name"===i?"frameworkName":"http://schema.org/description"===i?"frameworkDescription":this.getSearchTermForProperty(i),r.push({id:a,checked:!1,label:o,enabled:!0})}}}catch(c){s.e(c)}finally{s.f()}this.frameworkPropertiesApplySearchTo=r},setSearchTermsFromRawSchemata:function(){var e,t=this.$store.state.lode.rawSchemata["https://schema.cassproject.org/0.4"]["@context"],r=EcObject.keys(t),s=Object(n["a"])(r);try{for(s.s();!(e=s.n()).done;){var i=e.value;EcObject.isObject(t[i])||(this.searchTermsFromRawSchemata[t[i]]=i)}}catch(o){s.e(o)}finally{s.f()}},getSearchTermForProperty:function(e){var t,r,s=EcObject.keys(this.searchTermsFromRawSchemata),i=Object(n["a"])(s);try{for(i.s();!(r=i.n()).done;){var o=r.value;-1!==e.indexOf(o)&&(t="https://schema.cassproject.org/0.4/"===o?e.replace(o,""):e.replace(o,this.searchTermsFromRawSchemata[o]+"\\:"))}}catch(a){i.e(a)}finally{i.f()}return t},setDefaultFrameworkSearchTerms:function(){this.frameworkPropertiesApplySearchTo=[{id:"frameworkName",checked:!1,label:"Framework name",enabled:!0},{id:"frameworkDescription",checked:!1,label:"Framework description",enabled:!0}]},setOtherPropertiesApplySearchTo:function(){this.otherPropertiesApplySearchTo=[{id:"directoryName",checked:!1,label:"Directory name",enabled:!0},{id:"directoryDescription",checked:!1,label:"Directory description",enabled:!0}],this.searchByOwnerNameEnabled&&this.otherPropertiesApplySearchTo.push({id:"ownerName",checked:!1,label:"Owner name",enabled:!0})},setCompetencyPropertiesApplySearchTo:function(){"true"===this.queryParams.ceasnDataFields?this.competencyPropertiesApplySearchTo=[{id:"competencyLabel",checked:!1,label:"Competency label",enabled:!0},{id:"competencyName",checked:!1,label:"Competency text",enabled:!0},{id:"competencyDescription",checked:!1,label:"Competency comment",enabled:!0}]:this.competencyPropertiesApplySearchTo=[{id:"competencyName",checked:!1,label:"Competency name",enabled:!0},{id:"competencyDescription",checked:!1,label:"Competency description",enabled:!0}]}}},A=j,O=(r("d57a"),Object(h["a"])(A,E,P,!1,null,null,null)),D=O.exports,R={name:"RightAside",props:{},data:function(){return{isCommenter:!0,isAdmin:!1,isViewer:!0}},components:{Comments:u,Versions:C,FilterAndSort:D,ListItemInfo:I},computed:{showRightAside:function(){return this.$store.getters["app/showRightAside"]},rightAsideContent:function(){return this.$store.getters["app/rightAsideContent"]}}},L=R,M=(r("f02b"),Object(h["a"])(L,s,i,!1,null,"27129d02",null));t["default"]=M.exports},e6c0:function(e,t,r){"use strict";var s=r("8e85"),i=r.n(s);i.a},ed1c:function(e,t,r){},eeb6:function(e,t,r){"use strict";var s=r("040c"),i=r.n(s);i.a},f02b:function(e,t,r){"use strict";var s=r("fa90"),i=r.n(s);i.a},f188:function(e,t,r){"use strict";t["a"]={computed:{ctdlAsnFrameworkProfile:function(){var e=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/Framework/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the framework. If imported from another source, the URL of the framework from which this one originates."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Canonical URL"}],readOnly:"true",max:1,heading:"Keys"},registryURL:{"@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The Credential Registry URL of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Credential Registry URL"}],readOnly:"true",valuesIndexed:function(){return e.registryURLs},max:1,heading:"Keys"},ctid:{"@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The CTID of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"CTID"}],readOnly:"true",valuesIndexed:function(){return e.ctids},max:1,isRequired:"true",heading:"Keys"},"http://schema.org/name":{"@id":"https://purl.org/ctdlasn/terms/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The name or title of this competency framework. One name or title per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],isRequired:"true",onePerLanguage:"true",heading:"General"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A short description of this framework. One description per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}],onePerLanguage:"true",isRequired:"true",heading:"General"},"http://schema.org/creator":{"@id":"http://schema.org/creator","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The primary entity responsible for making this competency or competency framework. For example: \n                            https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/. One entity per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Creator"}],heading:"General"},"https://purl.org/ctdlasn/terms/publisherName":{"@id":"https://purl.org/ctdlasn/terms/publisherName","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the agent responsible for making this entity available."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher Name"}],heading:"General"},"http://schema.org/publisher":{"@id":"http://schema.org/publisher","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The entity responsible for making this competency framework available. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher"}],isRequired:"true",heading:"General"},"http://schema.org/inLanguage":{"@id":"http://schema.org/inLanguage","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The primary language used in or by this competency framework or competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"In Language"}],isRequired:"true",heading:"General"},"http://schema.org/keywords":{"@id":"https://purl.org/ctdlasn/terms/conceptKeyword","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A word or phrase used by the promulgating agency to refine and differentiate individual frameworks contextually. One concept per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Keyword"}],heading:"Tagging"},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Term"}],noTextEditing:"true",heading:"Tagging"},"https://purl.org/ctdlasn/terms/derivedFrom":{"@id":"https://purl.org/ctdlasn/terms/derivedFrom","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A third party version of the entity being referenced that has been modified in meaning through editing, extension, or refinement.\n                            For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Derived From"}],max:1,heading:"Connections"},"https://purl.org/ctdlasn/terms/isVersionOf":{"@id":"https://purl.org/ctdlasn/terms/isVersionOf","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A related competency framework of which this competency framework is a version, edition, or adaptation."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Version Of"}],max:1,heading:"Connections"},"http://purl.org/dc/elements/1.1/source":{"@id":"http://purl.org/dc/elements/1.1/source","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A URI to the original competency framework which this competency framework is based on or derived from.\n                            For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Source Framework"}],heading:"Connections"},"https://purl.org/ctdlasn/terms/educationLevelType":{"@id":"https://purl.org/ctdlasn/terms/educationLevelType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A general statement describing the education or training context.\n                                Alternatively, a more specific statement of the location of the audience in terms of its progression through an education or training context."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Education Level Type"}],noTextEditing:"true",heading:"Context"},"http://schema.org/validFrom":{"@id":"https://purl.org/ctdlasn/terms/validFrom","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2001/XMLSchema#dateTime"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Beginning date of validity of this competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Date Valid From"}],max:1,heading:"Context"},"http://schema.org/validThrough":{"@id":"https://purl.org/ctdlasn/terms/validThrough","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2001/XMLSchema#dateTime"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"End date of validity of this competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Date Valid Until"}],max:1,heading:"Context"},"https://purl.org/ctdlasn/terms/publicationStatusType":{"@id":"https://purl.org/ctdlasn/terms/publicationStatusType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Publication status of the source competency framework. The original framework may be drafted, published, or depreciated outside of this system."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Source Publication Status"}],options:[{display:"Draft",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Draft"},{display:"Published",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Published"},{display:"Deprecated",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Deprecated"}],max:1,heading:"Context"},"http://schema.org/identifier":{"@id":"http://schema.org/identifier","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alternative URI by which this competency or competency framework is identified. For example, https://sandbox.credentialengineregistry.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Identifier"}],heading:"Context"},"http://schema.org/copyrightYear":{"@id":"http://schema.org/copyrightYear","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://purl.org/dc/terms/date"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Year of a statement of copyright for this competency framework, such as 2017."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Year Copyrighted"}],max:1,heading:"Rights"},"http://schema.org/license":{"@id":"http://schema.org/license","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A legal document giving official permission to do something with this competency framework. For example, https://sandbox.credentialengineregistry.org/"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"License"}],max:1,heading:"Rights"},"http://purl.org/dc/elements/1.1/rights":{"@id":"http://purl.org/dc/elements/1.1/rights","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Information about rights held in and over this competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rights"}],max:1,heading:"Rights"},"http://schema.org/copyrightHolder":{"@id":"http://schema.org/copyrightHolder","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The agent owning or managing rights over this competency framework. For example, https://credentialengineregistry.org/"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rights Holder"}],max:1,heading:"Rights"},"https://schema.cassproject.org/0.4/socList":{"@id":"https://schema.cassproject.org/0.4/socList","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Type of occupation; select from an existing enumeration of such types. See https://www.bls.gov/soc/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Occupation Type"}],heading:"General"},"https://schema.cassproject.org/0.4/naicsList":{"@id":"https://schema.cassproject.org/0.4/naicsList","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Type of industry; select from an existing enumeration of such types such as the SIC, NAICS, and ISIC classifications. See https://www.naics.com/search/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Industry Type"}],heading:"General"},headings:["General","Tagging","Connections","Context","Rights","Keys"],primaryProperties:["http://schema.org/name","http://schema.org/description"],secondaryProperties:["http://schema.org/creator","https://purl.org/ctdlasn/terms/publisherName","http://schema.org/publisher","http://schema.org/inLanguage","http://schema.org/keywords","https://purl.org/ctdlasn/terms/conceptTerm","https://purl.org/ctdlasn/terms/derivedFrom","https://purl.org/ctdlasn/terms/isVersionOf","http://purl.org/dc/elements/1.1/source","https://purl.org/ctdlasn/terms/educationLevelType","https://schema.cassproject.org/0.4/socList","https://schema.cassproject.org/0.4/naicsList"],tertiaryProperties:["@id","registryURL","ctid","http://schema.org/validFrom","http://schema.org/validThrough","https://purl.org/ctdlasn/terms/publicationStatusType","http://schema.org/identifier","http://schema.org/copyrightYear","http://schema.org/license","http://purl.org/dc/elements/1.1/rights","http://schema.org/copyrightHolder"]}},ctdlAsnCompetencyProfile:function(){var e=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/Competency/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the competency. If imported from another source, the URL of the competency from which this one originates."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Canonical URL"}],readOnly:"true",max:1,heading:"Keys"},registryURL:{"@id":"https://schema.cassproject.org/0.4/Competency/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The Credential Registry URL of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Credential Registry URL"}],readOnly:"true",valuesIndexed:function(){return e.registryURLs},max:1,heading:"Keys"},ctid:{"@id":"https://schema.cassproject.org/0.4/Competency/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The CTID of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"CTID"}],readOnly:"true",valuesIndexed:function(){return e.ctids},max:1,isRequired:"true",heading:"Keys"},"https://purl.org/ctdlasn/terms/competencyLabel":{"@id":"https://purl.org/ctdlasn/terms/competencyLabel","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Short identifying phrase or name applied to a competency by the creator of the competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Competency Label"}],onePerLanguage:"true",heading:"General"},"http://schema.org/name":{"@id":"https://purl.org/ctdlasn/terms/competencyText","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The text of the competency. One per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Competency Text"}],isRequired:"true",onePerLanguage:"true",heading:"General"},"http://schema.org/description":{"@id":"https://purl.org/ctdlasn/terms/comment","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Supplemental text provided by the promulgating body that clarifies the nature, scope or use of this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Comment"}],heading:"General"},"http://purl.org/dc/terms/type":{"@id":"https://purl.org/ctdlasn/terms/competencyCategory","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The textual label identifying the category of the competency as designated by the promulgating body. One label per line. One label per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Competency Category"}],onePerLanguage:"true",heading:"General"},"https://purl.org/ctdlasn/terms/educationLevelType":{"@id":"https://purl.org/ctdlasn/terms/educationLevelType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A general statement describing the education or training context. Alternatively, a more specific statement of the location of the audience in terms of its progression \n                                through an education or training context."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Education Level"}],noTextEditing:"true",heading:"General"},"https://purl.org/ctdlasn/terms/listID":{"@id":"https://purl.org/ctdlasn/terms/listID","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alphanumeric string indicating this competency's position in a list of competencies at the same level in some arbitrary hierarchy."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"List ID"}],max:1,heading:"General"},"https://purl.org/ctdlasn/terms/codedNotation":{"@id":"https://purl.org/ctdlasn/terms/codedNotation","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alphanumeric notation or ID code identifying this competency in common use among end-users."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Coded Notation"}],max:1,heading:"Context"},"https://purl.org/ctdlasn/terms/derivedFrom":{"@id":"https://purl.org/ctdlasn/terms/derivedFrom","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URI of a competency from which this competency has been derived. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/.  One entity per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Derivative Of"}],max:1,heading:"Context"},"http://schema.org/identifier":{"@id":"https://purl.org/ctdlasn/terms/identifier","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alternative URI by which this competency framework or competency is identified. For example, https://sandbox.credentialengineregistry.org/. One URI per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Identifier"}],heading:"Context"},"http://schema.org/keywords":{"@id":"https://purl.org/ctdlasn/terms/conceptKeyword","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A word or phrase used by the promulgating agency to refine and differentiate individual competencies contextually. One concept per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Keyword"}],heading:"Tagging"},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Term"}],noTextEditing:"true",heading:"Tagging"},"https://purl.org/ctdlasn/terms/complexityLevel":{"@id":"https://purl.org/ctdlasn/terms/complexityLevel","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The expected performance level of a learner or professional as defined by a competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Complexity Level"}],noTextEditing:"true",heading:"Scales"},"https://purl.org/ctdlasn/terms/weight":{"@id":"https://purl.org/ctdlasn/terms/weight","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An asserted measurement of the weight, degree, percent, or strength of a recommendation, requirement, or comparison."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Weight"}],max:1,heading:"Scales"},narrows:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Covers all of the relevant concepts in the referenced competency as well as relevant concepts not found in the referenced competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Broad Alignment"}],valuesIndexed:function(){return e.relations["narrows"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"narrows",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"narrows",r)},heading:"Connections"},broadens:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Covers all of the relevant concepts in this competency as well as relevant concepts not found in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Narrow Alignment"}],valuesIndexed:function(){return e.relations["broadens"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"broadens",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"broadens",r)},heading:"Connections"},isEquivalentTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Relevant concepts in this competency and the referenced competency are coextensive."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Exact Alignment"}],valuesIndexed:function(){return e.relations["isEquivalentTo"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"isEquivalentTo",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"isEquivalentTo",r)},heading:"Connections"},majorRelated:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Major overlap of relevant concepts between this competency and the referenced competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Major Alignment"}],valuesIndexed:function(){return e.relations["majorRelated"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"majorRelated",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"majorRelated",r)},heading:"Connections"},minorRelated:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Minor overlap of relevant concepts between this competency and the referenced competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Minor Alignment"}],valuesIndexed:function(){return e.relations["minorRelated"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"minorRelated",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"minorRelated",r)},heading:"Connections"},requires:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"This competency is a prerequisite to the referenced competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Prerequisite Alignment"}],valuesIndexed:function(){return e.relations["requires"]},noTextEditing:"true",add:function(t,r){e.addRelationsToFramework(t,"requires",r)},save:function(){},remove:function(t,r){e.removeRelationFromFramework(t,"requires",r)},heading:"Connections"},"https://purl.org/ctdlasn/terms/abilityEmbodied":{"@id":"https://purl.org/ctdlasn/terms/abilityEmbodied","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Enduring attributes of the individual that influence performance are embodied either directly or indirectly in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Ability Embodied"}],heading:"Connections"},"https://purl.org/ctdlasn/terms/knowledgeEmbodied":{"@id":"https://purl.org/ctdlasn/terms/knowledgeEmbodied","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Body of information embodied either directly or indirectly in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Knowledge Embodied"}],heading:"Connections"},"https://purl.org/ctdlasn/terms/skillEmbodied":{"@id":"https://purl.org/ctdlasn/terms/skillEmbodied","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Cognitive, affective, and psychomotor skills directly or indirectly embodied in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Skill Embodied"}],heading:"Connections"},"https://purl.org/ctdlasn/terms/taskEmbodied":{"@id":"https://purl.org/ctdlasn/terms/taskEmbodied","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Specifically defined piece of work embodied either directly or indirectly in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Task Embodied"}],heading:"Connections"},"https://schema.cassproject.org/0.4/socList":{"@id":"https://schema.cassproject.org/0.4/socList","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Type of occupation; select from an existing enumeration of such types. See https://www.bls.gov/soc/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Occupation Type"}],heading:"General"},"https://schema.cassproject.org/0.4/naicsList":{"@id":"https://schema.cassproject.org/0.4/naicsList","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Type of industry; select from an existing enumeration of such types such as the SIC, NAICS, and ISIC classifications. See https://www.naics.com/search/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Industry Type"}],heading:"General"},"https://schema.cassproject.org/0.4/cipList":{"@id":"https://schema.cassproject.org/0.4/cipList","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Type of instructional program; select from an existing enumeration of such types. See https://nces.ed.gov/ipeds/cipcode."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Instructional Program Type"}],heading:"General"},headings:["General","Context","Tagging","Scales","Connections","Keys"],primaryProperties:["https://purl.org/ctdlasn/terms/competencyLabel","http://schema.org/name","http://schema.org/description","http://purl.org/dc/terms/type","https://purl.org/ctdlasn/terms/listID","https://purl.org/ctdlasn/terms/codedNotation"],secondaryProperties:["https://purl.org/ctdlasn/terms/abilityEmbodied","https://purl.org/ctdlasn/terms/knowledgeEmbodied","https://purl.org/ctdlasn/terms/skillEmbodied","https://purl.org/ctdlasn/terms/taskEmbodied","http://schema.org/keywords","https://purl.org/ctdlasn/terms/conceptTerm","https://purl.org/ctdlasn/terms/complexityLevel","https://purl.org/ctdlasn/terms/weight","https://schema.cassproject.org/0.4/socList","https://schema.cassproject.org/0.4/naicsList","https://schema.cassproject.org/0.4/cipList"],tertiaryProperties:["@id","registryURL","ctid","narrows","broadens","isEquivalentTo","majorRelated","minorRelated","requires","https://purl.org/ctdlasn/terms/educationLevelType","https://purl.org/ctdlasn/terms/derivedFrom","http://schema.org/identifier"]}},ctdlAsnConceptSchemeProfile:function(){var e=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/ConceptScheme/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the concept scheme. If imported from another source, the URL of the concept scheme from which this one originates."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Canonical URL"}],readOnly:"true",max:1,heading:"Keys"},registryURL:{"@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The Credential Registry URL of the concept scheme."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Credential Registry URL"}],readOnly:"true",valuesIndexed:function(){return e.registryURLs},max:1,heading:"Keys"},ctid:{"@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The CTID of the concept scheme."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"CTID"}],readOnly:"true",valuesIndexed:function(){return e.ctids},max:1,isRequired:"true",heading:"Keys"},"http://purl.org/dc/terms/title":{"@id":"https://purl.org/ctdlasn/terms/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The name or title of this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],heading:"General",onePerLanguage:"true",isRequired:"true"},"http://purl.org/dc/terms/description":{"@id":"https://purl.org/ctdlasn/terms/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A short description of this resource. One definition per language"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}],heading:"General",isRequired:"true",onePerLanguage:"true"},"http://purl.org/dc/terms/creator":{"@id":"https://purl.org/ctdlasn/terms/creator","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An entity primarily responsible for making this resource. For example, https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/. One entity per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Creator"}],heading:"General"},"http://purl.org/dc/terms/publisher":{"@id":"https://purl.org/ctdlasn/terms/publisher","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An agent responsible for making this entity available. For example, https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher"}],max:1,heading:"General"},"https://purl.org/ctdlasn/terms/publisherName":{"@id":"https://purl.org/ctdlasn/terms/publisherName","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of an agent responsible for making this resource available. One name per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher Name"}],max:1,heading:"General"},"http://purl.org/dc/terms/language":{"@id":"https://purl.org/ctdlasn/terms/inLanguage","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The primary language used in or by this resource. One language per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Language"}],isRequired:"true",heading:"General"},"http://purl.org/dc/elements/1.1/source":{"@id":"https://purl.org/ctdlasn/terms/source","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A URI to the original resource which this resource is based on or derived from. For example: https://credentialengineregistry.org/, https://eduworks.com, https://case.georgiastandards.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Source"}],heading:"General",max:1},"https://purl.org/ctdlasn/terms/conceptKeyword":{"@id":"https://purl.org/ctdlasn/terms/conceptKeyword","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A word or phrase used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Keyword"}],heading:"Tagging"},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Concept Term"}],noTextEditing:"true",heading:"Tagging"},"http://www.w3.org/2004/02/skos/core#changeNote":{"@id":"http://www.w3.org/2004/02/skos/core#changeNote","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Documents fine-grained changes to a concept scheme, for the purposes of administration and maintenance. One note per line."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Change Note"}],heading:"Context"},"http://www.w3.org/2004/02/skos/core#historyNote":{"@id":"http://www.w3.org/2004/02/skos/core#historyNote","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Describes significant changes to the meaning or the form of a scheme. One note per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"History Note"}],heading:"Context"},"https://purl.org/ctdlasn/terms/publicationStatusType":{"@id":"https://purl.org/ctdlasn/terms/publicationStatusType","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The publication status of this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publication Status"}],heading:"Context",options:[{display:"Draft",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Draft"},{display:"Published",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Published"},{display:"Deprecated",val:"http://credreg.net/ctdlasn/vocabs/publicationStatus/Deprecated"}],isRequired:"true",max:1},"http://purl.org/dc/terms/dateCopyrighted":{"@id":"https://purl.org/ctdlasn/terms/dateCopyrighted","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://purl.org/dc/terms/date"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Year of a statement of copyright for this resource, such as 2017."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Year Copyrighted"}],heading:"Rights",max:1},"http://purl.org/dc/terms/license":{"@id":"https://purl.org/ctdlasn/terms/license","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A legal document giving official permission to do something with this resource. For example, https://sandbox.credentialengineregistry.org/"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"License"}],heading:"Rights",max:1},"http://purl.org/dc/terms/rights":{"@id":"https://purl.org/ctdlasn/terms/rights","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Information about rights held in and over this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rights"}],heading:"Rights",max:1},"http://purl.org/dc/terms/rightsHolder":{"@id":"http://purl.org/dc/terms/rightsHolder","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/ConceptScheme"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An agent owning or managing rights over this resource. For example, https://credentialengineregistry.org/."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rights Holder"}],heading:"Rights",max:1},headings:["General","Tagging","Context","Rights","Keys"],primaryProperties:["http://purl.org/dc/terms/title","http://purl.org/dc/terms/description","https://purl.org/ctdlasn/terms/conceptKeyword","https://purl.org/ctdlasn/terms/conceptTerm","https://purl.org/ctdlasn/terms/publisherName"],secondaryProperties:["http://purl.org/dc/terms/creator","http://purl.org/dc/terms/publisher","http://purl.org/dc/terms/language","http://purl.org/dc/elements/1.1/source"],tertiaryProperties:["@id","registryURL","ctid","http://www.w3.org/2004/02/skos/core#changeNote","http://www.w3.org/2004/02/skos/core#historyNote","https://purl.org/ctdlasn/terms/publicationStatusType","http://purl.org/dc/terms/dateCopyrighted","http://purl.org/dc/terms/license","http://purl.org/dc/terms/rights","http://purl.org/dc/terms/rightsHolder"]}},ctdlAsnConceptProfile:function(){var e=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/Concept/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the concept. If imported from another source, the URL of the concept from which this one originates."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Canonical URL"}],readOnly:"true",max:1,heading:"Keys"},registryURL:{"@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The Credential Registry URL of the concept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Credential Registry URL"}],readOnly:"true",valuesIndexed:function(){return e.conceptRegistryURLs},max:1,heading:"Keys"},ctid:{"@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The CTID of the concept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"CTID"}],readOnly:"true",valuesIndexed:function(){return e.conceptCtids},max:1,isRequired:"true",heading:"Keys"},"http://www.w3.org/2004/02/skos/core#prefLabel":{"@id":"http://www.w3.org/2004/02/skos/core#prefLabel","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Preferred language-tagged label representing this concept. One label per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Preferred Label"}],heading:"General",onePerLanguage:"true",isRequired:"true"},"http://www.w3.org/2004/02/skos/core#definition":{"@id":"http://www.w3.org/2004/02/skos/core#definition","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Supplies a complete explanation of the intended meaning of a concept. One definition per language."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Definition"}],heading:"General",onePerLanguage:"true"},"http://www.w3.org/2004/02/skos/core#notation":{"@id":"http://www.w3.org/2004/02/skos/core#notation","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Alphanumeric notation or ID code as defined by the promulgating body to identify this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Notation"}],heading:"General"},"http://www.w3.org/2004/02/skos/core#altLabel":{"@id":"http://www.w3.org/2004/02/skos/core#altLabel","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Non-preferred label for the concept used to relate a concept synonym to the preferred label."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Alternative Label"}],heading:"Other Labels"},"http://www.w3.org/2004/02/skos/core#hiddenLabel":{"@id":"http://www.w3.org/2004/02/skos/core#hiddenLabel","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Label not intended for public presentation but to assist applications in disambiguating searcher intent - e.g., hidden labels can be used for common misspelling or a colloquial expression."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Hidden Label"}],heading:"Other Labels"},"http://www.w3.org/2004/02/skos/core#note":{"@id":"http://www.w3.org/2004/02/skos/core#note","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Annotations to the concept for purposes of general documentation."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Note"}],heading:"Documentation"},"http://www.w3.org/2004/02/skos/core#changeNote":{"@id":"http://www.w3.org/2004/02/skos/core#changeNote","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2000/01/rdf-schema#langString"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Text describing a significant change to the concept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Change Note"}],heading:"Documentation"},"http://www.w3.org/2004/02/skos/core#broadMatch":{"@id":"http://www.w3.org/2004/02/skos/core#broadMatch","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Assertion indicates that the referenced concept is broader in some way than this concept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Broad Match"}],noTextEditing:"true",heading:"Connections"},"http://www.w3.org/2004/02/skos/core#closeMatch":{"@id":"http://www.w3.org/2004/02/skos/core#closeMatch","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Assertion indicates that two concepts are sufficiently similar that they can be used interchangeably."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Close Match"}],noTextEditing:"true",heading:"Connections"},"http://www.w3.org/2004/02/skos/core#exactMatch":{"@id":"http://www.w3.org/2004/02/skos/core#exactMatch","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Indicates semantic similarity denoting an even higher degree of closeness than Close Match."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Exact Match"}],noTextEditing:"true",heading:"Connections"},"http://www.w3.org/2004/02/skos/core#narrowMatch":{"@id":"http://www.w3.org/2004/02/skos/core#narrowMatch","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Assertion indicates that the referenced concept is narrower in some way than this concept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Narrow Match"}],noTextEditing:"true",heading:"Connections"},"http://www.w3.org/2004/02/skos/core#related":{"@id":"http://www.w3.org/2004/02/skos/core#related","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"http://schema.cassproject.org/0.4/skos/Concept"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"URL of an associatively related concept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Related"}],noTextEditing:"true",heading:"Connections"},headings:["General","Other Labels","Documentation","Connections","Keys"],primaryProperties:["http://www.w3.org/2004/02/skos/core#prefLabel","http://www.w3.org/2004/02/skos/core#definition","http://www.w3.org/2004/02/skos/core#notation","http://www.w3.org/2004/02/skos/core#altLabel"],secondaryProperties:["http://www.w3.org/2004/02/skos/core#broadMatch","http://www.w3.org/2004/02/skos/core#closeMatch","http://www.w3.org/2004/02/skos/core#exactMatch","http://www.w3.org/2004/02/skos/core#narrowMatch","http://www.w3.org/2004/02/skos/core#related"],tertiaryProperties:["@id","registryURL","ctid","http://www.w3.org/2004/02/skos/core#hiddenLabel","http://www.w3.org/2004/02/skos/core#note","http://www.w3.org/2004/02/skos/core#changeNote"]}}}}},fa90:function(e,t,r){},ffd6:function(e,t,r){var s=r("3729"),i=r("1310"),o="[object Symbol]";function a(e){return"symbol"==typeof e||i(e)&&s(e)==o}e.exports=a}}]);
//# sourceMappingURL=import.1c32a05f.js.map