{"version":3,"sources":["webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?7aa4","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?cbef","webpack:///src/views/conceptScheme/ConceptHierarchy.vue","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?21d9","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue","webpack:///./src/mixins/competencyEdits.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","dragging","canEdit","view","queryParams","select","attrs","directives","name","rawName","value","expression","domProps","Array","isArray","selectAll","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_e","expanded","$emit","selectedArray","_v","_s","selectButtonText","multipleSelected","addingNode","_m","addConceptOrChildText","onClickCreateNew","canCopyOrCut","copyClick","cutClick","canPaste","pasteClick","cancelImport","$store","dispatch","openFramework","path","query","_b","isDraggable","beginDrag","endDrag","model","callback","hierarchy","dragOptions","_l","item","index","key","obj","id","subview","children","profile","highlightList","newFramework","container","properties","shiftKey","arrowKey","onCreateNewNode","handleMountingNode","add","move","onDraggableCheck","staticRenderFns","structure","i","push","subC","type","property","splice","fromIndex","toId","undefined","me","commit","Date","toISOString","repo","saveTo","fromContainer","toContainer","removeOldRelations","fromContainerId","moveComp","fromProperty2","c","addOwner","EcPk","fromPem","owner","r","addReader","reader","EcArray","previousSibling","shortId","containerId","parent","component","mixins","methods","removeObject","appLog","thing","thisFramework","getters","initialCompetencies","initialRelations","initialLevels","framework","operation","fieldChanged","initialValue","EcEncryptedValue","f","window","deleteObject","changedValue","frameworkToSave"],"mappings":"mIAAA,yBAA0iB,EAAG,G,2CCA7iB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,cAAeP,EAAIQ,WAAW,CAACJ,EAAG,MAAM,CAACE,YAAY,8FAA8F,CAAGN,EAAIS,SAAwB,WAAbT,EAAIU,MAAsBV,EAAIW,YAAYC,OAAQR,EAAG,MAAM,CAACE,YAAY,mBAAmBO,MAAM,CAAC,GAAK,2BAA2B,CAACT,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOjB,EAAa,UAAEkB,WAAW,cAAcZ,YAAY,gBAAgBO,MAAM,CAAC,GAAK,oBAAoB,KAAO,WAAW,KAAO,qBAAqBM,SAAS,CAAC,QAAUC,MAAMC,QAAQrB,EAAIsB,WAAWtB,EAAIuB,GAAGvB,EAAIsB,UAAU,OAAO,EAAGtB,EAAa,WAAGwB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAI1B,EAAIsB,UAAUK,EAAKF,EAAOG,OAAOC,IAAIF,EAAKG,QAAuB,GAAGV,MAAMC,QAAQK,GAAK,CAAC,IAAIK,EAAI,KAAKC,EAAIhC,EAAIuB,GAAGG,EAAIK,GAAQJ,EAAKG,QAASE,EAAI,IAAIhC,EAAIsB,UAAUI,EAAIO,OAAO,CAACF,KAAYC,GAAK,IAAIhC,EAAIsB,UAAUI,EAAIQ,MAAM,EAAEF,GAAKC,OAAOP,EAAIQ,MAAMF,EAAI,UAAWhC,EAAIsB,UAAUO,MAASzB,EAAG,QAAQ,CAACS,MAAM,CAAC,IAAM,2BAA2Bb,EAAImC,KAAK/B,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAAEN,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,oBAAoBkB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAIoC,UAAS,KAAS,CAAChC,EAAG,IAAI,CAACE,YAAY,kDAAoDN,EAAIoC,SAA8KhC,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,4CAApOF,EAAG,MAAM,CAACE,YAAY,oBAAoBkB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAIoC,UAAS,KAAQ,CAAChC,EAAG,IAAI,CAACE,YAAY,mDAAgKN,EAAoB,iBAAEI,EAAG,MAAM,CAACE,YAAY,gCAAgCkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIqC,MAAM,sBAAuBrC,EAAIsC,kBAAkB,CAACtC,EAAIuC,GAAG,IAAIvC,EAAIwC,GAAGxC,EAAIyC,kBAAkB,OAAOzC,EAAImC,OAAO/B,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAAEN,EAAI0C,mBAAqB1C,EAAI2C,YAA2B,WAAb3C,EAAIU,MAAqBV,EAAIS,QAASL,EAAG,MAAM,CAACE,YAAY,gCAAgCkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIqC,MAAM,0BAA0B,CAACrC,EAAI4C,GAAG,GAAGxC,EAAG,OAAO,CAACJ,EAAIuC,GAAG,uBAAuBvC,EAAImC,KAAOnC,EAAI2C,aAAc3C,EAAIS,SAAYT,EAAI0C,iBAA2M1C,EAAImC,KAA7L/B,EAAG,MAAM,CAACE,YAAY,gCAAgCkB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI2C,YAAa,KAAS,CAAC3C,EAAI4C,GAAG,GAAGxC,EAAG,OAAO,CAACJ,EAAIuC,GAAG,IAAIvC,EAAIwC,GAAGxC,EAAI6C,uBAAuB,SAAmB7C,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,8BAA8BkB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI2C,YAAa,KAAU,CAAC3C,EAAI4C,GAAG,GAAGxC,EAAG,OAAO,CAACJ,EAAIuC,GAAG,cAAcvC,EAAImC,KAAMnC,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,iCAAiCkB,GAAG,CAAC,MAAQxB,EAAI8C,mBAAmB,CAAC9C,EAAI4C,GAAG,GAAGxC,EAAG,OAAO,CAACJ,EAAIuC,GAAG,oBAAoBvC,EAAImC,KAAmB,cAAbnC,EAAIU,MAAqC,YAAbV,EAAIU,KAAoBN,EAAG,MAAM,CAACE,YAAY,qBAAqBC,MAAMP,EAAI+C,aAAe,aAAe,cAAclC,MAAM,CAAC,UAAYb,EAAI+C,aAAa,MAAQ,mBAAmBvB,GAAG,CAAC,MAAQxB,EAAIgD,YAAY,CAAChD,EAAI4C,GAAG,KAAK5C,EAAImC,KAAmB,cAAbnC,EAAIU,MAAqC,YAAbV,EAAIU,KAAoBN,EAAG,MAAM,CAACE,YAAY,qBAAqBC,MAAMP,EAAI+C,aAAe,aAAe,cAAclC,MAAM,CAAC,MAAQ,iBAAiB,UAAYb,EAAI+C,cAAcvB,GAAG,CAAC,MAAQxB,EAAIiD,WAAW,CAACjD,EAAI4C,GAAG,KAAK5C,EAAImC,KAAmB,cAAbnC,EAAIU,MAAqC,YAAbV,EAAIU,KAAoBN,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAMP,EAAIkD,SAAW,aAAe,cAAcrC,MAAM,CAAC,UAAYb,EAAIkD,SAAS,MAAQ,oBAAoB1B,GAAG,CAAC,MAAQxB,EAAImD,aAAa,CAACnD,EAAI4C,GAAG,KAAK5C,EAAImC,SAAuB,WAAbnC,EAAIU,KAAmBN,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uDAAuDkB,GAAG,CAAC,MAAQxB,EAAIoD,eAAe,CAAChD,EAAG,OAAO,CAACJ,EAAIuC,GAAG,cAAcvC,EAAI4C,GAAG,KAAKxC,EAAG,MAAM,CAACE,YAAY,6CAA6CkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIqD,OAAOC,SAAS,sBAAsB,CAAClD,EAAG,OAAO,CAACJ,EAAIuC,GAAG,oBAAoBvC,EAAI4C,GAAG,KAAKxC,EAAG,MAAM,CAACE,YAAY,6CAA6CkB,GAAG,CAAC,MAAQxB,EAAIuD,gBAAgB,CAACnD,EAAG,OAAO,CAACJ,EAAIuC,GAAG,oBAAoBvC,EAAI4C,GAAG,KAAKxC,EAAG,cAAc,CAACE,YAAY,iDAAiDO,MAAM,CAAC,GAAK,CAAC2C,KAAM,YAAaC,MAAOzD,EAAIW,eAAe,CAACP,EAAG,OAAO,CAACJ,EAAIuC,GAAG,YAAYnC,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,oBAAoB,OAAON,EAAImC,OAAQnC,EAAa,UAAE,CAACI,EAAG,YAAYJ,EAAI0D,GAAG,CAACpD,YAAY,qBAAqBO,MAAM,CAAC,IAAM,KAAK,UAA2B,IAAhBb,EAAIS,UAAqBT,EAAI2D,YAAY,MAAQ,CAAE5C,KAAM,QAAS,OAAS,WAAWS,GAAG,CAAC,MAAQxB,EAAI4D,UAAU,IAAM5D,EAAI6D,SAASC,MAAM,CAAC7C,MAAOjB,EAAa,UAAE+D,SAAS,SAAUhC,GAAM/B,EAAIgE,UAAUjC,GAAKb,WAAW,cAAc,YAAYlB,EAAIiE,aAAY,GAAOjE,EAAIkE,GAAIlE,EAAa,WAAE,SAASmE,EAAKC,GAAO,OAAOhE,EAAG,gBAAgB,CAACiE,IAAIF,EAAKG,IAAIC,GAAGjE,YAAY,qBAAqBO,MAAM,CAAC,MAAQ,EAAE,KAAOb,EAAIU,KAAK,QAAUV,EAAIwE,QAAQ,IAAML,EAAKG,IAAI,SAAWtE,EAAIQ,SAAS,QAAUR,EAAIS,QAAQ,SAAW0D,EAAKM,SAAS,QAAUzE,EAAI0E,QAAQ,cAAgB1E,EAAI2E,cAAc,UAAY3E,EAAIsB,UAAU,aAAetB,EAAI4E,aAAa,MAAQR,EAAM,kBAAoBpE,EAAIS,QAAQ,cAAgBT,EAAIsC,cAAc,gBAAkBtC,EAAIgE,UAAU,OAAShE,EAAI6E,UAAU,WAAa7E,EAAI8E,WAAW,UAA0B,GAAd9E,EAAIoC,SAAe,eAAgB,EAAM,SAAWpC,EAAI+E,SAAS,SAAW/E,EAAIgF,UAAUxD,GAAG,CAAC,wBAAwBxB,EAAIiF,gBAAgB,gBAAgBjF,EAAIkF,mBAAmB,IAAMlF,EAAImF,IAAI,aAAanF,EAAI4D,UAAU,KAAO5D,EAAIoF,KAAK,OAASpF,EAAIY,OAAO,kBAAkBZ,EAAIqF,uBAAsB,IAAIrF,EAAImC,MAAM,IAC7mLmD,EAAkB,CAAC,WAAa,IAAItF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,yBAAyB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,mBAAmB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,yBAAyB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,mBAAmB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,0BAA0B,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,sBAAsB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,mB,yFC4O1hD,GACE,KAAF,mBACE,MAAF,CACI,UAAJ,OACI,cAAJ,OACI,KAAJ,OACI,QAAJ,OACI,cAAJ,MACI,WAAJ,QACI,UAAJ,QACI,iBAAJ,OACI,SAAJ,QACI,aAAJ,QACI,WAAJ,OACI,KAAJ,CACM,KAAN,OACM,QAAN,aAEI,QAAJ,CACM,KAAN,OACM,QAAN,IAEI,aAAJ,CACM,KAAN,QACM,SAAN,IAGE,KAAF,WACI,MAAJ,CACM,UAAN,GACM,MAAN,EACM,UAAN,EACM,gBAAN,EACM,OAAN,UACM,SAAN,gBACM,YAAN,CACQ,MAAR,IACQ,UAAR,EACQ,WAAR,aACQ,YAAR,cACQ,UAAR,OACQ,kBAAR,IACQ,eAAR,GAEM,kBAAN,EACM,YAAN,EACM,cAAN,GACM,iBAAN,KACM,UAAN,EACM,aAAN,EACM,UAAN,EACM,SAAN,KACM,sBAAN,gBAGE,WAAF,CACI,cAAJ,WAAM,OAAN,iDACI,UAAJ,WAAM,OAAN,sDAEE,OAAF,gBACE,SAAF,CACI,aAAJ,WACM,SAAN,oDAMI,SAAJ,WACM,OAAN,4IAMI,YAAJ,WACM,OAAN,2CAEI,WAAJ,WACM,OAAN,0CAEI,UAAJ,WACM,IAAN,OACM,GAAN,iCACM,IAAN,gCACM,OAAN,wBACM,IAAN,KASM,OARN,6CAAQ,EAAR,gDACA,WACQ,KAAR,6BACU,EAAV,qBACA,UAEQ,EAAR,mBAEA,gBAGI,QAAJ,WACM,OAAN,mBAGA,iEAEI,mBAAJ,WACM,OAAN,mDAGE,MAAF,CACI,UAAJ,CACM,QADN,WAEQ,KAAR,SAEM,MAAN,GAEI,cAAJ,WACA,4BACQ,KAAR,oBAEQ,KAAR,oBAEA,8BACQ,KAAR,kCAEQ,KAAR,oCAEM,KAAN,4CAGI,mBAAJ,WACA,0BACQ,KAAR,QACQ,KAAR,gDAGI,aAAJ,WACA,oBACQ,KAAR,cAGI,WAAJ,YACA,IACQ,KAAR,mBACQ,KAAR,yCAIE,QAAF,WACA,mBACA,gCACQ,KAAR,gDAEA,yBACA,mEACU,KAAV,2CAII,OAAJ,yCACI,OAAJ,sCAEE,cAAF,WACI,OAAJ,wCACI,OAAJ,6CAEE,QAAF,CACI,SAAJ,WACA,mDACQ,KAAR,oDAEM,KAAN,oCACM,KAAN,kCAEI,UAAJ,WACA,mDACQ,KAAR,qDAEM,KAAN,mCACM,KAAN,kCAEI,WAAJ,WACM,KAAN,kCAEI,QAlBJ,SAkBA,GACA,eACA,aACU,KAAV,cAEA,yCACU,KAAV,gBAEA,yBACA,mDACY,KAAZ,oDAEU,KAAV,oCACU,KAAV,kCAEA,yBACA,mDACY,KAAZ,qDAEU,KAAV,mCACU,KAAV,kCAEA,wBACU,KAAV,mCAII,MA7CJ,SA6CA,GACA,aACQ,KAAR,cAEA,6BACQ,KAAR,gBAGI,gBAAJ,cACM,KAAN,UAMI,mBAAJ,WACM,KAAN,aAOI,UAAJ,WAAM,IAAN,OACA,uBACQ,EAAR,8BACA,MAEI,iBAAJ,WAAM,IAAN,uDAAQ,IAAR,MAAQ,OAAR,6EACA,KACA,qBAFA,yCAEA,GAFA,UAGA,2FAHA,iBAIgB,EAAhB,EAJA,YAIA,+CAJA,iCAKA,uDALA,OAKgB,EALhB,OAMA,IACkB,EAAlB,MAAoB,IAApB,EAAoB,SAApB,KACA,oBACoB,KAApB,oBATA,QAIgB,IAJhB,uBAcA,iBACA,aAfA,iDAAM,SAAN,IAAQ,OAAR,wBAAM,OAAN,KAiBI,YAAJ,WAAM,IAAN,4DAAQ,IAAR,IAAQ,OAAR,0EACA,IADA,YACA,6BADA,iCAEA,qCAFA,OAEgB,EAFhB,OAGgBiF,EAAUC,GAAGf,SAASgB,KAAK,CAA3C,oBACoBC,GAAQA,EAAK,kBACf,KAAlB,+BALA,OACA,IADA,gEAAM,SAAN,SAAQ,OAAR,wBAAM,OAAN,KAUI,UAAJ,YACM,KAAN,iBACA,QACQ,KAAR,mEAGI,QAAJ,YACM,GAAN,2BAAM,CAIA,OAAN,uBACM,IAAN,OACA,KACA,gBACQ,KAAR,mBAEA,oBACA,mCACU,EAAV,2CACA,uCACU,GAAV,QAGA,8BACU,EAAV,QAEA,oCACY,EAAZ,gCAIM,KAAN,KACA,yCACA,EACA,UACA,SACA,4BA7BQ,KAAR,aA+BI,KAAJ,WAAM,IAAN,kEAAQ,IAAR,kCAAQ,OAAR,6EACA,aACA,OACA,MAHA,qBAIA,EAJA,gCAIA,oBAJA,+CAIA,eAJA,WAIgB,EAJhB,KAKgB,EAAhB,gBACuC,kBAAnBb,EAAUc,OACZ,EAAlB,eACkB,EAAlB,sBAEgB,EAAhB,uBACgB,EAAhB,gBACgBd,EAAUe,GAAUC,OAAOC,EAAW,GAC1B,MAARC,QAAyBC,IAATD,GACpC,wBACoB,EAApB,OAEkB,EAAlB,YAEA,EACoB,EAApB,YAEoB,EAApB,gBACoB,EAApB,kBAGgBE,EAAG5C,OAAO6C,OAAO,wBAAyB,CAAC,CAA3D,uEACgBrB,EAAU,wBAAyB,IAAIsB,MAAOC,eAC9D,mFA5BA,kCA6BA,qCA7BA,QA6BgB,EA7BhB,eA+BgBnG,KAAKoG,KAAKC,OAAOzB,GAAW,WAC1B,EAAlB,qBACA,UAjCA,yCAmCA,iBAnCA,WAmCgB,EAnChB,QAoCA,EApCA,kCAoCA,oBApCA,iDAoCA,eApCA,WAoCgB,EApChB,KAqCgB,EAAhB,gBACgB,EAAhB,gBACA,EAvCA,kCAuCA,oBAvCA,iDAuCA,eAvCA,WAuCgB,EAvChB,KAwCgB,EAAhB,gBACgB,EAAhB,eAC2C,kBAAvB0B,EAAcZ,OAChB,EAAlB,eACkB,EAAlB,qBACkB,EAAlB,qBAEyC,kBAArBa,EAAYb,OACd,EAAlB,eACkB,EAAlB,qBACkB,EAAlB,qBAEgB,EAAhB,gBACgB,EAAhB,aACgB,EAAhB,uBACgB,EAAhB,uBACgB,EAAhB,uBACoBc,GACF,EAAlB,eAEoBC,GAAmBC,EAASC,IAChD,GACoB,QAApB,kBAEA,wBACA,aAGA,KAEgBL,EAAc,wBAAyB,IAAIJ,MAAOC,eAClE,mFAvEA,kCAwEA,qCAxEA,QAwEgB,EAxEhB,eA0EgBnG,KAAKoG,KAAKC,OAAOC,EAAjC,+IACA,qBACA,wBACA,SAEA,eAEA,kBACA,oBAEA,yBACA,QAEA,wBACA,SAEA,GACA,cAGA,yCACA,sEACA,sEACA,4EAEA,kDACA,mDACA,gFA3BA,gCA4BA,qCA5BA,OA4BA,EA5BA,kBA8BA,gFA9BA,kCA+BA,qCA/BA,QA+BA,EA/BA,eAiCA,4BACA,iCACA,uBACA,QApCA,4CAqCA,UA/GA,QAiHA,iBAjHA,iDAAM,SAAN,eAAQ,OAAR,wBAAM,OAAN,KAmHI,IAAJ,WAAM,IAAN,0DAAQ,IAAR,gBAAQ,OAAR,0EAaA,GAZA,OACA,gBACA,mCACA,sDAEA,uCAEA,iDACA,kDACA,6EACA,wDAEA,oDACA,0CACoB,EAApB,wBACoBM,EAAEC,SAASC,KAAKC,QAAQC,IAG5C,yDACA,2CACoB,EAApB,yBACoBC,EAAEC,UAAUJ,KAAKC,QAAQI,IAtB7C,GAyBA,0BACA,kGACA,4CACA,6BA5BA,oBA6BgB,EAAhB,uFACqBC,QAAQhG,QAAQpB,KAAK4E,UAAU,yBAClC,KAAlB,oCAEuC,MAAnByC,QAA+CtB,IAApBsB,EAC7B,KAAlB,mDAGkB,EAAlB,gDACkB,KAAlB,2DAEgBT,EAAE,qBAAuB5G,KAAK4E,UAAU0C,UACxCtB,EAAG5C,OAAO6C,OAAO,wBAAyB,CAC1D,CAAkB,UAAlB,SAAkB,GAAlB,aACA,CAAkB,UAAlB,SAAkB,GAAlB,yBAAkB,aAAlB,uBAAkB,aAAlB,OAEgBjG,KAAK4E,UAAU,wBAAyB,IAAIsB,MAAOC,cACnDS,EAAE,wBAAyB,IAAIV,MAAOC,eACtD,qCA/CA,kCAgDA,qCAhDA,WAgDgB,EAhDhB,QAiDA,sDAjDA,kCAkDA,+CAlDA,QAkDgB,EAAhB,UAlDA,eAqDgBnG,KAAKoG,KAAKC,OAAOO,GAAG,WAClB,EAAlB,oCACoB,EAApB,UACA,YACA,UAzDA,+BA2DgBA,EAAE,gBAAkB,CAACW,GA3DrC,UA4DA,iBA5DA,WA4DgB,EA5DhB,OA6DgB,EAAhB,mDACqBH,QAAQhG,QAAQoG,EAAO,oBAC1B,EAAlB,qBAEuC,MAAnBH,QAA+CtB,IAApBsB,EAC7B,EAAlB,oCAGkB,EAAlB,8BACkB,EAAlB,4CAEgBrB,EAAG5C,OAAO6C,OAAO,wBAAyB,CAC1D,CAAkB,UAAlB,SAAkB,GAAlB,aACA,CAAkB,UAAlB,SAAkB,GAAlB,YAAkB,aAAlB,kBAAkB,aAAlB,OAEgBjG,KAAK4E,UAAU,wBAAyB,IAAIsB,MAAOC,cACnDS,EAAE,wBAAyB,IAAIV,MAAOC,cACtCqB,EAAO,wBAAyB,IAAItB,MAAOC,eAC3D,qCA/EA,kCAgFA,qCAhFA,WAgFgB,EAhFhB,QAiFA,4CAjFA,kCAkFA,qCAlFA,QAkFgB,EAlFhB,mBAoFA,sDApFA,kCAqFA,+CArFA,QAqFgB,EAAhB,UArFA,eAwFgBnG,KAAKoG,KAAKC,OAAOO,GAAG,WAClB,EAAlB,0BACoB,EAApB,oCACsB,EAAtB,UACA,YACA,YACA,UA9FA,QAgGA,uDACA,8CAjGA,iDAAM,SAAN,OAAQ,OAAR,wBAAM,OAAN,KAmGI,OAAJ,cACA,EACQ,QAAR,6BAEQ,QAAR,iCAGI,iBAAJ,YACM,KAAN,eAEI,aAAJ,WACM,KAAN,6BACM,KAAN,oCAEI,cAAJ,WAAM,IAAN,uDAAQ,IAAR,EAAQ,OAAR,0FACA,8CADA,OACA,EADA,OAEA,yCACA,iFAHA,gDAAM,SAAN,IAAQ,OAAR,wBAAM,OAAN,KAKI,iBAAJ,WACM,IAAN,2BACA,gCACQ,EAAR,uBAEM,KAAN,YACM,KAAN,iBC5wByW,I,wBCQrWa,EAAY,eACd,EACA3H,EACAuF,GACA,EACA,KACA,KACA,MAIa,aAAAoC,E,8FClBA,QACXC,OAAQ,CADG,QAEXC,QAAS,CACLC,aAAc,YAEVC,OAAO,YAAcC,EAArBD,IACA,IAAI7B,EAAJ,KACI+B,EAAgB/H,KAAKoD,OAAO4E,QAAhC,oBACIC,EAAsBF,aAA2BA,aAA3BA,QAA1B,KACIG,EAAmBH,WAAyBA,WAAzBA,QAAvB,KACII,EAAgBJ,QAAsBA,QAAtBA,QAApB,KACAA,0BAAuC,IAAI7B,MAA3C6B,cACAA,mBAA+BD,EAA/BC,kDAAgD,uGACxCK,EAAYpC,EAD4B,UAE5CA,wCAA0C,CAAC,CAACqC,UAAD,SAAsB/D,GAAI8D,EAA1B,UAA+CE,aAAc,CAAC,aAAc,WAA5E,SAAkGC,aAAc,CAACN,EAAqBC,EAAkBC,OAC/LnC,oCAHwC,IAGGwC,kCAAkCC,EAAlCD,IAHH,gCAItBA,kCAJsB,UAIxCJ,EAJwC,cAM5CM,sBAA8B,WAC1B1C,wCADJ0C,UAN4C,2CAAhDX,SAWJY,aAAc,YACVd,OAAO,YAAcC,EAArBD,IACA,IAAI7B,EAAJ,KACIoC,EAAYpI,KAAKoD,OAAO4E,QAA5B,oBACA,GAAIF,cAAoBM,EAAxB,UAEIM,gCAAwC,YAGpC,GAFA1C,+BAAiCoC,EAAjCpC,UADsD,wBAGtD,MAAIoC,aACA,IAAK,IAAI7C,EAAT,EAAgBA,EAAI6C,aAApB,OAAiD7C,IAC7CS,oBAAqBoC,aAArBpC,IAGR,SAAIoC,WACA,IAAS7C,EAAT,EAAgBA,EAAI6C,WAApB,OAA+C7C,IAC3CS,oBAAqBoC,WAArBpC,IAGR,SAAIoC,QACA,IAAS7C,EAAT,EAAgBA,EAAI6C,QAApB,OAA4C7C,IACxCS,oBAAqBoC,QAArBpC,IAGRA,yCACIA,EAAJ,WAEIA,4CAEAA,eAAgB,CAAClF,KAAM,iBAvB/B4H,YA0BG,CAEH,IAAIT,EAAsBG,aAAuBA,aAAvBA,QAA1B,KACIF,EAAmBE,WAAqBA,WAArBA,QAAvB,KACID,EAAgBC,QAAkBA,QAAlBA,QAApB,KACApI,KAAA,6CACAoI,0BAAmC,IAAIlC,MAAvCkC,cACAA,mBAA2BN,EAA3BM,kDAA4C,uGACxCA,cAAsBN,EAAtBM,WACApC,wCAA0C,CACtC,CAACqC,UAAD,SAAsBhE,IAAKyD,GAC3B,CAACO,UAAD,SAAsB/D,GAAI8D,EAA1B,UAA+CE,aAAc,CAAC,aAAc,WAA5E,SAAkGC,aAAc,CAACN,EAAqBC,EAAtI,GAAwKU,aAAc,CAACR,EAAD,WAAuBA,EAAvB,SAA2CA,EAA3C,UAE1LpC,oBAAqB8B,EAArB9B,WACAA,gCAAkC8B,EAAlC9B,kCACAA,kDACI6C,EAToC,GAUpC7C,oCAVoC,IAUOwC,kCAAkCJ,EAAlCI,IAVP,iCAWZA,kCAXY,UAWpCK,EAXoC,eAaxCH,sBAAoC,WAChC1C,wCADJ0C,UAbwC,4CAA5CN,a","file":"js/chunk-57f94815.9e6819f7.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lode__hierarchy\",class:{'is-dragging': _vm.dragging}},[_c('div',{staticClass:\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\"},[((_vm.canEdit && _vm.view !== 'import') || _vm.queryParams.select)?_c('div',{staticClass:\"column is-narrow\",attrs:{\"id\":\"check-radio-all-column\"}},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectAll),expression:\"selectAll\"}],staticClass:\"is-checkradio\",attrs:{\"id\":\"selectAllCheckbox\",\"type\":\"checkbox\",\"name\":\"selectAllCheckbox\"},domProps:{\"checked\":Array.isArray(_vm.selectAll)?_vm._i(_vm.selectAll,null)>-1:(_vm.selectAll)},on:{\"change\":function($event){var $$a=_vm.selectAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectAll=$$c}}}}),_c('label',{attrs:{\"for\":\"selectAllCheckbox\"}})])]):_vm._e(),_c('div',{staticClass:\"column is-narrow\"},[(_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=false}}},[_c('i',{staticClass:\"fa fa-caret-down has-text-primary is-size-2\"})]):(!_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=true}}},[_c('i',{staticClass:\"fa fa-caret-right has-text-primary is-size-2\"})]):_c('div',{staticClass:\"icon is-vcentered\"},[_c('i',{staticClass:\"fa fa-circle is-size-6 has-text-light\"})]),(_vm.selectButtonText)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('select-button-click', _vm.selectedArray)}}},[_vm._v(\" \"+_vm._s(_vm.selectButtonText)+\" \")]):_vm._e()]),_c('div',{staticClass:\"column is-narrow\"},[_c('div',{staticClass:\"buttons\"},[(_vm.multipleSelected && !_vm.addingNode && _vm.view !== 'import' && _vm.canEdit)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('edit-multiple-event')}}},[_vm._m(0),_c('span',[_vm._v(\" Edit multiple \")])]):_vm._e(),(!_vm.addingNode && _vm.canEdit && !_vm.multipleSelected)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){_vm.addingNode = true;}}},[_vm._m(1),_c('span',[_vm._v(\" \"+_vm._s(_vm.addConceptOrChildText)+\" \")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-dark \",on:{\"click\":function($event){_vm.addingNode = false;}}},[_vm._m(2),_c('span',[_vm._v(\"cancel\")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-primary \",on:{\"click\":_vm.onClickCreateNew}},[_vm._m(3),_c('span',[_vm._v(\" create new \")])]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canCopyOrCut ? 'is-primary' : 'is-disabled',attrs:{\"disabled\":!_vm.canCopyOrCut,\"title\":\"Copy competency\"},on:{\"click\":_vm.copyClick}},[_vm._m(4)]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canCopyOrCut ? 'is-primary' : 'is-disabled',attrs:{\"title\":\"Cut competency\",\"disabled\":!_vm.canCopyOrCut},on:{\"click\":_vm.cutClick}},[_vm._m(5)]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined \",class:_vm.canPaste ? 'is-primary' : 'is-disabled',attrs:{\"disabled\":!_vm.canPaste,\"title\":\"Paste competency\"},on:{\"click\":_vm.pasteClick}},[_vm._m(6)]):_vm._e()])]),(_vm.view === 'import')?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\" button is-light is-pulled-right is-dark is-outlined\",on:{\"click\":_vm.cancelImport}},[_c('span',[_vm._v(\" Cancel \")]),_vm._m(7)]),_c('div',{staticClass:\"button is-dark is-outlined is-pulled-right\",on:{\"click\":function($event){return _vm.$store.dispatch('app/clearImport')}}},[_c('span',[_vm._v(\" import again \")]),_vm._m(8)]),_c('div',{staticClass:\"button is-dark is-outlined is-pulled-right\",on:{\"click\":_vm.openFramework}},[_c('span',[_vm._v(\"view in editor\")]),_vm._m(9)]),_c('router-link',{staticClass:\"button is-primary is-outlined is -pulled-right\",attrs:{\"to\":{path: '/concepts', query: _vm.queryParams}}},[_c('span',[_vm._v(\" Done \")]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-home\"})])])],1)])]):_vm._e()]),(_vm.hierarchy)?[_c('draggable',_vm._b({staticClass:\"lode__hierarchy-ul\",attrs:{\"tag\":\"ul\",\"disabled\":_vm.canEdit !== true || !_vm.isDraggable,\"group\":{ name: 'test' },\"handle\":\".handle\"},on:{\"start\":_vm.beginDrag,\"end\":_vm.endDrag},model:{value:(_vm.hierarchy),callback:function ($$v) {_vm.hierarchy=$$v},expression:\"hierarchy\"}},'draggable',_vm.dragOptions,false),_vm._l((_vm.hierarchy),function(item,index){return _c('HierarchyNode',{key:item.obj.id,staticClass:\"lode__hierarchy-li\",attrs:{\"depth\":1,\"view\":_vm.view,\"subview\":_vm.subview,\"obj\":item.obj,\"dragging\":_vm.dragging,\"canEdit\":_vm.canEdit,\"hasChild\":item.children,\"profile\":_vm.profile,\"highlightList\":_vm.highlightList,\"selectAll\":_vm.selectAll,\"newFramework\":_vm.newFramework,\"index\":index,\"frameworkEditable\":_vm.canEdit,\"selectedArray\":_vm.selectedArray,\"parentStructure\":_vm.hierarchy,\"parent\":_vm.container,\"properties\":_vm.properties,\"expandAll\":_vm.expanded==true,\"parentChecked\":false,\"shiftKey\":_vm.shiftKey,\"arrowKey\":_vm.arrowKey},on:{\"create-new-node-event\":_vm.onCreateNewNode,\"mounting-node\":_vm.handleMountingNode,\"add\":_vm.add,\"begin-drag\":_vm.beginDrag,\"move\":_vm.move,\"select\":_vm.select,\"draggable-check\":_vm.onDraggableCheck}})}),1)]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-cog\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-copy\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas handle fa-cut\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-paste\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-redo-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-edit\"})])}]\n\nexport { render, staticRenderFns }","<template>\n    <div\n        class=\"lode__hierarchy\"\n        :class=\"{'is-dragging': dragging}\">\n        <div\n            class=\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\">\n            <!-- CONTROLS FOR SELECT: ENABLED MULTI EDIT  -->\n            <div\n                v-if=\"(canEdit && view !== 'import') || queryParams.select\"\n                id=\"check-radio-all-column\"\n                class=\"column is-narrow\">\n                <div\n                    class=\"field\">\n                    <input\n                        class=\"is-checkradio\"\n                        id=\"selectAllCheckbox\"\n                        type=\"checkbox\"\n                        name=\"selectAllCheckbox\"\n                        v-model=\"selectAll\">\n                    <label for=\"selectAllCheckbox\" />\n                </div>\n            </div>\n            <!-- CONTROLS FOR EXPAND  -->\n            <div class=\"column is-narrow\">\n                <div\n                    v-if=\"expanded\"\n                    class=\"icon is-vcentered\"\n                    @click=\"expanded=false\">\n                    <i class=\"fa fa-caret-down has-text-primary is-size-2\" />\n                </div>\n                <div\n                    v-else-if=\"!expanded\"\n                    class=\"icon is-vcentered\"\n                    @click=\"expanded=true\">\n                    <i class=\"fa fa-caret-right has-text-primary is-size-2\" />\n                </div>\n                <div\n                    v-else\n                    class=\"icon is-vcentered\">\n                    <i class=\"fa fa-circle is-size-6 has-text-light\" />\n                </div>\n                <div\n                    v-if=\"selectButtonText\"\n                    @click=\"$emit('select-button-click', selectedArray)\"\n                    class=\"button is-outlined is-primary\">\n                    {{ selectButtonText }}\n                </div>\n            </div>\n            <!-- MULTI EDIT BUTTONS -->\n            <div class=\"column is-narrow\">\n                <div\n                    class=\"buttons\">\n                    <div\n                        v-if=\"multipleSelected && !addingNode && view !== 'import' && canEdit\"\n                        @click=\"$emit('edit-multiple-event')\"\n                        class=\"button is-outlined is-primary\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-cog\" />\n                        </span>\n                        <span>\n                            Edit multiple\n                        </span>\n                    </div>\n                    <!-- if multiple are selected allow for edit multiple -->\n                    <div\n                        @click=\"addingNode = true;\"\n                        v-if=\"!addingNode && canEdit && !multipleSelected\"\n                        class=\"button is-outlined is-primary\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-plus-circle\" />\n                        </span>\n                        <span>\n                            {{ addConceptOrChildText }}\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"addingNode\"\n                        @click=\"addingNode = false;\"\n                        class=\"button is-outlined is-dark \">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-times\" />\n                        </span>\n                        <span>cancel</span>\n                    </div>\n                    <div\n                        v-if=\"addingNode\"\n                        @click=\"onClickCreateNew\"\n                        class=\"button is-outlined is-primary \">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-plus\" />\n                        </span>\n                        <span>\n                            create new\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"view === 'framework' || view === 'concept'\"\n                        :disabled=\"!canCopyOrCut\"\n                        title=\"Copy competency\"\n                        :class=\"canCopyOrCut ? 'is-primary' : 'is-disabled'\"\n                        class=\"button is-outlined\"\n                        @click=\"copyClick\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-copy\" />\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"view === 'framework' || view === 'concept'\"\n                        title=\"Cut competency\"\n                        :disabled=\"!canCopyOrCut\"\n                        class=\"button is-outlined\"\n                        :class=\"canCopyOrCut ? 'is-primary' : 'is-disabled'\"\n                        @click=\"cutClick\">\n                        <span class=\"icon\">\n                            <i class=\"fas handle fa-cut\" />\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"view === 'framework' || view === 'concept'\"\n                        :disabled=\"!canPaste\"\n                        class=\"button is-outlined \"\n                        @click=\"pasteClick\"\n                        :class=\"canPaste ? 'is-primary' : 'is-disabled'\"\n                        title=\"Paste competency\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-paste\" />\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <!-- IMPORT WORKFLOW BUTTONS -->\n            <div\n                class=\"column\"\n                v-if=\"view === 'import'\">\n                <div class=\"buttons is-right\">\n                    <!-- import details options -->\n                    <div\n                        class=\"buttons is-right\">\n                        <!-- cancel button -->\n                        <div\n                            @click=\"cancelImport\"\n                            class=\" button is-light is-pulled-right is-dark is-outlined\">\n                            <span>\n                                Cancel\n                            </span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-times-circle\" />\n                            </span>\n                        </div>\n                        <!--  start over -->\n                        <div\n                            @click=\"$store.dispatch('app/clearImport')\"\n                            class=\"button is-dark is-outlined is-pulled-right\">\n                            <span>\n                                import again\n                            </span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-redo-alt\" />\n                            </span>\n                        </div>\n                        <!-- open in editor -->\n                        <div\n                            @click=\"openFramework\"\n                            class=\"button is-dark is-outlined is-pulled-right\">\n                            <span>view in editor</span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-edit\" />\n                            </span>\n                        </div>\n                        <!--  home -->\n                        <router-link\n                            class=\"button is-primary is-outlined is -pulled-right\"\n                            :to=\"{path: '/concepts', query: queryParams}\">\n                            <span>\n                                Done\n                            </span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-home\" />\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <template\n            v-if=\"hierarchy\">\n            <draggable\n                v-bind=\"dragOptions\"\n                v-model=\"hierarchy\"\n                tag=\"ul\"\n                class=\"lode__hierarchy-ul\"\n                :disabled=\"canEdit !== true || !isDraggable\"\n                :group=\"{ name: 'test' }\"\n                @start=\"beginDrag\"\n                handle=\".handle\"\n                @end=\"endDrag\">\n                <HierarchyNode\n                    :depth=\"1\"\n                    :view=\"view\"\n                    @create-new-node-event=\"onCreateNewNode\"\n                    :subview=\"subview\"\n                    @mounting-node=\"handleMountingNode\"\n                    v-for=\"(item, index) in hierarchy\"\n                    :key=\"item.obj.id\"\n                    :obj=\"item.obj\"\n                    class=\"lode__hierarchy-li\"\n                    :dragging=\"dragging\"\n                    :canEdit=\"canEdit\"\n                    :hasChild=\"item.children\"\n                    :profile=\"profile\"\n                    :highlightList=\"highlightList\"\n                    :selectAll=\"selectAll\"\n                    :newFramework=\"newFramework\"\n                    :index=\"index\"\n                    :frameworkEditable=\"canEdit\"\n                    :selectedArray=\"selectedArray\"\n                    @add=\"add\"\n                    @begin-drag=\"beginDrag\"\n                    @move=\"move\"\n                    @select=\"select\"\n                    :parentStructure=\"hierarchy\"\n                    :parent=\"container\"\n                    @draggable-check=\"onDraggableCheck\"\n                    :properties=\"properties\"\n                    :expandAll=\"expanded==true\"\n                    :parentChecked=\"false\"\n                    :shiftKey=\"shiftKey\"\n                    :arrowKey=\"arrowKey\" />\n            </draggable>\n        </template>\n    </div>\n</template>\n<script>\n\nimport common from '@/mixins/common.js';\nimport competencyEdits from '@/mixins/competencyEdits.js';\nvar hierarchyTimeout;\nexport default {\n    name: 'ConceptHierarchy',\n    props: {\n        container: Object,\n        containerType: String,\n        repo: Object,\n        profile: Object,\n        highlightList: Array,\n        selectMode: Boolean,\n        selectAll: Boolean,\n        containerTypeGet: String,\n        viewOnly: Boolean,\n        newFramework: Boolean,\n        properties: String,\n        view: {\n            type: String,\n            default: 'framework'\n        },\n        subview: {\n            type: String,\n            default: ''\n        },\n        doneDragging: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data: function() {\n        return {\n            structure: [],\n            once: true,\n            dragging: false,\n            controlOnStart: false,\n            filter: 'showAll',\n            dragIcon: 'fa-arrows-alt',\n            dragOptions: {\n                delay: 100,\n                disabled: false,\n                ghostClass: 'ghost-drag',\n                chosenClass: 'chosen-drag',\n                dragClass: 'drag',\n                scrollSensitivity: 200,\n                forceFallback: true\n            },\n            multipleSelected: false,\n            addingNode: false,\n            selectedArray: [],\n            selectButtonText: null,\n            expanded: true,\n            isDraggable: true,\n            shiftKey: false,\n            arrowKey: null,\n            addConceptOrChildText: \"Add Concept\"\n        };\n    },\n    components: {\n        HierarchyNode: () => import('@/lode/components/HierarchyNode.vue'),\n        draggable: () => import('vuedraggable')\n    },\n    mixins: [common, competencyEdits],\n    computed: {\n        canCopyOrCut: function() {\n            if (this.selectedArray && this.selectedArray.length === 1) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        canPaste: function() {\n            if ((this.$store.getters['editor/copyId'] !== null || this.$store.getters['editor/cutId'] !== null) && this.$store.getters['editor/nodeInFocus'] !== null) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        queryParams: function() {\n            return this.$store.getters['editor/queryParams'];\n        },\n        addAnother: function() {\n            return this.$store.getters['editor/addAnother'];\n        },\n        hierarchy: function() {\n            var me = this;\n            if (this.container == null) return null;\n            if (!this.once) return this.structure;\n            appLog(\"Computing hierarchy.\");\n            var precache = [];\n            if (this.container[\"skos:hasTopConcept\"] != null) { precache = precache.concat(this.container[\"skos:hasTopConcept\"]); }\n            if (precache.length > 0) {\n                this.repo.multiget(precache, function(success) {\n                    me.computeHierarchy();\n                }, appError);\n            } else {\n                me.computeHierarchy();\n            }\n            return this.structure;\n        },\n        // True if the current client can edit this object.\n        canEdit: function() {\n            if (this.viewOnly === true) {\n                return false;\n            }\n            return this.container.canEditAny(EcIdentityManager.default.getMyPks());\n        },\n        recomputeHierarchy: function() {\n            return this.$store.getters['editor/recomputeHierarchy'];\n        }\n    },\n    watch: {\n        container: {\n            handler() {\n                this.once = true;\n            },\n            deep: true\n        },\n        selectedArray: function() {\n            if (this.selectedArray.length > 1) {\n                this.multipleSelected = true;\n            } else {\n                this.multipleSelected = false;\n            }\n            if (this.selectedArray.length === 1) {\n                this.addConceptOrChildText = \"Add Child\";\n            } else {\n                this.addConceptOrChildText = \"Add Concept\";\n            }\n            this.$emit('selected-array', this.selectedArray);\n        },\n        // Concepts can't just depend on fields on the container object like frameworks can for reactivity\n        recomputeHierarchy: function() {\n            if (this.recomputeHierarchy) {\n                this.once = true;\n                this.$store.commit('editor/recomputeHierarchy', false);\n            }\n        },\n        doneDragging: function() {\n            if (this.doneDragging) {\n                this.dragging = false;\n            }\n        },\n        addAnother: function(val) {\n            if (val) {\n                this.onClickCreateNew();\n                this.$store.commit('editor/addAnother', false);\n            }\n        }\n    },\n    mounted: function() {\n        if (this.queryParams) {\n            if (this.queryParams.singleSelect) {\n                this.selectButtonText = this.queryParams.singleSelect;\n            }\n            if (this.queryParams.select) {\n                if (this.queryParams.select !== \"\" && this.queryParams.select !== \"select\") {\n                    this.selectButtonText = this.queryParams.select;\n                }\n            }\n        }\n        window.addEventListener(\"keydown\", this.keydown);\n        window.addEventListener(\"keyup\", this.keyup);\n    },\n    beforeDestroy: function() {\n        window.removeEventListener('keyup', this.keyup);\n        window.removeEventListener('keydown', this.keydown);\n    },\n    methods: {\n        cutClick: function() {\n            if (this.selectedArray && this.selectedArray.length === 1) {\n                this.$store.commit('editor/cutId', this.selectedArray[0]);\n            }\n            this.$store.commit('editor/copyId', null);\n            this.$store.commit('editor/paste', false);\n        },\n        copyClick: function() {\n            if (this.selectedArray && this.selectedArray.length === 1) {\n                this.$store.commit('editor/copyId', this.selectedArray[0]);\n            }\n            this.$store.commit('editor/cutId', null);\n            this.$store.commit('editor/paste', false);\n        },\n        pasteClick: function() {\n            this.$store.commit('editor/paste', true);\n        },\n        keydown(e) {\n            if (this.canEdit) {\n                if (e.shiftKey) {\n                    this.shiftKey = true;\n                }\n                if (e.key.indexOf(\"Arrow\") !== -1 && e.shiftKey) {\n                    this.arrowKey = e.key;\n                }\n                if (e.key === \"x\" && e.ctrlKey) {\n                    if (this.selectedArray && this.selectedArray.length === 1) {\n                        this.$store.commit('editor/cutId', this.selectedArray[0]);\n                    }\n                    this.$store.commit('editor/copyId', null);\n                    this.$store.commit('editor/paste', false);\n                }\n                if (e.key === \"c\" && e.ctrlKey) {\n                    if (this.selectedArray && this.selectedArray.length === 1) {\n                        this.$store.commit('editor/copyId', this.selectedArray[0]);\n                    }\n                    this.$store.commit('editor/cutId', null);\n                    this.$store.commit('editor/paste', false);\n                }\n                if (e.key === \"v\" && e.ctrlKey) {\n                    this.$store.commit('editor/paste', true);\n                }\n            }\n        },\n        keyup(e) {\n            if (!e.shiftKey) {\n                this.shiftKey = false;\n            }\n            if (e.key.indexOf(\"Arrow\") !== -1) {\n                this.arrowKey = null;\n            }\n        },\n        onCreateNewNode: function(parentId, previousSiblingId) {\n            this.add(parentId, previousSiblingId);\n        },\n        /*\n         * when a child node is mounted it emits an event\n         * and a timeout is started\n         */\n        handleMountingNode: function() {\n            this.startTime();\n        },\n        /*\n         * each mount resets the timeout\n         * if the timeout length is met (no new nodes)\n         * the done loading event is triggered\n         */\n        startTime: function() {\n            hierarchyTimeout = setTimeout(() => {\n                this.$emit('done-loading-nodes');\n            }, 1000);\n        },\n        computeHierarchy: async function() {\n            let structure = [];\n            if (this.container == null) { return r; }\n            if (this.container[\"skos:hasTopConcept\"] !== null && this.container[\"skos:hasTopConcept\"] !== undefined) {\n                for (var i = 0; i < this.container[\"skos:hasTopConcept\"].length; i++) {\n                    var c = await EcConcept.get(this.container[\"skos:hasTopConcept\"][i]);\n                    if (c) {\n                        structure.push({\"obj\": c, \"children\": []});\n                        if (c[\"skos:narrower\"]) {\n                            this.addChildren(structure, c, i);\n                        }\n                    }\n                }\n            }\n            this.structure = structure;\n            this.once = false;\n        },\n        addChildren: async function(structure, c, i) {\n            for (var j = 0; j < c[\"skos:narrower\"].length; j++) {\n                var subC = await EcConcept.get(c[\"skos:narrower\"][j]);\n                structure[i].children.push({\"obj\": subC, \"children\": []});\n                if (subC && subC[\"skos:narrower\"]) {\n                    this.addChildren(structure[i].children, subC, j);\n                }\n            }\n        },\n        // WARNING: The Daemon of OBO lingers in these here drag and move methods. The library moves the objects, and OBO will then come get you!\n        beginDrag: function(event) {\n            this.dragging = true;\n            if (event !== undefined) {\n                this.controlOnStart = event.originalEvent.ctrlKey || event.originalEvent.shiftKey;\n            }\n        },\n        endDrag: function(foo) {\n            if (foo.to.id === 'framework_drag') {\n                this.dragging = false;\n                return;\n            }\n            appLog(foo.oldIndex, foo.newIndex);\n            var toId = null;\n            var toLast = false;\n            if (this.shiftKey) {\n                this.controlOnStart = true;\n            }\n            if (foo.from.id === foo.to.id) {\n                if (foo.newIndex + 1 < this.hierarchy.length) {\n                    toId = this.hierarchy[foo.newIndex + 1].obj.shortId();\n                } else if (foo.newIndex === this.hierarchy.length - 1) {\n                    toLast = true;\n                }\n            } else {\n                if (foo.to.children[foo.newIndex] === undefined) {\n                    toId = foo.to.id;\n                } else {\n                    if (foo.newIndex + 1 < foo.to.children.length) {\n                        toId = foo.to.children[foo.newIndex + 1].id;\n                    }\n                }\n            }\n            this.move(\n                this.hierarchy[foo.oldIndex].obj.shortId(),\n                toId,\n                foo.from.id,\n                foo.to.id,\n                !this.controlOnStart, toLast);\n        },\n        move: async function(fromId, toId, fromContainerId, toContainerId, removeOldRelations, toLast) {\n            this.once = true;\n            var me = this;\n            if (fromContainerId === toContainerId) {\n                var container = toContainerId ? await EcRepository.get(toContainerId) : this.container;\n                var property = \"skos:narrower\";\n                if (container.type === \"ConceptScheme\") {\n                    container = this.container;\n                    property = \"skos:hasTopConcept\";\n                }\n                var initialValue = container[property] ? container[property].slice() : null;\n                var fromIndex = container[property].indexOf(fromId);\n                container[property].splice(fromIndex, 1);\n                if (toId == null || toId === undefined) {\n                    if (!EcArray.isArray(container[property])) {\n                        container[property] = [];\n                    }\n                    container[property].push(fromId);\n                } else {\n                    if (toLast) {\n                        container[property].push(fromId);\n                    } else {\n                        var toIndex = container[property].indexOf(toId);\n                        container[property].splice(toIndex, 0, fromId);\n                    }\n                }\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: container.shortId(), fieldChanged: [property], initialValue: [initialValue]}]);\n                container[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[container.id] !== true) {\n                    container = await EcEncryptedValue.toEncryptedValue(container);\n                }\n                this.repo.saveTo(container, function() {\n                    me.computeHierarchy();\n                }, appError);\n            } else {\n                var moveComp = await EcConcept.get(fromId);\n                var fromContainer = fromContainerId ? await EcRepository.get(fromContainerId) : this.container;\n                var fromProperty = \"skos:narrower\";\n                var fromProperty2 = \"skos:broader\";\n                var toContainer = toContainerId ? await EcRepository.get(toContainerId) : this.container;\n                var toProperty = \"skos:narrower\";\n                var toProperty2 = \"skos:broader\";\n                if (fromContainer.type === \"ConceptScheme\") {\n                    fromContainer = this.container;\n                    fromProperty = \"skos:hasTopConcept\";\n                    fromProperty2 = \"skos:topConceptOf\";\n                }\n                if (toContainer.type === \"ConceptScheme\") {\n                    toContainer = this.container;\n                    toProperty = \"skos:hasTopConcept\";\n                    toProperty2 = \"skos:topConceptOf\";\n                }\n                var fromIndex = fromContainer[fromProperty].indexOf(fromId);\n                var fromPropInitialValue = fromContainer[fromProperty].slice();\n                var fromProp2InitialValue = moveComp[fromProperty2] ? moveComp[fromProperty2].slice() : null;\n                var toPropInitialValue = toContainer[toProperty] ? toContainer[toProperty].slice() : null;\n                var toProp2InitialValue = moveComp[toProperty2] ? moveComp[toProperty2].slice() : null;\n                if (removeOldRelations) {\n                    fromContainer[fromProperty].splice(fromIndex, 1);\n                }\n                if (fromContainerId && moveComp[fromProperty2]) {\n                    if (removeOldRelations) {\n                        EcArray.setRemove(moveComp[fromProperty2], fromContainerId);\n                    }\n                    if (moveComp[fromProperty2].length === 0) {\n                        delete moveComp[fromProperty2];\n                    }\n                } else {\n                    delete moveComp[fromProperty2];\n                }\n                fromContainer[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[fromContainer.id] !== true) {\n                    fromContainer = await EcEncryptedValue.toEncryptedValue(fromContainer);\n                }\n                this.repo.saveTo(fromContainer, async function() {\n                    if (toId == null || toId === undefined) {\n                        if (!EcArray.isArray(toContainer[toProperty])) {\n                            toContainer[toProperty] = [];\n                        }\n                        toContainer[toProperty].push(fromId);\n                    } else {\n                        var toIndex = toContainer[toProperty].indexOf(toId);\n                        toContainer[toProperty].splice(toIndex, 0, fromId);\n                    }\n                    if (toContainer.type === \"ConceptScheme\") {\n                        moveComp[toProperty2] = toContainerId;\n                    } else {\n                        if (!EcArray.isArray(moveComp[toProperty2])) {\n                            moveComp[toProperty2] = [];\n                        }\n                        if (toContainerId) {\n                            moveComp[toProperty2].push(toContainerId);\n                        }\n                    }\n                    me.$store.commit('editor/addEditsToUndo', [\n                        {operation: \"update\", id: fromContainer.shortId(), fieldChanged: [fromProperty], initialValue: [fromPropInitialValue]},\n                        {operation: \"update\", id: toContainer.shortId(), fieldChanged: [toProperty], initialValue: [toPropInitialValue]},\n                        {operation: \"update\", id: moveComp.shortId(), fieldChanged: [fromProperty2, toProperty2], initialValue: [fromProp2InitialValue, toProp2InitialValue]}\n                    ]);\n                    toContainer[\"schema:dateModified\"] = new Date().toISOString();\n                    moveComp[\"schema:dateModified\"] = new Date().toISOString();\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[toContainer.id] !== true) {\n                        toContainer = await EcEncryptedValue.toEncryptedValue(toContainer);\n                    }\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[moveComp.id] !== true) {\n                        moveComp = await EcEncryptedValue.toEncryptedValue(moveComp);\n                    }\n                    me.repo.saveTo(toContainer, function() {\n                        me.repo.saveTo(moveComp, appLog, appError);\n                        me.computeHierarchy();\n                    }, appLog);\n                }, appError);\n            }\n            this.dragging = false;\n        },\n        add: async function(containerId, previousSibling) {\n            var me = this;\n            var c = new EcConcept();\n            if (this.queryParams.newObjectEndpoint) {\n                c.generateShortId(this.queryParams.newObjectEndpoint);\n            } else {\n                c.generateId(this.repo.selectedServer);\n            }\n            c[\"schema:dateCreated\"] = new Date().toISOString();\n            c[\"schema:dateModified\"] = new Date().toISOString();\n            if (EcIdentityManager.default.ids != null && EcIdentityManager.default.ids.length > 0) {\n                c.addOwner(EcIdentityManager.default.ids[0].ppk.toPk());\n            }\n            if (this.container.owner && this.container.owner.length > 0) {\n                for (var j = 0; j < this.container.owner.length; j++) {\n                    var owner = this.container.owner[j];\n                    c.addOwner(EcPk.fromPem(owner));\n                }\n            }\n            if (this.container.reader && this.container.reader.length > 0) {\n                for (var j = 0; j < this.container.reader.length; j++) {\n                    var reader = this.container.reader[j];\n                    r.addReader(EcPk.fromPem(reader));\n                }\n            }\n            this.setDefaultLanguage();\n            c[\"skos:prefLabel\"] = {\"@language\": this.$store.state.editor.defaultLanguage, \"@value\": \"New Concept\"};\n            c[\"skos:inScheme\"] = this.container.shortId();\n            if (containerId === this.container.shortId()) {\n                var initialValue = this.container[\"skos:hasTopConcept\"] ? this.container[\"skos:hasTopConcept\"].slice() : null;\n                if (!EcArray.isArray(this.container[\"skos:hasTopConcept\"])) {\n                    this.container[\"skos:hasTopConcept\"] = [];\n                }\n                if (previousSibling == null || previousSibling === undefined) {\n                    this.container[\"skos:hasTopConcept\"].push(c.shortId());\n                } else {\n                    // Insert immediately after the sibling\n                    var index = this.container[\"skos:hasTopConcept\"].indexOf(previousSibling);\n                    this.container[\"skos:hasTopConcept\"].splice(index + 1, 0, c.shortId());\n                }\n                c[\"skos:topConceptOf\"] = this.container.shortId();\n                me.$store.commit('editor/addEditsToUndo', [\n                    {operation: \"addNew\", id: c.shortId()},\n                    {operation: \"update\", id: this.container.shortId(), fieldChanged: [\"skos:hasTopConcept\"], initialValue: [initialValue]}\n                ]);\n                this.container[\"schema:dateModified\"] = new Date().toISOString();\n                c[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true) {\n                    c = await EcEncryptedValue.toEncryptedValue(c);\n                    if (EcEncryptedValue.encryptOnSaveMap[me.container.id] !== true) {\n                        me.container = await EcEncryptedValue.toEncryptedValue(me.container);\n                    }\n                }\n                this.repo.saveTo(c, function() {\n                    me.repo.saveTo(me.container, function() {\n                        me.once = true;\n                    }, appError);\n                }, appError);\n            } else {\n                c[\"skos:broader\"] = [containerId];\n                var parent = await EcConcept.get(containerId);\n                var initialValue = parent[\"skos:narrower\"] ? parent[\"skos:narrower\"].slice() : null;\n                if (!EcArray.isArray(parent[\"skos:narrower\"])) {\n                    parent[\"skos:narrower\"] = [];\n                }\n                if (previousSibling == null || previousSibling === undefined) {\n                    parent[\"skos:narrower\"].push(c.shortId());\n                } else {\n                    // Insert immediately after the sibling\n                    var index = parent[\"skos:narrower\"].indexOf(previousSibling);\n                    parent[\"skos:narrower\"].splice(index + 1, 0, c.shortId());\n                }\n                me.$store.commit('editor/addEditsToUndo', [\n                    {operation: \"addNew\", id: c.shortId()},\n                    {operation: \"update\", id: parent.shortId(), fieldChanged: [\"skos:narrower\"], initialValue: [initialValue]}\n                ]);\n                this.container[\"schema:dateModified\"] = new Date().toISOString();\n                c[\"schema:dateModified\"] = new Date().toISOString();\n                parent[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true) {\n                    c = await EcEncryptedValue.toEncryptedValue(c);\n                    if (EcEncryptedValue.encryptOnSaveMap[parent.id] !== true) {\n                        parent = await EcEncryptedValue.toEncryptedValue(parent);\n                    }\n                    if (EcEncryptedValue.encryptOnSaveMap[me.container.id] !== true) {\n                        me.container = await EcEncryptedValue.toEncryptedValue(me.container);\n                    }\n                }\n                this.repo.saveTo(c, function() {\n                    me.repo.saveTo(parent, function() {\n                        me.repo.saveTo(me.container, function() {\n                            me.once = true;\n                        }, appError);\n                    }, appError);\n                }, appError);\n            }\n            this.$store.commit(\"editor/newCompetency\", c.shortId());\n            appLog(\"Added node: \", JSON.parse(c.toJson()));\n        },\n        select: function(objId, checked) {\n            if (checked) {\n                EcArray.setAdd(this.selectedArray, objId);\n            } else {\n                EcArray.setRemove(this.selectedArray, objId);\n            }\n        },\n        onDraggableCheck: function(checked) {\n            this.isDraggable = checked;\n        },\n        cancelImport: function() {\n            this.deleteObject(this.container);\n            this.$store.dispatch('app/clearImport');\n        },\n        openFramework: async function() {\n            var f = await EcConceptScheme.get(this.container.shortId());\n            this.$store.commit('editor/framework', f);\n            this.$router.push({name: \"conceptScheme\", params: {frameworkId: this.container.id}});\n        },\n        onClickCreateNew: function() {\n            let parent = this.container.shortId();\n            if (this.selectedArray.length === 1) {\n                parent = this.selectedArray[0];\n            }\n            this.add(parent, null);\n            this.addingNode = false;\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n    @import './../../scss/variables.scss';\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConceptHierarchy.vue?vue&type=template&id=42d2fb36&\"\nimport script from \"./ConceptHierarchy.vue?vue&type=script&lang=js&\"\nexport * from \"./ConceptHierarchy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConceptHierarchy.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import common from '@/mixins/common.js';\nexport default {\n    mixins: [common],\n    methods: {\n        removeObject: function(thing) {\n            // Remove from container but don't delete\n            appLog(\"removing \" + thing.id);\n            var me = this;\n            var thisFramework = this.$store.getters['editor/framework'];\n            var initialCompetencies = thisFramework.competency ? thisFramework.competency.slice() : null;\n            var initialRelations = thisFramework.relation ? thisFramework.relation.slice() : null;\n            var initialLevels = thisFramework.level ? thisFramework.level.slice() : null;\n            thisFramework[\"schema:dateModified\"] = new Date().toISOString();\n            thisFramework.removeCompetency(thing.shortId(), async function() {\n                var framework = me.framework;\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels]}]);\n                if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[f.id] !== true) {\n                    framework = await EcEncryptedValue.toEncryptedValue(framework);\n                }\n                window.repo.saveTo(framework, function() {\n                    me.$store.commit('editor/framework', thisFramework);\n                }, appError);\n            }, appLog);\n        },\n        deleteObject: function(thing) {\n            appLog(\"deleting \" + thing.id);\n            var me = this;\n            var framework = this.$store.getters['editor/framework'];\n            if (thing.shortId() === framework.shortId()) {\n                // delete framework\n                window.repo.deleteRegistered(framework, function(success) {\n                    me.spitEvent(\"frameworkDeleted\", framework.shortId(), \"editFrameworkSection\");\n                    // Delete the framework, delete all non-used stuff.\n                    if (framework.competency != null) {\n                        for (var i = 0; i < framework.competency.length; i++) {\n                            me.conditionalDelete(framework.competency[i]);\n                        }\n                    }\n                    if (framework.relation != null) {\n                        for (var i = 0; i < framework.relation.length; i++) {\n                            me.conditionalDelete(framework.relation[i]);\n                        }\n                    }\n                    if (framework.level != null) {\n                        for (var i = 0; i < framework.level.length; i++) {\n                            me.conditionalDelete(framework.level[i]);\n                        }\n                    }\n                    me.$store.commit('editor/framework', null);\n                    if (me.importType) {\n                        // Calling function from import page\n                        me.$store.commit('app/importFramework', null);\n                    } else {\n                        me.$router.push({name: \"frameworks\"});\n                    }\n                }, appLog);\n            } else {\n                // Delete competency and relations\n                var initialCompetencies = framework.competency ? framework.competency.slice() : null;\n                var initialRelations = framework.relation ? framework.relation.slice() : null;\n                var initialLevels = framework.level ? framework.level.slice() : null;\n                this.$store.commit('editor/selectedCompetency', thing);\n                framework[\"schema:dateModified\"] = new Date().toISOString();\n                framework.removeCompetency(thing.shortId(), async function() {\n                    framework.removeLevel(thing.shortId());\n                    me.$store.commit('editor/addEditsToUndo', [\n                        {operation: \"delete\", obj: thing},\n                        {operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels], changedValue: [framework.competency, framework.relation, framework.level]}\n                    ]);\n                    me.conditionalDelete(thing.shortId());\n                    me.spitEvent(\"competencyDeleted\", thing.shortId(), \"editFrameworkSection\");\n                    me.$store.commit('editor/selectedCompetency', null);\n                    var frameworkToSave = framework;\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                        frameworkToSave = await EcEncryptedValue.toEncryptedValue(framework);\n                    }\n                    window.repo.saveTo(frameworkToSave, function() {\n                        me.$store.commit('editor/framework', framework);\n                    }, appError);\n                }, appLog);\n            }\n        }\n    }\n};"],"sourceRoot":""}