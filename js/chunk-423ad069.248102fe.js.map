{"version":3,"sources":["webpack:///./src/lode/components/lode/Hierarchy.vue?2157","webpack:///./src/lode/components/lode/Hierarchy.vue?679e","webpack:///src/lode/components/lode/Hierarchy.vue","webpack:///./src/lode/components/lode/Hierarchy.vue?5964","webpack:///./src/lode/components/lode/Hierarchy.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","canEdit","view","directives","name","rawName","value","expression","attrs","domProps","Array","isArray","selectAll","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_e","expanded","$emit","selectedArray","_v","_s","selectButtonText","class","filter","filterHierarchy","_m","subview","alignmentsToSave","length","changeFrameworkSource","changeFrameworkTarget","multipleSelected","addingNode","add","container","shortId","clickToSearch","$store","dispatch","importType","importStatus","showModal","openFramework","commit","_b","isDraggable","beginDrag","endDrag","model","callback","hierarchy","dragOptions","_l","item","index","key","obj","id","dragging","children","profile","exportOptions","highlightList","newFramework","properties","onCreateNewNode","handleMountingNode","move","select","deleteObject","removeObject","exportObject","onDraggableCheck","staticRenderFns","component"],"mappings":"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","file":"js/chunk-423ad069.248102fe.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hierarchy.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hierarchy.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lode__hierarchy\"},[_c('div',{staticClass:\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\"},[_c('div',{staticClass:\"column is-narrow\"},[(_vm.canEdit && _vm.view !== 'importPreview' && _vm.view !== 'importLight' && _vm.view !== 'crosswalk')?_c('div',{staticClass:\"check-radio-all-column\"},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectAll),expression:\"selectAll\"}],staticClass:\"is-checkradio\",attrs:{\"id\":\"selectAllCheckbox\",\"type\":\"checkbox\",\"name\":\"selectAllCheckbox\"},domProps:{\"checked\":Array.isArray(_vm.selectAll)?_vm._i(_vm.selectAll,null)>-1:(_vm.selectAll)},on:{\"change\":function($event){var $$a=_vm.selectAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectAll=$$c}}}}),_c('label',{attrs:{\"for\":\"selectAllCheckbox\"}})])]):_vm._e()]),_c('div',{staticClass:\"column is-narrow\"},[(_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=false}}},[_c('i',{staticClass:\"fa fa-caret-down has-text-primary is-size-2\"})]):(!_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=true}}},[_c('i',{staticClass:\"fa fa-caret-right has-text-primary is-size-2\"})]):_c('div',{staticClass:\"icon is-vcentered\"},[_c('i',{staticClass:\"fa fa-circle is-size-7 has-text-light\"})]),(_vm.selectButtonText)?_c('div',{staticClass:\"button is-small is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('selectButtonClick', _vm.selectedArray)}}},[_vm._v(\"\\n                \"+_vm._s(_vm.selectButtonText)+\"\\n            \")]):_vm._e()]),(_vm.view === 'crosswalk')?_c('div',{staticClass:\"crosswalk-buttons column is-fullwidth\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\"button is-small is-outlined is-primary\",class:{'is-focused': _vm.filter === 'showAligned'},attrs:{\"title\":\"show aligned only\"},on:{\"click\":function($event){return _vm.filterHierarchy('showAligned')}}},[_vm._m(0)]),_c('div',{staticClass:\"button is-small is-outlined is-primary\",class:{'is-focused': _vm.filter === 'showUnaligned'},attrs:{\"title\":\"show unaligned only\"},on:{\"click\":function($event){return _vm.filterHierarchy('showUnaligned')}}},[_vm._m(1)]),_c('div',{staticClass:\"button is-outlined is-small is-primary\",class:{'is-focused': _vm.filter === 'showAll'},attrs:{\"title\":\"show all\"},on:{\"click\":function($event){return _vm.filterHierarchy('showAll')}}},[_vm._m(2)]),(_vm.subview === 'crosswalkSource' && _vm.alignmentsToSave.length === 0)?_c('button',{staticClass:\"button is-small is-outlined is-dark\",attrs:{\"title\":\"change source\"},on:{\"click\":_vm.changeFrameworkSource}},[_vm._m(3)]):(_vm.subview === 'crosswalkTarget' && _vm.alignmentsToSave.length === 0)?_c('button',{staticClass:\"button is-small is-outlined is-dark\",attrs:{\"title\":\"change target\"},on:{\"click\":_vm.changeFrameworkTarget}},[_vm._m(4)]):_vm._e()])]):_vm._e(),(_vm.view !== 'crosswalk')?_c('div',{staticClass:\"column is-narrow\"},[_c('div',{staticClass:\"buttons\"},[(_vm.multipleSelected && _vm.view !== 'import' && _vm.canEdit)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('editMultipleEvent')}}},[_vm._m(5),_c('span',[_vm._v(\"\\n                        Edit multiple\\n                    \")])]):_vm._e(),(!_vm.addingNode && _vm.canEdit && !_vm.multipleSelected)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){_vm.addingNode = true;}}},[_vm._m(6),_c('span',[_vm._v(\"\\n                        Add Competency\\n                    \")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-dark \",on:{\"click\":function($event){_vm.addingNode = false;}}},[_vm._m(7),_c('span',[_vm._v(\"cancel\")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-primary \",on:{\"click\":function($event){_vm.add(_vm.container.shortId(), null); _vm.addingNode = false;}}},[_vm._m(8),_c('span',[_vm._v(\"\\n                        create new\\n                    \")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-primary \",on:{\"click\":_vm.clickToSearch}},[_vm._m(9),_c('span',[_vm._v(\"search competencies\")])]):_vm._e()])]):_vm._e(),(_vm.view === 'importPreview' || _vm.view === 'importLight')?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\"buttons is-small is-right\"},[_c('div',{staticClass:\" button is-light is-small is-pulled-right is-dark is-outlined\",on:{\"click\":function($event){return _vm.$store.dispatch('app/clearImport')}}},[_c('span',[_vm._v(\"\\n                            Cancel\\n                        \")]),_vm._m(10)]),(_vm.view === 'importLight' && (_vm.importType !== 'text' || (_vm.importType === 'text' && _vm.importStatus === 'Competency detected')))?_c('div',{staticClass:\"button is-small is-dark is-outlined is-pulled-right\",on:{\"click\":function($event){return _vm.showModal('export')}}},[_c('span',[_vm._v(\"\\n                            Export\\n                        \")]),_vm._m(11)]):_vm._e(),(_vm.view === 'importLight' && (_vm.importType !== 'text' || (_vm.importType === 'text' && _vm.importStatus === 'Competency detected')))?_c('div',{staticClass:\"button is-small is-dark is-outlined is-pulled-right\",on:{\"click\":function($event){return _vm.$store.dispatch('app/clearImport')}}},[_c('span',[_vm._v(\"\\n                            import again\\n                        \")]),_vm._m(12)]):_vm._e(),(_vm.view === 'importLight' && (_vm.importType !== 'text' || (_vm.importType === 'text' && _vm.importStatus === 'Competency detected')))?_c('div',{staticClass:\"button is-small is-dark is-outlined is-pulled-right\",on:{\"click\":_vm.openFramework}},[_c('span',[_vm._v(\"view in editor\")]),_vm._m(13)]):_vm._e(),(_vm.view === 'importPreview')?_c('div',{staticClass:\"button  is-small is-primary is-outlined is-pulled-right\",on:{\"click\":function($event){return _vm.$store.commit('app/importTransition', 'light')}}},[_c('span',[_vm._v(\"\\n                            done editing\\n                        \")]),_vm._m(14)]):_vm._e(),(_vm.view === 'importLight' && (_vm.importType !== 'text' || (_vm.importType === 'text' && _vm.importStatus === 'Competency detected')))?_c('router-link',{staticClass:\"button is-small is-primary is-outlined is -pulled-right\",attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\"\\n                            Done\\n                        \")]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-home\"})])]):_vm._e()],1)])]):_vm._e()]),_c('hr'),(_vm.hierarchy)?[_c('draggable',_vm._b({staticClass:\"lode__hierarchy-ul\",attrs:{\"tag\":\"ul\",\"disabled\":_vm.canEdit !== true || !_vm.isDraggable,\"group\":{ name: 'test' },\"handle\":\".handle\"},on:{\"start\":_vm.beginDrag,\"end\":_vm.endDrag},model:{value:(_vm.hierarchy),callback:function ($$v) {_vm.hierarchy=$$v},expression:\"hierarchy\"}},'draggable',_vm.dragOptions,false),_vm._l((_vm.hierarchy),function(item,index){return _c('HierarchyNode',{key:item.obj.id,staticClass:\"lode__hierarchy-li\",attrs:{\"view\":_vm.view,\"subview\":_vm.subview,\"obj\":item.obj,\"dragging\":_vm.dragging,\"canEdit\":_vm.canEdit,\"hasChild\":item.children,\"profile\":_vm.profile,\"exportOptions\":_vm.exportOptions,\"highlightList\":_vm.highlightList,\"selectAll\":_vm.selectAll,\"newFramework\":_vm.newFramework,\"index\":index,\"parentStructure\":_vm.hierarchy,\"parent\":_vm.container,\"frameworkEditable\":_vm.canEdit,\"filter\":_vm.filter,\"selectedArray\":_vm.selectedArray,\"properties\":_vm.properties,\"expandAll\":_vm.expanded==true,\"parentChecked\":false},on:{\"createNewNodeEvent\":_vm.onCreateNewNode,\"mountingNode\":_vm.handleMountingNode,\"beginDrag\":_vm.beginDrag,\"move\":_vm.move,\"select\":_vm.select,\"add\":_vm.add,\"deleteObject\":_vm.deleteObject,\"removeObject\":_vm.removeObject,\"exportObject\":_vm.exportObject,\"draggableCheck\":_vm.onDraggableCheck}})}),1)]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-link\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-unlink\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-list-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-exchange-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-exchange-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-cog\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-search\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-download\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-redo-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-edit\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-arrow-right\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"lode__hierarchy\">\r\n        <div\r\n            class=\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\">\r\n            <!-- CONTROLS FOR SELECT: ENABLED MULTI EDIT  -->\r\n            <div class=\"column is-narrow\">\r\n                <div\r\n                    v-if=\"canEdit && view !== 'importPreview' && view !== 'importLight' && view !== 'crosswalk'\"\r\n                    class=\"check-radio-all-column\">\r\n                    <div\r\n                        class=\"field\">\r\n                        <input\r\n                            class=\"is-checkradio\"\r\n                            id=\"selectAllCheckbox\"\r\n                            type=\"checkbox\"\r\n                            name=\"selectAllCheckbox\"\r\n                            v-model=\"selectAll\">\r\n                        <label for=\"selectAllCheckbox\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- CONTROLS FOR EXPAND  -->\r\n            <div class=\"column is-narrow\">\r\n                <div\r\n                    v-if=\"expanded\"\r\n                    class=\"icon is-vcentered\"\r\n                    @click=\"expanded=false\">\r\n                    <i class=\"fa fa-caret-down has-text-primary is-size-2\" />\r\n                </div>\r\n                <div\r\n                    v-else-if=\"!expanded\"\r\n                    class=\"icon is-vcentered\"\r\n                    @click=\"expanded=true\">\r\n                    <i class=\"fa fa-caret-right has-text-primary is-size-2\" />\r\n                </div>\r\n                <div\r\n                    v-else\r\n                    class=\"icon is-vcentered\">\r\n                    <i class=\"fa fa-circle is-size-7 has-text-light\" />\r\n                </div>\r\n                <div\r\n                    v-if=\"selectButtonText\"\r\n                    @click=\"$emit('selectButtonClick', selectedArray)\"\r\n                    class=\"button is-small is-outlined is-primary\">\r\n                    {{ selectButtonText }}\r\n                </div>\r\n            </div>\r\n            <!-- CROSSWALK CHANGE FRAMEWORK BUTTONS -->\r\n            <div\r\n                class=\"crosswalk-buttons column is-fullwidth\"\r\n                v-if=\"view === 'crosswalk'\">\r\n                <div class=\"buttons is-right\">\r\n                    <div\r\n                        @click=\"filterHierarchy('showAligned')\"\r\n                        title=\"show aligned only\"\r\n                        class=\"button is-small is-outlined is-primary\"\r\n                        :class=\"{'is-focused': filter === 'showAligned'}\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-link\" />\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        @click=\"filterHierarchy('showUnaligned')\"\r\n                        title=\"show unaligned only\"\r\n                        class=\"button is-small is-outlined is-primary\"\r\n                        :class=\"{'is-focused': filter === 'showUnaligned'}\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-unlink\" />\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        @click=\"filterHierarchy('showAll')\"\r\n                        title=\"show all\"\r\n                        class=\"button is-outlined is-small is-primary\"\r\n                        :class=\"{'is-focused': filter === 'showAll'}\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-list-alt\" />\r\n                        </span>\r\n                    </div>\r\n                    <button\r\n                        @click=\"changeFrameworkSource\"\r\n                        title=\"change source\"\r\n                        v-if=\"subview === 'crosswalkSource' && alignmentsToSave.length === 0\"\r\n                        class=\"button is-small is-outlined is-dark\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-exchange-alt\" />\r\n                        </span>\r\n                    </button>\r\n                    <button\r\n                        @click=\"changeFrameworkTarget\"\r\n                        title=\"change target\"\r\n                        v-else-if=\"subview === 'crosswalkTarget' && alignmentsToSave.length === 0\"\r\n                        class=\"button is-small is-outlined is-dark\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-exchange-alt\" />\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <!-- MULTI EDIT BUTTONS -->\r\n            <div\r\n                class=\"column is-narrow\"\r\n                v-if=\"view !== 'crosswalk'\">\r\n                <div\r\n                    class=\"buttons\">\r\n                    <div\r\n                        v-if=\"multipleSelected && view !== 'import' && canEdit\"\r\n                        @click=\"$emit('editMultipleEvent')\"\r\n                        class=\"button is-outlined is-primary\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-cog\" />\r\n                        </span>\r\n                        <span>\r\n                            Edit multiple\r\n                        </span>\r\n                    </div>\r\n                    <!-- if multiple are selected allow for edit multiple -->\r\n                    <div\r\n                        @click=\"addingNode = true;\"\r\n                        v-if=\"!addingNode && canEdit && !multipleSelected\"\r\n                        class=\"button is-outlined is-primary\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-plus-circle\" />\r\n                        </span>\r\n                        <span>\r\n                            Add Competency\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"addingNode\"\r\n                        @click=\"addingNode = false;\"\r\n                        class=\"button is-outlined is-dark \">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-times\" />\r\n                        </span>\r\n                        <span>cancel</span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"addingNode\"\r\n                        @click=\"add(container.shortId(), null); addingNode = false;\"\r\n                        class=\"button is-outlined is-primary \">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-plus\" />\r\n                        </span>\r\n                        <span>\r\n                            create new\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"addingNode\"\r\n                        @click=\"clickToSearch\"\r\n                        class=\"button is-outlined is-primary \">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-search\" />\r\n                        </span>\r\n                        <span>search competencies</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- IMPORT WORKFLOW BUTTONS -->\r\n            <div\r\n                class=\"column\"\r\n                v-if=\"view === 'importPreview' || view === 'importLight'\">\r\n                <div class=\"buttons is-right\">\r\n                    <!-- import details options -->\r\n                    <div\r\n                        class=\"buttons is-small is-right\">\r\n                        <!-- cancel button -->\r\n                        <div\r\n                            @click=\"$store.dispatch('app/clearImport')\"\r\n                            class=\" button is-light is-small is-pulled-right is-dark is-outlined\">\r\n                            <span>\r\n                                Cancel\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-times-circle\" />\r\n                            </span>\r\n                        </div>\r\n                        <!-- export -->\r\n                        <div\r\n                            v-if=\"view === 'importLight' && (importType !== 'text' || (importType === 'text' && importStatus === 'Competency detected'))\"\r\n                            class=\"button is-small is-dark is-outlined is-pulled-right\"\r\n                            @click=\"showModal('export')\">\r\n                            <span>\r\n                                Export\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-download\" />\r\n                            </span>\r\n                        </div>\r\n                        <!--  start over -->\r\n                        <div\r\n                            v-if=\"view === 'importLight' && (importType !== 'text' || (importType === 'text' && importStatus === 'Competency detected'))\"\r\n                            @click=\"$store.dispatch('app/clearImport')\"\r\n                            class=\"button is-small is-dark is-outlined is-pulled-right\">\r\n                            <span>\r\n                                import again\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-redo-alt\" />\r\n                            </span>\r\n                        </div>\r\n                        <!-- open in editor -->\r\n                        <div\r\n                            v-if=\"view === 'importLight' && (importType !== 'text' || (importType === 'text' && importStatus === 'Competency detected'))\"\r\n                            @click=\"openFramework\"\r\n                            class=\"button is-small is-dark is-outlined is-pulled-right\">\r\n                            <span>view in editor</span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-edit\" />\r\n                            </span>\r\n                        </div>\r\n                        <!--  accept preview -->\r\n                        <div\r\n                            @click=\"$store.commit('app/importTransition', 'light')\"\r\n                            v-if=\"view === 'importPreview'\"\r\n                            class=\"button  is-small is-primary is-outlined is-pulled-right\">\r\n                            <span>\r\n                                done editing\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-arrow-right\" />\r\n                            </span>\r\n                        </div>\r\n                        <!--  home -->\r\n                        <router-link\r\n                            v-if=\"view === 'importLight' && (importType !== 'text' || (importType === 'text' && importStatus === 'Competency detected'))\"\r\n                            class=\"button is-small is-primary is-outlined is -pulled-right\"\r\n                            to=\"/\">\r\n                            <span>\r\n                                Done\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-home\" />\r\n                            </span>\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <template\r\n            v-if=\"hierarchy\">\r\n            <draggable\r\n                v-bind=\"dragOptions\"\r\n                v-model=\"hierarchy\"\r\n                tag=\"ul\"\r\n                class=\"lode__hierarchy-ul\"\r\n                :disabled=\"canEdit !== true || !isDraggable\"\r\n                :group=\"{ name: 'test' }\"\r\n                @start=\"beginDrag\"\r\n                handle=\".handle\"\r\n                @end=\"endDrag\">\r\n                <!-- list complete item is required class\r\n                    transition groups don't play nice with nested  -->\r\n                <!--<transition-group\r\n                    type=\"transition\"\r\n                    :name=\"!dragging ? 'flip-list' : null\">-->\r\n                <HierarchyNode\r\n                    :view=\"view\"\r\n                    @createNewNodeEvent=\"onCreateNewNode\"\r\n                    :subview=\"subview\"\r\n                    @mountingNode=\"handleMountingNode\"\r\n                    v-for=\"(item, index) in hierarchy\"\r\n                    :key=\"item.obj.id\"\r\n                    :obj=\"item.obj\"\r\n                    class=\"lode__hierarchy-li\"\r\n                    :dragging=\"dragging\"\r\n                    :canEdit=\"canEdit\"\r\n                    :hasChild=\"item.children\"\r\n                    :profile=\"profile\"\r\n                    :exportOptions=\"exportOptions\"\r\n                    :highlightList=\"highlightList\"\r\n                    :selectAll=\"selectAll\"\r\n                    :newFramework=\"newFramework\"\r\n                    :index=\"index\"\r\n                    :parentStructure=\"hierarchy\"\r\n                    :parent=\"container\"\r\n                    :frameworkEditable=\"canEdit\"\r\n                    :filter=\"filter\"\r\n                    :selectedArray=\"selectedArray\"\r\n                    @beginDrag=\"beginDrag\"\r\n                    @move=\"move\"\r\n                    @select=\"select\"\r\n                    @add=\"add\"\r\n                    @deleteObject=\"deleteObject\"\r\n                    @removeObject=\"removeObject\"\r\n                    @exportObject=\"exportObject\"\r\n                    @draggableCheck=\"onDraggableCheck\"\r\n                    :properties=\"properties\"\r\n                    :expandAll=\"expanded==true\"\r\n                    :parentChecked=\"false\" />\r\n\r\n                <!--</transition-group>-->\r\n            </draggable>\r\n        </template>\r\n    </div>\r\n</template>\r\n<script>\r\nimport exports from '@/mixins/exports.js';\r\nimport common from '@/mixins/common.js';\r\nimport saveAs from 'file-saver';\r\n\r\nvar hierarchyTimeout;\r\nexport default {\r\n    name: 'Hierarchy',\r\n    mixins: [ exports, common ],\r\n    props: {\r\n        container: Object,\r\n        containerType: String,\r\n        containerTypeGet: String,\r\n        containerNodeProperty: String,\r\n        containerEdgeProperty: String,\r\n        nodeType: String,\r\n        edgeType: String,\r\n        edgeRelationProperty: String,\r\n        edgeSourceProperty: String,\r\n        edgeTargetProperty: String,\r\n        edgeRelationLiteral: String,\r\n        viewOnly: Boolean,\r\n        repo: Object,\r\n        profile: Object,\r\n        exportOptions: Array,\r\n        highlightList: Array,\r\n        newFramework: Boolean,\r\n        properties: String,\r\n        view: {\r\n            type: String,\r\n            default: 'framework'\r\n        },\r\n        subview: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    data: function() {\r\n        return {\r\n            filter: 'showAll',\r\n            dragIcon: 'fa-arrows-alt',\r\n            dragOptions: {\r\n                delay: 100,\r\n                disabled: false,\r\n                ghostClass: 'ghost-drag',\r\n                chosenClass: 'chosen-drag',\r\n                dragClass: 'drag',\r\n                scrollSensitivity: 200,\r\n                forceFallback: true\r\n            },\r\n            multipleSelected: false,\r\n            addingNode: false,\r\n            structure: [],\r\n            once: true,\r\n            dragging: false,\r\n            controlOnStart: false,\r\n            selectAll: false,\r\n            selectedArray: [],\r\n            selectButtonText: null,\r\n            expanded: true,\r\n            showAligned: false,\r\n            isDraggable: true,\r\n            frameworkExportOptions: [\r\n                {name: \"Achievement Standards Network (RDF+JSON)\", value: \"asn\"},\r\n                {name: \"CASS (JSON-LD)\", value: \"jsonld\"},\r\n                {name: \"CASS (RDF Quads)\", value: \"rdfQuads\"},\r\n                {name: \"CASS (RDF+JSON)\", value: \"rdfJson\"},\r\n                {name: \"CASS (RDF+XML)\", value: \"rdfXml\"},\r\n                {name: \"CASS (Turtle)\", value: \"turtle\"},\r\n                {name: \"Credential Engine ASN (JSON-LD)\", value: \"ctdlasnJsonld\"},\r\n                {name: \"Credential Engine ASN (CSV)\", value: \"ctdlasnCsv\"},\r\n                {name: \"Table (CSV)\", value: \"csv\"},\r\n                {name: \"IMS Global CASE (JSON)\", value: \"case\"}\r\n            ]\r\n        };\r\n    },\r\n    components: {\r\n        HierarchyNode: () => import('./HierarchyNode.vue'),\r\n        draggable: () => import('vuedraggable')},\r\n    watch: {\r\n        container: {\r\n            handler() {\r\n                this.once = true;\r\n            },\r\n            deep: true\r\n        },\r\n        selectedArray: function() {\r\n            if (this.selectedArray.length > 1) {\r\n                this.multipleSelected = true;\r\n            } else {\r\n                this.multipleSelected = false;\r\n            }\r\n            this.$emit('selectedArray', this.selectedArray);\r\n        }\r\n    },\r\n    computed: {\r\n        alignmentsToSave() {\r\n            if (this.$store.getters['crosswalk/alignmentsToSave']) {\r\n                return this.$store.getters['crosswalk/alignmentsToSave'];\r\n            } else {\r\n                return [];\r\n            }\r\n        },\r\n        showAddComments() {\r\n            if (this.$store.getters['editor/queryParams'].concepts === \"true\") {\r\n                return false;\r\n            }\r\n            return this.$store.state.app.canAddComments;\r\n        },\r\n        importType: function() {\r\n            return this.$store.getters['app/importType'];\r\n        },\r\n        importStatus: function() {\r\n            return this.$store.getters['app/importStatus'];\r\n        },\r\n        importTransition: function() {\r\n            return this.$store.getters['app/importTransition'];\r\n        },\r\n        queryParams: function() {\r\n            return this.$store.getters['editor/queryParams'];\r\n        },\r\n        hierarchy: function() {\r\n            var me = this;\r\n            if (this.container == null) return null;\r\n            if (!this.once) return this.structure;\r\n            console.log(\"Computing hierarchy.\");\r\n            var precache = [];\r\n            if (this.container[this.containerNodeProperty] != null) { precache = precache.concat(this.container[this.containerNodeProperty]); }\r\n            if (this.container[this.containerEdgeProperty] != null) { precache = precache.concat(this.container[this.containerEdgeProperty]); }\r\n            if (precache.length > 0) {\r\n                this.repo.multiget(precache, function(success) {\r\n                    me.computeHierarchy();\r\n                }, console.error, console.log);\r\n            } else {\r\n                me.computeHierarchy();\r\n            }\r\n            return this.structure;\r\n        },\r\n        // True if the current client can edit this object.\r\n        canEdit: function() {\r\n            if (this.viewOnly === true) {\r\n                return false;\r\n            }\r\n            return this.container.canEditAny(EcIdentityManager.getMyPks());\r\n        }\r\n    },\r\n    mounted: function() {\r\n        if (this.queryParams) {\r\n            if (this.queryParams.singleSelect) {\r\n                this.selectButtonText = this.queryParams.singleSelect;\r\n            }\r\n            if (this.queryParams.select) {\r\n                if (this.queryParams.select !== \"\" && this.queryParams.select !== \"select\") {\r\n                    this.selectButtonText = this.queryParams.select;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        showModal(val, data) {\r\n            let params = {};\r\n            if (val === 'export') {\r\n                params = {\r\n                    type: val,\r\n                    selectedExportOption: '',\r\n                    title: \"Export framework\",\r\n                    exportOptions: this.frameworkExportOptions,\r\n                    text: \"Select a file format to export your framework. Files download locally.\",\r\n                    onConfirm: (e) => {\r\n                        return this.exportObject(e);\r\n                    }\r\n                };\r\n            }\r\n            // reveal modal\r\n            this.$modal.show(params);\r\n        },\r\n        openFramework: function() {\r\n            var f = EcFramework.getBlocking(this.container.shortId());\r\n            this.$store.commit('editor/framework', f);\r\n            this.$router.push({name: \"framework\", params: {frameworkId: this.container.id}});\r\n        },\r\n        changeFrameworkTarget: function() {\r\n            this.$store.commit('crosswalk/step', 1);\r\n        },\r\n        changeFrameworkSource: function() {\r\n            this.$store.commit('crosswalk/step', 0);\r\n        },\r\n        filterHierarchy: function(typeOfFilter) {\r\n            // mightnot need val if I can watch something else for css updates on buttons\r\n            this.filter = typeOfFilter;\r\n        },\r\n        onCreateNewNode: function(parentId, previousSiblingId) {\r\n            this.add(parentId, previousSiblingId);\r\n        },\r\n        /*\r\n         * when a child node is mounted it emits an event\r\n         * and a timeout is started\r\n         */\r\n        handleMountingNode: function() {\r\n            this.startTime();\r\n        },\r\n        /*\r\n         * each mount resets the timeout\r\n         * if the timeout length is met (no new nodes)\r\n         * the done loading event is triggered\r\n         */\r\n        startTime: function() {\r\n            hierarchyTimeout = setTimeout(() => {\r\n                this.$emit('doneLoadingNodes');\r\n            }, 1000);\r\n        },\r\n        computeHierarchy: function() {\r\n            var me = this;\r\n            var r = {};\r\n            var top = {};\r\n            this.structure = [];\r\n            if (this.container == null) { return r; }\r\n            if (this.container[this.containerNodeProperty] !== null) {\r\n                for (var i = 0; i < this.container[this.containerNodeProperty].length; i++) {\r\n                    var c = window[this.nodeType].getBlocking(this.container[this.containerNodeProperty][i]);\r\n                    if (c !== null) { r[this.container[this.containerNodeProperty][i]] = r[c.shortId()] = top[c.shortId()] = c; }\r\n                }\r\n            }\r\n            if (this.container[this.containerEdgeProperty] != null) {\r\n                for (var i = 0; i < this.container[this.containerEdgeProperty].length; i++) {\r\n                    var a = null;\r\n                    a = window[this.edgeType].getBlocking(this.container[this.containerEdgeProperty][i]);\r\n                    if (a != null) {\r\n                        if (a[this.edgeRelationProperty] === this.edgeRelationLiteral) {\r\n                            if (r[a[this.edgeTargetProperty]] == null) continue;\r\n                            if (r[a[this.edgeSourceProperty]] == null) continue;\r\n                            if (r[a[this.edgeTargetProperty]]._children == null) { r[a[this.edgeTargetProperty]]._children = []; }\r\n                            r[a[this.edgeTargetProperty]]._children.push(r[a[this.edgeSourceProperty]]);\r\n                            delete top[a[this.edgeSourceProperty]];\r\n                        }\r\n                    } else {\r\n                        console.log(\"Hierarchy: Could not find edge: \" + this.container[this.containerEdgeProperty][i]);\r\n                    }\r\n                }\r\n            }\r\n            if (this.container[this.containerNodeProperty] != null) {\r\n                for (var i = 0; i < this.container[this.containerNodeProperty].length; i++) {\r\n                    if (!r[this.container[this.containerNodeProperty][i]] || r[this.container[this.containerNodeProperty][i]]._children == null) continue;\r\n                    r[this.container[this.containerNodeProperty][i]]._children.sort(function(a, b) {\r\n                        return me.container[me.containerNodeProperty].indexOf(a.shortId()) - me.container[me.containerNodeProperty].indexOf(b.shortId());\r\n                    });\r\n                }\r\n            }\r\n            this.structure.splice(0, this.structure.length);\r\n            var keys = EcObject.keys(top);\r\n            if (this.startingSpotUri != null) { this.structure.push(r[this.startingSpotUri]); } else {\r\n                for (var i = 0; i < keys.length; i++) { this.structure.push(top[keys[i]]); }\r\n            }\r\n            this.structure.sort(function(a, b) {\r\n                return me.container[me.containerNodeProperty].indexOf(a.shortId()) - me.container[me.containerNodeProperty].indexOf(b.shortId());\r\n            });\r\n            this.packChildren(this.structure);\r\n            this.once = false;\r\n        },\r\n        packChildren: function(item) {\r\n            if (item == null) return;\r\n            for (var i = 0; i < item.length; i++) {\r\n                item[i] = {\r\n                    obj: item[i],\r\n                    children: item[i]._children === undefined ? [] : item[i]._children\r\n                };\r\n                delete item[i].obj._children;\r\n            }\r\n            for (var i = 0; i < item.length; i++) {\r\n                this.packChildren(item[i].children);\r\n            }\r\n        },\r\n        // WARNING: The Daemon of OBO lingers in these here drag and move methods. The library moves the objects, and OBO will then come get you!\r\n        beginDrag: function() {\r\n            this.dragging = true;\r\n            if (event !== undefined) {\r\n                this.controlOnStart = event.originalEvent.ctrlKey || event.originalEvent.shiftKey;\r\n            }\r\n        },\r\n        endDrag: function(foo) {\r\n            console.log(foo.oldIndex, foo.newIndex);\r\n            var toId = null;\r\n            var plusup = 0;\r\n            if (foo.from.id === foo.to.id) {\r\n                if (foo.newIndex < this.hierarchy.length) {\r\n                    toId = this.hierarchy[foo.newIndex].obj.shortId();\r\n                }\r\n                plusup = 1;\r\n            } else {\r\n                if (foo.to.children[foo.newIndex] === undefined) {\r\n                    toId = foo.to.id;\r\n                } else {\r\n                    if (foo.newIndex + 1 < foo.to.children.length) {\r\n                        toId = foo.to.children[foo.newIndex + 1].id;\r\n                    }\r\n                }\r\n            }\r\n            this.move(\r\n                this.hierarchy[foo.oldIndex].obj.shortId(),\r\n                toId,\r\n                foo.from.id,\r\n                foo.to.id,\r\n                !this.controlOnStart, plusup);\r\n        },\r\n        // fromId is the id of the object you're moving. toId is the id of the object that will be immediately below this object after the move, at the same level of hierarchy.\r\n        move: function(fromId, toId, fromContainerId, toContainerId, removeOldRelations, plusup) {\r\n            this.once = true;\r\n            var me = this;\r\n            var initialCompetencies = me.container[me.containerNodeProperty] ? me.container[me.containerNodeProperty].slice() : null;\r\n            var initialRelations = me.container[me.containerEdgeProperty] ? me.container[me.containerEdgeProperty].slice() : null;\r\n            var addedEdges = [];\r\n            if (!EcArray.isArray(me.container[me.containerEdgeProperty])) {\r\n                me.container[me.containerEdgeProperty] = [];\r\n            }\r\n            if (fromId !== toId) {\r\n                var fromIndex = this.container[this.containerNodeProperty].indexOf(fromId);\r\n                console.log(fromIndex);\r\n                this.container[this.containerNodeProperty].splice(fromIndex, 1);\r\n                var toIndex = null;\r\n                if (toId == null || toId === undefined) {\r\n                    toIndex = -1;\r\n                } else {\r\n                    toIndex = this.container[this.containerNodeProperty].indexOf(toId);\r\n                }\r\n                console.log(toIndex);\r\n                if (plusup > 0 && fromIndex <= toIndex) { toIndex += plusup; }\r\n                if (plusup < 0 && fromIndex < toIndex) { toIndex += plusup; }\r\n                if (toIndex === -1) {\r\n                    this.container[this.containerNodeProperty].push(fromId);\r\n                } else {\r\n                    this.container[this.containerNodeProperty].splice(toIndex, 0, fromId);\r\n                }\r\n            }\r\n            if (fromContainerId !== toContainerId) {\r\n                if (removeOldRelations === true) {\r\n                    for (var i = 0; i < this.container[this.containerEdgeProperty].length; i++) {\r\n                        var a = window[this.edgeType].getBlocking(this.container[this.containerEdgeProperty][i]);\r\n                        if (a == null) { continue; }\r\n                        if (a[this.edgeRelationProperty] === this.edgeRelationLiteral) {\r\n                            if (a[this.edgeTargetProperty] == null) continue;\r\n                            if (a[this.edgeSourceProperty] == null) continue;\r\n                            if (a[this.edgeSourceProperty] !== fromId) continue;\r\n                            console.log(\"Identified edge to remove: \", JSON.parse(a.toJson()));\r\n                            this.container[this.containerEdgeProperty].splice(i--, 1);\r\n                        }\r\n                    }\r\n                }\r\n                if (toContainerId != null && toContainerId !== \"\") {\r\n                    var a = new window[this.edgeType]();\r\n                    if (EcIdentityManager.ids != null && EcIdentityManager.ids.length > 0) {\r\n                        a.addOwner(EcIdentityManager.ids[0].ppk.toPk());\r\n                    }\r\n                    if (this.container.owner && this.container.owner.length > 0) {\r\n                        for (var j = 0; j < this.container.owner.length; j++) {\r\n                            var owner = this.container.owner[j];\r\n                            a.addOwner(EcPk.fromPem(owner));\r\n                        }\r\n                    }\r\n                    if (this.container.reader && this.container.reader.length > 0) {\r\n                        for (var j = 0; j < this.container.reader.length; j++) {\r\n                            var reader = this.container.reader[j];\r\n                            a.addReader(EcPk.fromPem(reader));\r\n                        }\r\n                    }\r\n                    var source = window[this.nodeType].getBlocking(fromId);\r\n                    var target = window[this.nodeType].getBlocking(toContainerId);\r\n                    if (target != null && target !== undefined) {\r\n                        if (me.queryParams && me.queryParams.newObjectEndpoint) {\r\n                            a.generateShortId(this.queryParams.newObjectEndpoint);\r\n                        } else {\r\n                            a.assignId(me.repo.selectedServer, EcCrypto.md5(source.shortId()) + \"_\" + this.edgeRelationLiteral + \"_\" + EcCrypto.md5(target.shortId()));\r\n                        }\r\n                        a.source = source.shortId();\r\n                        a.target = target.shortId();\r\n                        a.relationType = this.edgeRelationLiteral;\r\n                        this.container[this.containerEdgeProperty].push(a.shortId());\r\n                        addedEdges.push(a.shortId());\r\n                        console.log(\"Added edge: \", JSON.parse(a.toJson()));\r\n                        if (this.$store.state.editor && this.$store.state.editor.private === true) {\r\n                            a = EcEncryptedValue.toEncryptedValue(a);\r\n                        }\r\n                        this.repo.saveTo(a, console.log, console.error);\r\n                    }\r\n                }\r\n            }\r\n            var stripped = this.stripEmptyArrays(this.container);\r\n            var edits = [];\r\n            for (var i = 0; i < addedEdges.length; i++) {\r\n                edits.push({operation: \"addNew\", id: addedEdges[i]});\r\n            }\r\n            edits.push(\r\n                {operation: \"update\", id: me.container.shortId(), fieldChanged: [\"competency\", \"relation\"], initialValue: [initialCompetencies, initialRelations], changedValue: [this.container.competency, this.container.relation]}\r\n            );\r\n            me.$store.commit('editor/addEditsToUndo', edits);\r\n            stripped[\"schema:dateModified\"] = new Date().toISOString();\r\n            if (this.$store.state.editor && this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[stripped.id] !== true) {\r\n                stripped = EcEncryptedValue.toEncryptedValue(stripped);\r\n            }\r\n            this.repo.saveTo(stripped, console.log, console.error);\r\n            this.dragging = false;\r\n        },\r\n        add: function(containerId, previousSibling) {\r\n            var me = this;\r\n            var c = new window[this.nodeType]();\r\n            var initialCompetencies = this.container.competency ? this.container.competency.slice() : null;\r\n            var initialRelations = this.container.relation ? this.container.relation.slice() : null;\r\n            if (this.queryParams) {\r\n                if (this.queryParams.newObjectEndpoint != null) {\r\n                    c.generateShortId(this.queryParams.newObjectEndpoint);\r\n                } else {\r\n                    c.generateId(this.repo.selectedServer);\r\n                }\r\n            } else {\r\n                c.generateId(this.repo.selectedServer);\r\n            }\r\n            if (EcIdentityManager.ids != null && EcIdentityManager.ids.length > 0) {\r\n                c.addOwner(EcIdentityManager.ids[0].ppk.toPk());\r\n            }\r\n            if (this.container.owner && this.container.owner.length > 0) {\r\n                for (var j = 0; j < this.container.owner.length; j++) {\r\n                    var owner = this.container.owner[j];\r\n                    c.addOwner(EcPk.fromPem(owner));\r\n                }\r\n            }\r\n            if (this.container.reader && this.container.reader.length > 0) {\r\n                for (var j = 0; j < this.container.reader.length; j++) {\r\n                    var reader = this.container.reader[j];\r\n                    c.addReader(EcPk.fromPem(reader));\r\n                }\r\n            }\r\n            if (!EcArray.isArray(me.container[me.containerNodeProperty])) {\r\n                me.container[me.containerNodeProperty] = [];\r\n            }\r\n            if (previousSibling == null || previousSibling === undefined) {\r\n                this.container[this.containerNodeProperty].unshift(c.shortId());\r\n            } else {\r\n                // Insert immediately after the sibling\r\n                var index = this.container[this.containerNodeProperty].indexOf(previousSibling);\r\n                this.container[this.containerNodeProperty].splice(index + 1, 0, c.shortId());\r\n            }\r\n            me.$store.commit('editor/addEditsToUndo', [\r\n                {operation: \"addNew\", id: c.shortId()},\r\n                {operation: \"update\", id: me.container.shortId(), fieldChanged: [\"competency\"], initialValue: [initialCompetencies], changedValue: [this.container.competency]}\r\n            ]);\r\n            var nodeType = this.nodeType;\r\n            if (this.nodeType.indexOf(\"Ec\") === 0) {\r\n                nodeType = this.nodeType.substring(2);\r\n            }\r\n            if (this.$store.state.editor && this.$store.state.editor.defaultLanguage) {\r\n                c.name = {\"@language\": this.$store.state.editor.defaultLanguage, \"@value\": \"New \" + nodeType};\r\n            } else {\r\n                c.name = \"New \" + nodeType;\r\n            }\r\n            c[\"schema:dateCreated\"] = new Date().toISOString();\r\n            c[\"schema:dateModified\"] = new Date().toISOString();\r\n            if (this.$store.state.editor.private === true) {\r\n                c = EcEncryptedValue.toEncryptedValue(c);\r\n            }\r\n            this.container[\"schema:dateModified\"] = new Date().toISOString();\r\n            console.log(\"Added node: \", JSON.parse(c.toJson()));\r\n            if (this.$store.state.editor) {\r\n                this.$store.commit(\"editor/newCompetency\", c.shortId());\r\n            }\r\n            if (this.$store.state.editor && this.$store.state.editor.private === true) {\r\n                c = EcEncryptedValue.toEncryptedValue(c);\r\n            }\r\n            this.repo.saveTo(c, function() {\r\n                if (containerId === me.container.shortId()) {\r\n                    var toSave = me.container;\r\n                    toSave[\"schema:dateModified\"] = new Date().toISOString();\r\n                    if (me.$store.state.editor && me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap(me.container.id) !== true) {\r\n                        toSave = EcEncryptedValue.toEncryptedValue(me.container);\r\n                    }\r\n                    me.repo.saveTo(me.stripEmptyArrays(toSave), function() {\r\n                        me.once = true;\r\n                    }, console.error);\r\n                } else {\r\n                    window[me.nodeType].get(c.id, function(node) {\r\n                        var a = new window[me.edgeType]();\r\n                        if (EcIdentityManager.ids != null && EcIdentityManager.ids.length > 0) {\r\n                            a.addOwner(EcIdentityManager.ids[0].ppk.toPk());\r\n                        }\r\n                        if (me.container.owner && me.container.owner.length > 0) {\r\n                            for (var j = 0; j < me.container.owner.length; j++) {\r\n                                var owner = me.container.owner[j];\r\n                                a.addOwner(EcPk.fromPem(owner));\r\n                            }\r\n                        }\r\n                        if (me.container.reader && me.container.reader.length > 0) {\r\n                            for (var j = 0; j < me.container.reader.length; j++) {\r\n                                var reader = me.container.reader[j];\r\n                                a.addReader(EcPk.fromPem(reader));\r\n                            }\r\n                        }\r\n                        var source = node;\r\n                        var target = window[me.nodeType].getBlocking(containerId);\r\n                        if (me.queryParams && me.queryParams.newObjectEndpoint) {\r\n                            a.generateShortId(me.queryParams.newObjectEndpoint);\r\n                        } else {\r\n                            a.assignId(me.repo.selectedServer, EcCrypto.md5(source.shortId()) + \"_\" + me.edgeRelationLiteral + \"_\" + EcCrypto.md5(target.shortId()));\r\n                        }\r\n                        a.source = source.shortId();\r\n                        a.target = target.shortId();\r\n                        a.relationType = me.edgeRelationLiteral;\r\n                        if (!EcArray.isArray(me.container[me.containerEdgeProperty])) {\r\n                            me.container[me.containerEdgeProperty] = [];\r\n                        }\r\n                        me.container[me.containerEdgeProperty].push(a.shortId());\r\n                        console.log(\"Added edge: \", JSON.parse(a.toJson()));\r\n                        me.$store.commit('editor/addEditsToUndo', [\r\n                            {operation: \"addNew\", id: c.shortId()},\r\n                            {operation: \"update\", id: me.container.shortId(), fieldChanged: [\"competency\", \"relation\"], initialValue: [initialCompetencies, initialRelations], changedValue: [me.container.competency, me.container.relation]}\r\n                        ]);\r\n                        var toSave = me.container;\r\n                        toSave[\"schema:dateModified\"] = new Date().toISOString();\r\n                        if (me.$store.state.editor && me.$store.state.editor.private === true) {\r\n                            a = EcEncryptedValue.toEncryptedValue(a);\r\n                            if (EcEncryptedValue.encryptOnSaveMap(me.container.id) !== true) {\r\n                                toSave = EcEncryptedValue.toEncryptedValue(me.container);\r\n                            }\r\n                        }\r\n                        me.repo.saveTo(a, console.log, console.error);\r\n                        me.repo.saveTo(me.stripEmptyArrays(toSave), function() {\r\n                            me.once = true;\r\n                        }, console.error);\r\n                    }, console.error);\r\n                }\r\n            }, console.error);\r\n        },\r\n        // Supports save() by removing reactify arrays.\r\n        stripEmptyArrays(o) {\r\n            // TODO: Investigate use of Vue.$set instead of reactification method.\r\n            if (EcArray.isArray(o)) {\r\n                if (o.length === 0) {\r\n                    return null;\r\n                }\r\n                for (var i = 0; i < o.length; i++) {\r\n                    o[i] = this.stripEmptyArrays(o[i]);\r\n                    if (o[i] == null) {\r\n                        o.splice(i--, 1);\r\n                    }\r\n                }\r\n            } else if (EcObject.isObject(o)) {\r\n                for (var key in o) {\r\n                    var value = this.stripEmptyArrays(o[key]);\r\n                    if (value == null) {\r\n                        delete o[key];\r\n                    }\r\n                }\r\n            }\r\n            return o;\r\n        },\r\n        select: function(objId, checked) {\r\n            if (checked) {\r\n                EcArray.setAdd(this.selectedArray, objId);\r\n            } else {\r\n                EcArray.setRemove(this.selectedArray, objId);\r\n            }\r\n        },\r\n        deleteObject: function(thing) {\r\n            this.$emit('deleteObject', thing);\r\n        },\r\n        removeObject: function(thing) {\r\n            this.$emit('removeObject', thing);\r\n        },\r\n        exportObject: function(thing, type) {\r\n            this.$emit('exportObject', thing, type);\r\n        },\r\n        onDraggableCheck: function(checked) {\r\n            this.isDraggable = checked;\r\n        },\r\n        clickToSearch: function() {\r\n            this.$store.commit('editor/selectedCompetency', null);\r\n            var payload = {\r\n                selectedCompetency: null,\r\n                searchType: 'Competency',\r\n                copyOrLink: true,\r\n                component: 'Search'\r\n            };\r\n            this.$emit('searchThings', payload);\r\n            this.$store.commit('lode/competencySearchModalOpen', true);\r\n            this.$store.commit('lode/searchType', \"Competency\");\r\n            this.$store.commit('lode/copyOrLink', true);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n    @import './../../../scss/variables.scss';\r\n\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hierarchy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hierarchy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hierarchy.vue?vue&type=template&id=3b7db870&\"\nimport script from \"./Hierarchy.vue?vue&type=script&lang=js&\"\nexport * from \"./Hierarchy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hierarchy.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}