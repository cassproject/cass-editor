{"version":3,"sources":["webpack:///./src/components/modalContent/ShareAssertions.vue?3fc5","webpack:///./src/components/modalContent/ShareAssertions.vue?370d","webpack:///./src/components/modalContent/ShareAssertions.vue","webpack:///src/components/modalContent/ShareAssertions.vue","webpack:///./src/components/modalContent/ShareAssertions.vue?5c21","webpack:///./src/components/modalContent/ShareAssertions.vue?65b3","webpack:///./src/components/modalContent/ModalTemplate.vue?717d","webpack:///./src/components/modalContent/ModalTemplate.vue?315a","webpack:///./src/scss/modal-template.scss?686f","webpack:///./src/components/modalContent/ModalTemplate.vue","webpack:///src/components/modalContent/ModalTemplate.vue","webpack:///./src/components/modalContent/ModalTemplate.vue?a186","webpack:///./src/components/modalContent/ModalTemplate.vue?253f"],"names":["render","_vm","_c","_self","attrs","on","close","$event","closeModal","$emit","slot","staticClass","_v","isProcessing","isDone","directives","name","rawName","value","subjectFilter","expression","domProps","input","target","composing","filteredAvailableSubjects","length","_e","selectAllSubjects","_l","prs","index","key","staticStyle","click","setSubject","owner","shareSubjects","stopPropagation","_s","getName","email","targetFilter","filteredAvailableTargets","selectAllTargets","setTarget","shareTargets","Object","keys","$store","commit","notSelected","shareAssertions","staticRenderFns","props","isActive","Boolean","components","ModalTemplate","data","availablePersons","computed","_this","filter","person","toLowerCase","indexOf","_this2","myKey","EcIdentityManager","default","ids","ppk","toPk","toPem","mounted","_mounted","_asyncToGenerator","_regenerator","m","_callee","_this3","w","_context","n","EcPerson","search","window","repo","size","then","people","a","apply","arguments","methods","evt","checked","_iterator","_createForOfIteratorHelper","_step","s","done","$set","err","e","f","_iterator2","_step2","subject","$delete","_this5","searchQuery","subjects","i","concat","doSearch","_ref","_callee3","start","count","_this4","_context3","Promise","resolve","reject","EcAssertion","getters","_ref2","_callee2","results","_assertions","_context2","assertions","push","_toConsumableArray","_x3","_x","_x2","eah","EcAsyncHelper","each","assertion","callback","assertionDateDecrypted","getAssertionDateAsync","date","after","getSubjectAsync","includes","getAgentAsync","_ref3","_callee4","agent","_i","_Object$keys","_context4","addReader","EcPk","fromPem","EcRepository","save","_x4","appError","catch","watch","class","active","content","type","fontColor","_t","canClose","String","defualt"],"mappings":"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","file":"js/chunk-51c654a1.687efb31.js","sourcesContent":["// extracted by mini-css-extract-plugin","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareAssertions.vue?vue&type=style&index=0&id=9b03f000&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal-template',{attrs:{\"active\":true,\"type\":\"primary\"},on:{\"close\":function($event){_vm.closeModal; _vm.$emit('close')}}},[_c('template',{slot:\"modal-header\"},[_c('span',{staticClass:\"title has-text-white\"},[_vm._v(\"Share Assertions\")])]),(_vm.isProcessing)?_c('template',{slot:\"modal-body\"},[_c('h2',{staticClass:\"header has-text-centered\"},[_vm._v(\" Processing request... \")]),_c('div',{staticClass:\"section has-background-white has-text-centered\"},[_c('span',{staticClass:\"icon is-large\"},[_c('i',{staticClass:\"fa fa-spinner fa-2x fa-pulse\"})])])]):(_vm.isDone)?_c('template',{slot:\"modal-body\"},[_c('div',{staticClass:\"section has-background-white has-text-centered\"},[_c('p',[_c('strong',[_vm._v(\"Success!\")])])])]):_c('template',{slot:\"modal-body\"},[_c('div',{staticClass:\"assertion-share-container\"},[_c('div',{staticClass:\"assertion-share-block\"},[_c('h4',{staticClass:\"header is-size-3\"},[_vm._v(\" Share assertions about: \")]),_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subjectFilter),expression:\"subjectFilter\"}],staticClass:\"input\",attrs:{\"data-id\":\"share-assertions-subject-search\",\"type\":\"text\",\"placeholder\":\"search for person...\"},domProps:{\"value\":(_vm.subjectFilter)},on:{\"input\":function($event){if($event.target.composing)return;_vm.subjectFilter=$event.target.value}}})]),(_vm.filteredAvailableSubjects.length === 0 && _vm.subjectFilter === '')?_c('div',[_c('i',{staticClass:\"fa fa-info-circle\"}),_vm._v(\" No users found \")]):_vm._e(),(_vm.filteredAvailableSubjects.length > 0)?_c('div',[_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-hoverable is-fullwidth\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"title\":\"Select\"}},[_c('input',{attrs:{\"data-id\":\"share-assertions-select-all-subjects\",\"type\":\"checkbox\"},on:{\"change\":_vm.selectAllSubjects}})]),_c('th',{attrs:{\"title\":\"Add as member\"}},[_c('i',{staticClass:\"fa fa-user\"})]),_c('th',{attrs:{\"title\":\"Add as manager\"}},[_c('i',{staticClass:\"fa fa-user-shield\"})])])]),_c('tbody',_vm._l((_vm.filteredAvailableSubjects),function(prs,index){return _c('tr',{key:index,staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-id\":\"share-assertions-subject-option\"},on:{\"click\":function($event){return _vm.setSubject(prs.owner[0])}}},[_c('td',[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.shareSubjects[prs.owner[0]]},on:{\"click\":function($event){$event.stopPropagation();return _vm.setSubject(prs.owner[0])}}})]),_c('td',[_vm._v(\" \"+_vm._s(prs.getName())+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(prs.email)+\" \")])])}),0)])])]):_vm._e()]),_c('div',{staticClass:\"assertion-share-icon\"}),_c('div',{staticClass:\"assertion-share-block\"},[_c('h4',{staticClass:\"header is-size-3\"},[_vm._v(\" Send to: \")]),_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.targetFilter),expression:\"targetFilter\"}],staticClass:\"input\",attrs:{\"data-id\":\"share-assertions-target-search\",\"type\":\"text\",\"placeholder\":\"search for person...\"},domProps:{\"value\":(_vm.targetFilter)},on:{\"input\":function($event){if($event.target.composing)return;_vm.targetFilter=$event.target.value}}})]),(_vm.filteredAvailableTargets.length === 0 && _vm.targetFilter === '')?_c('div',[_c('i',{staticClass:\"fa fa-info-circle\"}),_vm._v(\" No users found \")]):_vm._e(),(_vm.filteredAvailableTargets.length > 0)?_c('div',[_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-hoverable is-fullwidth\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"title\":\"Select\"}},[_c('input',{attrs:{\"data-id\":\"share-assertions-select-all-targets\",\"type\":\"checkbox\"},on:{\"change\":_vm.selectAllTargets}})]),_c('th',{attrs:{\"title\":\"Add as member\"}},[_c('i',{staticClass:\"fa fa-user\"})]),_c('th',{attrs:{\"title\":\"Add as manager\"}},[_c('i',{staticClass:\"fa fa-user-shield\"})])])]),_c('tbody',_vm._l((_vm.filteredAvailableTargets),function(prs,index){return _c('tr',{key:index,staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-id\":\"share-assertions-target-option\"},on:{\"click\":function($event){return _vm.setTarget(prs.owner[0])}}},[_c('td',[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.shareTargets[prs.owner[0]]},on:{\"click\":function($event){$event.stopPropagation();return _vm.setTarget(prs.owner[0])}}})]),_c('td',[_vm._v(\" \"+_vm._s(prs.getName())+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(prs.email)+\" \")])])}),0)])])]):_vm._e()])]),_c('div',{staticClass:\"assertion-share-count-container\"},[_c('div',{staticClass:\"assertion-share-count\"},[_c('strong',[_vm._v(_vm._s(Object.keys(_vm.shareSubjects).length)+\" selected\")])]),_c('div',{staticClass:\"assertion-share-count\"},[_c('strong',[_vm._v(_vm._s(Object.keys(_vm.shareTargets).length)+\" selected\")])])])]),_c('template',{slot:\"modal-foot\"},[_c('div',{staticClass:\"buttons is-spaced\"},[_c('button',{staticClass:\"button is-secondary is-outlined\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.$store.commit('app/closeModal')}}},[_c('span',[_vm._v(\"Cancel\")]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times-circle\"})])]),(_vm.isDone)?_c('button',{staticClass:\"button is-primary is-outlined\",attrs:{\"data-id\":\"share-more-assertions-button\"},on:{\"click\":function($event){_vm.isDone = false;}}},[_vm._v(\" Share More \")]):_c('button',{staticClass:\"button is-primary is-outlined\",attrs:{\"data-id\":\"share-assertions-button\",\"disabled\":_vm.isProcessing || _vm.notSelected},on:{\"click\":_vm.shareAssertions}},[_c('span',[_vm._v(\"Share\")]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-share\"})])])])])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <modal-template\n        @close=\"closeModal; $emit('close')\"\n        :active=\"true\"\n        type=\"primary\">\n        <template slot=\"modal-header\">\n            <span class=\"title has-text-white\">Share Assertions</span>\n        </template>\n        <!-- processing -->\n        <template\n            v-if=\"isProcessing\"\n            slot=\"modal-body\">\n            <h2 class=\"header has-text-centered\">\n                Processing request...\n            </h2>\n            <div class=\"section has-background-white has-text-centered\">\n                <span class=\"icon is-large\">\n                    <i class=\"fa fa-spinner fa-2x fa-pulse\" />\n                </span>\n            </div>\n        </template>\n        <template\n            v-else-if=\"isDone\"\n            slot=\"modal-body\">\n            <div class=\"section has-background-white has-text-centered\">\n                <p>\n                    <strong>Success!</strong>\n                </p>\n            </div>\n        </template>\n        <template\n            v-else\n            slot=\"modal-body\">\n            <div class=\"assertion-share-container\">\n                <div class=\"assertion-share-block\">\n                    <h4 class=\"header is-size-3\">\n                        Share assertions about:\n                    </h4>\n                    <div\n                        class=\"field\">\n                        <input\n                            data-id=\"share-assertions-subject-search\"\n                            type=\"text\"\n                            class=\"input\"\n                            v-model=\"subjectFilter\"\n                            placeholder=\"search for person...\">\n                    </div>\n                    <div v-if=\"filteredAvailableSubjects.length === 0 && subjectFilter === ''\">\n                        <i class=\"fa fa-info-circle\" /> No users found\n                    </div>\n                    <div v-if=\"filteredAvailableSubjects.length > 0\">\n                        <div class=\"table-container\">\n                            <table class=\"table is-hoverable is-fullwidth\">\n                                <thead>\n                                    <tr>\n                                        <th title=\"Select\">\n                                            <input\n                                                data-id=\"share-assertions-select-all-subjects\"\n                                                type=\"checkbox\"\n                                                @change=\"selectAllSubjects\">\n                                        </th>\n                                        <th title=\"Add as member\">\n                                            <i class=\"fa fa-user\" />\n                                        </th>\n                                        <th title=\"Add as manager\">\n                                            <i class=\"fa fa-user-shield\" />\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr\n                                        data-id=\"share-assertions-subject-option\"\n                                        style=\"cursor: pointer;\"\n                                        @click=\"setSubject(prs.owner[0])\"\n                                        v-for=\"(prs, index) in filteredAvailableSubjects\"\n                                        :key=\"index\">\n                                        <td>\n                                            <input\n                                                type=\"checkbox\"\n                                                @click.stop=\"setSubject(prs.owner[0])\"\n                                                :checked=\"shareSubjects[prs.owner[0]]\">\n                                        </td>\n                                        <td> {{ prs.getName() }} </td>\n                                        <td> {{ prs.email }} </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"assertion-share-icon\" />\n                <div class=\"assertion-share-block\">\n                    <h4 class=\"header is-size-3\">\n                        Send to:\n                    </h4>\n                    <div\n                        class=\"field\">\n                        <input\n                            data-id=\"share-assertions-target-search\"\n                            type=\"text\"\n                            class=\"input\"\n                            v-model=\"targetFilter\"\n                            placeholder=\"search for person...\">\n                    </div>\n                    <div v-if=\"filteredAvailableTargets.length === 0 && targetFilter === ''\">\n                        <i class=\"fa fa-info-circle\" /> No users found\n                    </div>\n                    <div v-if=\"filteredAvailableTargets.length > 0\">\n                        <div class=\"table-container\">\n                            <table class=\"table is-hoverable is-fullwidth\">\n                                <thead>\n                                    <tr>\n                                        <th title=\"Select\">\n                                            <input\n                                                data-id=\"share-assertions-select-all-targets\"\n                                                type=\"checkbox\"\n                                                @change=\"selectAllTargets\">\n                                        </th>\n                                        <th title=\"Add as member\">\n                                            <i class=\"fa fa-user\" />\n                                        </th>\n                                        <th title=\"Add as manager\">\n                                            <i class=\"fa fa-user-shield\" />\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr\n                                        data-id=\"share-assertions-target-option\"\n                                        style=\"cursor: pointer;\"\n                                        @click=\"setTarget(prs.owner[0])\"\n                                        v-for=\"(prs, index) in filteredAvailableTargets\"\n                                        :key=\"index\">\n                                        <td>\n                                            <input\n                                                type=\"checkbox\"\n                                                @click.stop=\"setTarget(prs.owner[0])\"\n                                                :checked=\"shareTargets[prs.owner[0]]\">\n                                        </td>\n                                        <td> {{ prs.getName() }} </td>\n                                        <td> {{ prs.email }} </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"assertion-share-count-container\">\n                <div class=\"assertion-share-count\">\n                    <strong>{{ Object.keys(shareSubjects).length }} selected</strong>\n                </div>\n                <div class=\"assertion-share-count\">\n                    <strong>{{ Object.keys(shareTargets).length }} selected</strong>\n                </div>\n            </div>\n        </template>\n        <template slot=\"modal-foot\">\n            <div\n                class=\"buttons is-spaced\">\n                <button\n                    :disabled=\"isProcessing\"\n                    class=\"button is-secondary is-outlined\"\n                    @click=\"$store.commit('app/closeModal')\">\n                    <span>Cancel</span>\n                    <span class=\"icon\">\n                        <i class=\"fa fa-times-circle\" />\n                    </span>\n                </button>\n                <button\n                    v-if=\"isDone\"\n                    data-id=\"share-more-assertions-button\"\n                    class=\"button is-primary is-outlined\"\n                    @click=\"isDone = false;\">\n                    Share More\n                </button>\n                <button\n                    v-else\n                    data-id=\"share-assertions-button\"\n                    :disabled=\"isProcessing || notSelected\"\n                    class=\"button is-primary is-outlined\"\n                    @click=\"shareAssertions\">\n                    <span>Share</span>\n                    <span class=\"icon\">\n                        <i class=\"fa fa-share\" />\n                    </span>\n                </button>\n            </div>\n        </template>\n    </modal-template>\n</template>\n\n<script>\nimport ModalTemplate from './ModalTemplate.vue';\nexport default {\n    name: 'ShareAssertionsModal',\n    props: {\n        isActive: Boolean\n    },\n    components: {\n        ModalTemplate\n    },\n    data() {\n        return {\n            isProcessing: false,\n            shareSubjects: {},\n            shareTargets: {},\n            availablePersons: [],\n            subjectFilter: '',\n            targetFilter: '',\n            isDone: false\n        };\n    },\n    computed: {\n        filteredAvailableSubjects: function() {\n            return this.availablePersons.filter(person => {\n                return (((person.getName() && person.getName().toLowerCase().indexOf(this.subjectFilter.toLowerCase()) > -1) ||\n                        (person.email && person.email.toLowerCase().indexOf(this.subjectFilter.toLowerCase()) > -1))\n                );\n            });\n        },\n        filteredAvailableTargets: function() {\n            let myKey = EcIdentityManager.default.ids[0].ppk.toPk().toPem();\n            return this.availablePersons.filter(person => {\n                if (myKey === person.owner[0]) {\n                    return false;\n                }\n                return (((person.getName() && person.getName().toLowerCase().indexOf(this.targetFilter.toLowerCase()) > -1) ||\n                        (person.email && person.email.toLowerCase().indexOf(this.targetFilter.toLowerCase()) > -1))\n                );\n            });\n        },\n        notSelected: function() {\n            return Object.keys(this.shareSubjects).length === 0 || Object.keys(this.shareTargets).length === 0;\n        }\n    },\n    mounted: async function() {\n        EcPerson.search(window.repo, '*', null, null, {size: 10000}).then((people) => {\n            this.availablePersons = people;\n        });\n    },\n    methods: {\n        selectAllSubjects: function(evt) {\n            let checked = evt.target.checked;\n            if (checked) {\n                for (let prs of this.filteredAvailableSubjects) {\n                    this.$set(this.shareSubjects, prs.owner[0], 1);\n                }\n            } else {\n                this.shareSubjects = {};\n            }\n        },\n        selectAllTargets: function(evt) {\n            let checked = evt.target.checked;\n            if (checked) {\n                for (let prs of this.filteredAvailableTargets) {\n                    this.$set(this.shareTargets, prs.owner[0], 1);\n                }\n            } else {\n                this.shareTargets = {};\n            }\n        },\n        setSubject: function(subject) {\n            if (this.shareSubjects[subject]) {\n                this.$delete(this.shareSubjects, subject);\n            } else {\n                this.$set(this.shareSubjects, subject, 1);\n            }\n        },\n        setTarget: function(target) {\n            if (this.shareTargets[target]) {\n                this.$delete(this.shareTargets, target);\n            } else {\n                this.$set(this.shareTargets, target, 1);\n            }\n        },\n        shareAssertions: function() {\n            this.isProcessing = true;\n            let searchQuery = '';\n            let subjects = Object.keys(this.shareSubjects);\n            for (let i = 0; i < subjects.length; i++) {\n                searchQuery += `\\\\*reader:\"${subjects[i]}\"`;\n                if (i !== subjects.length - 1) {\n                    searchQuery += ' OR ';\n                }\n            }\n            let doSearch = async function(start, count) {\n                return new Promise((resolve, reject) => {\n                    EcAssertion.search(window.repo, `\\\\*owner:\"${this.$store.getters['editor/getMe']}\" AND (${searchQuery})`, async(results) => {\n                        assertions.push(...results);\n                        start += count;\n                        if (results.length > 0) {\n                            await doSearch(start, count);\n                        }\n                        resolve();\n                    }, reject, {size: count, start: start});\n                });\n            };\n\n            doSearch(0, 5000).then(() => {\n                var eah = new EcAsyncHelper();\n                eah.each(assertions, (assertion, callback) => {\n                    if (assertion.assertionDateDecrypted != null) {\n                        callback();\n                    } else {\n                        assertion.getAssertionDateAsync((date) => {\n                            assertion.assertionDateDecrypted = date;\n                            callback();\n                        }, callback);\n                    }\n                },\n                (assertions) => {\n                    let eah = new EcAsyncHelper();\n                    eah.each(assertions, (assertion, after) => {\n                        assertion.getSubjectAsync((subject) => {\n                            if (subjects.includes(subject.toPem())) {\n                                assertion.getAgentAsync(async(agent) => {\n                                    if (this.$store.getters['editor/getMe'] === agent.toPem()) {\n                                        for (let target of Object.keys(this.shareTargets)) {\n                                            await assertion.addReader(EcPk.fromPem(target));\n                                        }\n                                        await EcRepository.save(assertion);\n                                        after();\n                                    } else {\n                                        after();\n                                    }\n                                }, appError);\n                            } else {\n                                after();\n                            }\n                        }, appError);\n                    }, () => {\n                        this.isProcessing = false;\n                        this.isDone = true;\n                    });\n                });\n            }).catch(appError);\n        }\n    },\n    watch: {}\n};\n</script>\n\n\n<style lang=\"scss\">\n    @import '@/scss/variables.scss';\n    .assertion-share-container {\n        display: flex;\n        justify-content: space-between;\n        .active {\n            background: $primary-color;\n            color: white;\n        }\n        .assertion-share-block {\n            width: 48%;\n        }\n    }\n    .assertion-share-icon {\n        display: flex;\n        align-items: center;\n        border: 1px solid $light-color;\n    }\n    .assertion-share-count-container {\n        display: flex;\n    }\n    .assertion-share-count {\n        text-align: right;\n        margin-top: 1rem;\n        width: 50%;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareAssertions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareAssertions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ShareAssertions.vue?vue&type=template&id=9b03f000\"\nimport script from \"./ShareAssertions.vue?vue&type=script&lang=js\"\nexport * from \"./ShareAssertions.vue?vue&type=script&lang=js\"\nimport style0 from \"./ShareAssertions.vue?vue&type=style&index=0&id=9b03f000&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=style&index=0&id=1c4e04a7&prod&lang=scss\"","// extracted by mini-css-extract-plugin","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal cass-editor___modal\",class:[{'is-active': _vm.active}, 'is-' + _vm.size, 'cass-editor__modal--' + _vm.content],attrs:{\"id\":\"cass-modal\"}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-card\",class:'cass-editor__modal-card--' + _vm.size},[_c('header',{staticClass:\"modal-card-head is-size-4 has-text-weight-bold\",class:['has-background-' + _vm.type, 'has-text-' + _vm.fontColor, ]},[_c('p',{staticClass:\"modal-card-title\"},[_vm._t(\"modal-header\")],2),(_vm.canClose)?_c('button',{staticClass:\"delete\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.$store.commit('app/closeModal'); _vm.$emit('close')}}}):_vm._e()]),_c('div',{staticClass:\"modal-card-body has-text-dark\"},[_vm._t(\"modal-body\")],2),_c('footer',{staticClass:\"modal-card-foot has-background-white\"},[_vm._t(\"modal-foot\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nThe modal template can be used to stylize any modal.\n\nModals that can be triggered from anywhere in the app\nshould be componetized and imported into the DynamicModal.vue\nSo they can be triggered from anywhere in the app using the store/app\n\nModals that are only used in one screen (info on very specific content)\nshould be componentized and imported into the screen that needs it.\n-->\n<template>\n    <div\n        class=\"modal cass-editor___modal\"\n        id=\"cass-modal\"\n        :class=\"[{'is-active': active}, 'is-' + size, 'cass-editor__modal--' + content]\">\n        <div class=\"modal-background\" />\n        <div\n            class=\"modal-card\"\n            :class=\"'cass-editor__modal-card--' + size\">\n            <header\n                class=\"modal-card-head is-size-4 has-text-weight-bold\"\n                :class=\"['has-background-' + type, 'has-text-' + fontColor, ]\">\n                <p class=\"modal-card-title\">\n                    <slot name=\"modal-header\" />\n                </p>\n                <button\n                    v-if=\"canClose\"\n                    class=\"delete\"\n                    @click=\"$store.commit('app/closeModal'); $emit('close')\"\n                    aria-label=\"close\" />\n            </header>\n            <div class=\"modal-card-body has-text-dark\">\n                <slot name=\"modal-body\" />\n            </div>\n            <footer class=\"modal-card-foot has-background-white\">\n                <slot name=\"modal-foot\" />\n            </footer>\n        </div>\n    </div>\n</template>\n\n<script>\nimport '@/scss/modal-template.scss';\nexport default {\n    name: 'ModalTemplate',\n    props: {\n        canClose: {\n            type: Boolean,\n            default: true\n        },\n        active: {\n            type: Boolean,\n            default: false\n        },\n        type: {\n            default: 'primary',\n            type: String\n        },\n        fontColor: {\n            type: String,\n            default: 'white'\n        },\n        size: {\n            type: String,\n            default: 'medium'\n        },\n        content: {\n            defualt: 'default',\n            type: String\n        }\n    },\n    data() {\n        return {\n        };\n    },\n    computed: {\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.cass-editor___modal{\n    z-index: 1000;\n}\n.modal-card.cass-editor__modal-card--small{\n    max-width: 600px;\n    min-height: 200px;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ModalTemplate.vue?vue&type=template&id=1c4e04a7\"\nimport script from \"./ModalTemplate.vue?vue&type=script&lang=js\"\nexport * from \"./ModalTemplate.vue?vue&type=script&lang=js\"\nimport style0 from \"./ModalTemplate.vue?vue&type=style&index=0&id=1c4e04a7&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}