(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a95bb3"],{"6ffa4":function(e,t,o){"use strict";o("fb6a"),o("14d9");var r=o("c7eb"),n=o("1da1"),i=o("872c");t["a"]={mixins:[i["a"]],methods:{removeObject:function(e){appLog("removing "+e.id);var t=this,o=this.$store.getters["editor/framework"],i=o.competency?o.competency.slice():null,a=o.relation?o.relation.slice():null,c=o.level?o.level.slice():null;o["schema:dateModified"]=(new Date).toISOString(),o.removeCompetency(e.shortId(),Object(n["a"])(Object(r["a"])().mark((function e(){var n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.framework,t.$store.commit("editor/addEditsToUndo",[{operation:"update",id:n.shortId(),fieldChanged:["competency","relation","level"],initialValue:[i,a,c]}]),!0!==t.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[f.id]){e.next=6;break}return e.next=5,EcEncryptedValue.toEncryptedValue(n);case 5:n=e.sent;case 6:window.repo.saveTo(n,(function(){t.$store.commit("editor/framework",o)}),appError);case 7:case"end":return e.stop()}}),e)}))),appLog)},deleteObject:function(e){appLog("deleting "+e.id);var t=this,o=this.$store.getters["editor/framework"];if(e.shortId()===o.shortId())window.repo.deleteRegistered(o,(function(e){if(t.spitEvent("frameworkDeleted",o.shortId(),"editFrameworkSection"),null!=o.competency)for(var r=0;r<o.competency.length;r++)t.conditionalDelete(o.competency[r]);if(null!=o.relation)for(r=0;r<o.relation.length;r++)t.conditionalDelete(o.relation[r]);if(null!=o.level)for(r=0;r<o.level.length;r++)t.conditionalDelete(o.level[r]);t.$store.commit("editor/framework",null),t.importType?t.$store.commit("app/importFramework",null):t.$router.push({name:"frameworks"})}),appLog);else{var i=o.competency?o.competency.slice():null,a=o.relation?o.relation.slice():null,c=o.level?o.level.slice():null;this.$store.commit("editor/selectedCompetency",e),o["schema:dateModified"]=(new Date).toISOString(),o.removeCompetency(e.shortId(),Object(n["a"])(Object(r["a"])().mark((function n(){var l;return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o.removeLevel(e.shortId()),t.$store.commit("editor/addEditsToUndo",[{operation:"delete",obj:e},{operation:"update",id:o.shortId(),fieldChanged:["competency","relation","level"],initialValue:[i,a,c],changedValue:[o.competency,o.relation,o.level]}]),t.conditionalDelete(e.shortId()),t.spitEvent("competencyDeleted",e.shortId(),"editFrameworkSection"),t.$store.commit("editor/selectedCompetency",null),l=o,!0!==t.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[o.id]){r.next=10;break}return r.next=9,EcEncryptedValue.toEncryptedValue(o);case 9:l=r.sent;case 10:window.repo.saveTo(l,(function(){t.$store.commit("editor/framework",o)}),appError);case 11:case"end":return r.stop()}}),n)}))),appLog)}}}}}}]);
//# sourceMappingURL=chunk-74a95bb3.0a780ffa.js.map