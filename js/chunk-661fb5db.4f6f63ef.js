(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-661fb5db","chunk-25a2af2a","chunk-25a2af2a"],{"03d5":function(e,t,n){"use strict";n.r(t);n("d81d"),n("4de4"),n("d3b7"),n("b0c0");var a=function(){var e=this,t=e._self._c;return t("modal-template",{attrs:{type:"primary",size:"small",active:!0},on:{close:e.closeModal}},[t("template",{slot:"modal-header"},[e._v(" "+e._s(e.title||"Export")+" ")]),t("template",{slot:"modal-body"},[t("section",[t("div",{staticClass:"field"},[t("div",{staticClass:"control"},[t("div",{staticClass:"select is-primary is-fullwidth"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedExportOption,expression:"selectedExportOption"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedExportOption=t.target.multiple?n:n[0]}}},[t("option",{attrs:{selected:"",value:""}},[e._v(" Select an option ")]),e._l(e.exportOptions,(function(n,a){return t("option",{key:a,domProps:{value:n.value}},[e._v(" "+e._s(n.name)+" ")])}))],2)])])])])]),t("template",{slot:"modal-foot"},[t("button",{staticClass:"button is-outlined is-dark",on:{click:e.closeModal}},[t("span",[e._v(" Cancel ")]),t("span",{staticClass:"icon"},[t("i",{staticClass:"fa fa-times-circle"})])]),t("button",{staticClass:"export-confirm button is-outlined is-info",attrs:{disabled:e.working},on:{click:e.confirm}},[t("span",[e._v(" Export file ")]),t("span",{staticClass:"icon"},[t("i",{staticClass:"fa fa-download"})])])])],2)},r=[],s=n("c7eb"),o=n("1da1"),i=(n("ac1f"),n("5319"),n("af07")),c=n("21a6"),l=n.n(c),u={name:"ExportOptionsModal",props:{title:{type:String,default:""}},components:{ModalTemplate:i["a"]},data:function(){return{selectedExportOption:"",repo:window.repo,working:!1}},computed:{obj:function(){return this.$store.getters["editor/itemToExport"]},exportOptions:function(){return-1!==this.objType.indexOf("conceptscheme")?[{name:"CASS (JSON-LD)",value:"jsonld"},{name:"CaSS (RDF Quads)",value:"rdfQuads"},{name:"CaSS (RDF+XML)",value:"rdfXml"},{name:"CaSS (Turtle)",value:"turtle"},{name:"Credential Engine ASN (JSON-LD)",value:"ctdlasnJsonld"}]:-1!==this.objType.indexOf("concept")?[{name:"SKOS (JSON-LD)",value:"jsonld"},{name:"SKOS (RDF Quads)",value:"rdfQuads"},{name:"SKOS (RDF+XML)",value:"rdfXml"},{name:"SKOS (Turtle)",value:"turtle"}]:-1!==this.objType.indexOf("framework")?[{name:"Achievement Standards Network (RDF+XML)",value:"asn"},{name:"CASS (JSON-LD)",value:"jsonld"},{name:"CASS (RDF Quads)",value:"rdfQuads"},{name:"CASS (RDF+XML)",value:"rdfXml"},{name:"CASS (Turtle)",value:"turtle"},{name:"Credential Engine ASN (JSON-LD)",value:"ctdlasnJsonld"},{name:"Credential Engine ASN (CSV)",value:"ctdlasnCsv"},{name:"Table (CSV)",value:"csv"},{name:"IMS Global CASE (JSON)",value:"case"},{name:"Shareable Competency Definitions (JSON)",value:"scd"}]:-1!==this.objType.indexOf("competency")?[{name:"CASS (JSON-LD)",value:"jsonld"},{name:"CASS (RDF Quads)",value:"rdfQuads"},{name:"CASS (RDF+XML)",value:"rdfXml"},{name:"CASS (Turtle)",value:"turtle"},{name:"Credential Engine ASN (JSON-LD)",value:"ctdlasnJsonld"},{name:"IMS Global CASE (JSON)",value:"case"},{name:"Shareable Competency Definitions (JSON)",value:"scd"}]:[]},objType:function(){return this.obj.type.toLowerCase()}},mounted:function(){},methods:{confirm:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.working=!0,t.next=3,e.exportObject();case 3:e.working=!1;case 4:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.$store.commit("app/closeModal")},exportObject:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(-1===this.objType.indexOf("conceptscheme")){e.next=5;break}return e.next=3,this.exportScheme();case 3:e.next=18;break;case 5:if(-1===this.objType.indexOf("concept")){e.next=10;break}return e.next=8,this.exportConcept();case 8:e.next=18;break;case 10:if(-1===this.objType.indexOf("framework")){e.next=15;break}return e.next=13,this.exportFramework();case 13:e.next=18;break;case 15:if(-1===this.objType.indexOf("competency")){e.next=18;break}return e.next=18,this.exportCompetency();case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportConcept:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,n,a,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.selectedExportOption,n=this.obj,a=!1===EcRepository.shouldTryUrl(n.id)&&-1===n.id.indexOf(this.repo.selectedServer)?EcCrypto.md5(n.shortId()):n.getGuid(),r=this.repo.selectedServer+"data/"+a,"jsonld"!==t){e.next=9;break}return e.next=7,this.exportJsonld(r);case 7:e.next=22;break;case 9:if("rdfQuads"!==t){e.next=14;break}return e.next=12,this.exportRdfQuads(r);case 12:e.next=22;break;case 14:if("rdfXml"!==t){e.next=19;break}return e.next=17,this.exportRdfXml(r);case 17:e.next=22;break;case 19:if("turtle"!==t){e.next=22;break}return e.next=22,this.exportTurtle(r);case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportScheme:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=null,t=!1===EcRepository.shouldTryUrl(this.obj.id)&&-1===this.obj.id.indexOf(this.repo.selectedServer)?EcCrypto.md5(this.obj.shortId()):this.obj.getGuid(),n=this.repo.selectedServer+"data/"+t,a=this.selectedExportOption,"jsonld"!==a){e.next=9;break}return e.next=7,this.exportJsonld(n);case 7:e.next=27;break;case 9:if("rdfQuads"!==a){e.next=14;break}return e.next=12,this.exportRdfQuads(n);case 12:e.next=27;break;case 14:if("rdfXml"!==a){e.next=19;break}return e.next=17,this.exportRdfXml(n);case 17:e.next=27;break;case 19:if("turtle"!==a){e.next=24;break}return e.next=22,this.exportTurtle(n);case 22:e.next=27;break;case 24:if("ctdlasnJsonld"!==a){e.next=27;break}return e.next=27,this.exportCtdlasnJsonld(n);case 27:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportCompetency:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,n,a,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.selectedExportOption,n=this.obj,a=!1===EcRepository.shouldTryUrl(n.id)&&-1===n.id.indexOf(this.repo.selectedServer)?EcCrypto.md5(n.shortId()):n.getGuid(),r=this.repo.selectedServer+"data/"+a,"jsonld"!==t){e.next=9;break}return e.next=7,this.exportJsonld(r);case 7:e.next=37;break;case 9:if("rdfQuads"!==t){e.next=14;break}return e.next=12,this.exportRdfQuads(r);case 12:e.next=37;break;case 14:if("rdfXml"!==t){e.next=19;break}return e.next=17,this.exportRdfXml(r);case 17:e.next=37;break;case 19:if("turtle"!==t){e.next=24;break}return e.next=22,this.exportTurtle(r);case 22:e.next=37;break;case 24:if("ctdlasnJsonld"!==t){e.next=29;break}return e.next=27,this.exportCtdlasnJsonld(r);case 27:e.next=37;break;case 29:if("case"!==t){e.next=34;break}return e.next=32,this.exportCaseItems(a);case 32:e.next=37;break;case 34:if("scd"!==t){e.next=37;break}return e.next=37,this.exportScd(r);case 37:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportFramework:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(){var t,n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.selectedExportOption,n=null,n=!1===EcRepository.shouldTryUrl(this.obj.id)&&-1===this.obj.id.indexOf(this.repo.selectedServer)?EcCrypto.md5(this.obj.shortId()):this.obj.getGuid(),a=this.repo.selectedServer+"data/"+n,"asn"!==t){e.next=9;break}return e.next=7,this.exportAsn(a);case 7:e.next=52;break;case 9:if("jsonld"!==t){e.next=14;break}return e.next=12,this.exportJsonld(a);case 12:e.next=52;break;case 14:if("rdfQuads"!==t){e.next=19;break}return e.next=17,this.exportRdfQuads(a);case 17:e.next=52;break;case 19:if("rdfXml"!==t){e.next=24;break}return e.next=22,this.exportRdfXml(a);case 22:e.next=52;break;case 24:if("turtle"!==t){e.next=29;break}return e.next=27,this.exportTurtle(a);case 27:e.next=52;break;case 29:if("ctdlasnJsonld"!==t){e.next=34;break}return e.next=32,this.exportCtdlasnJsonld(a);case 32:e.next=52;break;case 34:if("ctdlasnCsv"!==t){e.next=39;break}return e.next=37,this.exportCtdlasnCsv(a);case 37:e.next=52;break;case 39:if("csv"!==t){e.next=44;break}return e.next=42,this.exportCsv();case 42:e.next=52;break;case 44:if("case"!==t){e.next=49;break}return e.next=47,this.exportCasePackages(n);case 47:e.next=52;break;case 49:if("scd"!==t){e.next=52;break}return e.next=52,this.exportScd(a);case 52:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportAsn:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.open(t.replace("/data/","/asn/"),"_blank");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),exportJsonld:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.open(t,"_blank");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),exportRdfQuads:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=-1!==this.objType.indexOf("conceptscheme")?schema.Thing.getDisplayStringFrom(this.obj["dcterms:title"]):-1!==this.objType.indexOf("concept")?schema.Thing.getDisplayStringFrom(this.obj["skos:prefLabel"]):this.obj.getName(),e.prev=1,e.next=4,this.get(t,null,{Accept:"text/n4"});case 4:return a=e.sent,e.next=7,this.download(n+".n4",a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),appLog(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),exportRdfXml:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=-1!==this.objType.indexOf("conceptscheme")?schema.Thing.getDisplayStringFrom(this.obj["dcterms:title"]):-1!==this.objType.indexOf("concept")?schema.Thing.getDisplayStringFrom(this.obj["skos:prefLabel"]):this.obj.getName(),e.prev=1,e.next=4,this.get(t,null,{Accept:"application/rdf+xml"});case 4:return a=e.sent,e.next=7,this.download(n+".rdf.xml",a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),appLog(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),exportTurtle:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=-1!==this.objType.indexOf("conceptscheme")?schema.Thing.getDisplayStringFrom(this.obj["dcterms:title"]):-1!==this.objType.indexOf("concept")?schema.Thing.getDisplayStringFrom(this.obj["skos:prefLabel"]):this.obj.getName(),e.prev=1,e.next=4,this.get(t,null,{Accept:"text/turtle"});case 4:return a=e.sent,e.next=7,this.download(n+".turtle",a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),appLog(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),exportCtdlasnJsonld:function(e){window.open(e.replace("/data/","/ceasn/"),"_blank")},exportScd:function(e){window.open(e.replace("/data/","/scd/"),"_blank")},exportCtdlasnCsv:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.prev=1,e.next=4,EcRemote.getExpectingString(t.replace("/data/","/ceasn/"),null);case 4:a=e.sent,CSVExport.exportCTDLASN(a,n.obj.getName()),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),appLog(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),exportCsv:function(){CSVExport.exportFramework(this.obj.id,appLog,appLog)},exportCasePackages:function(e){window.open(this.repo.selectedServer+"ims/case/v1p0/CFPackages/"+e,"_blank")},exportCaseItems:function(e){window.open(this.repo.selectedServer+"ims/case/v1p0/CFItems/"+e,"_blank")},download:function(e,t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});l()(n,e)},get:function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(t,n,a,r,o){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$store.dispatch("editor/getThing",{server:t,service:n,headers:a,success:r,failure:o}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,a,r,s){return e.apply(this,arguments)}return t}()}},d=u,p=n("2877"),f=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=f.exports},"21a6":function(e,t,n){(function(n){var a,r,s;(function(n,o){r=[],a=o,s="function"===typeof a?a.apply(t,r):a,void 0===s||(e.exports=s)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){c(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=o.URL||o.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?s(c):r(c.href)?a(e,t,n):s(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(c.href)}),4e4),setTimeout((function(){s(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(r(e))a(e,n,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var s="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});o.saveAs=c.saveAs=c,e.exports=c}))}).call(this,n("c8ba"))},"62af":function(e,t,n){},"8d7e":function(e,t,n){"use strict";n("62af")},"984b":function(e,t,n){},af07:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal cass-editor___modal",class:[{"is-active":e.active},"is-"+e.size,"cass-editor__modal--"+e.content],attrs:{id:"cass-modal"}},[t("div",{staticClass:"modal-background"}),t("div",{staticClass:"modal-card",class:"cass-editor__modal-card--"+e.size},[t("header",{staticClass:"modal-card-head is-size-4 has-text-weight-bold",class:["has-background-"+e.type,"has-text-"+e.fontColor]},[t("p",{staticClass:"modal-card-title"},[e._t("modal-header")],2),e.canClose?t("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){e.$store.commit("app/closeModal"),e.$emit("close")}}}):e._e()]),t("div",{staticClass:"modal-card-body has-text-dark"},[e._t("modal-body")],2),t("footer",{staticClass:"modal-card-foot has-background-white"},[e._t("modal-foot")],2)])])},r=[],s=(n("984b"),{name:"ModalTemplate",props:{canClose:{type:Boolean,default:!0},active:{type:Boolean,default:!1},type:{default:"primary",type:String},fontColor:{type:String,default:"white"},size:{type:String,default:"medium"},content:{defualt:"default",type:String}},data:function(){return{}},computed:{}}),o=s,i=(n("8d7e"),n("2877")),c=Object(i["a"])(o,a,r,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-661fb5db.4f6f63ef.js.map