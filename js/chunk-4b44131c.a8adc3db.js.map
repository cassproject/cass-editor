{"version":3,"sources":["webpack:///./src/components/framework/Search.vue?9973","webpack:///./src/components/framework/Search.vue?d90d","webpack:///src/components/framework/Search.vue","webpack:///./src/components/framework/Search.vue?2ae7","webpack:///./src/components/framework/Search.vue","webpack:///./src/mixins/competencyEdits.js","webpack:///./src/components/modalContent/ModalTemplate.vue?9db9","webpack:///./src/components/modalContent/ModalTemplate.vue?bef9","webpack:///src/components/modalContent/ModalTemplate.vue","webpack:///./src/components/modalContent/ModalTemplate.vue?4d00","webpack:///./src/components/modalContent/ModalTemplate.vue","webpack:///./src/components/modalContent/SearchModal.vue?5976","webpack:///./src/components/modalContent/SearchModal.vue?c6e4","webpack:///src/components/modalContent/SearchModal.vue","webpack:///./src/components/modalContent/SearchModal.vue?e629","webpack:///./src/components/modalContent/SearchModal.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","selectedFramework","_e","attrs","allowShowFrameworks","searchType","$store","state","lode","searchTypeToPassToList","parent","repo","select","searchOptions","paramObj","selectedIds","displayFirst","idsNotPermittedInSearch","hierarchyLoaded","_m","directives","name","rawName","value","expression","view","on","$event","selectedArrayEvent","staticRenderFns","component","mixins","methods","removeObject","appLog","thing","me","thisFramework","getters","initialCompetencies","initialRelations","initialLevels","Date","framework","operation","id","fieldChanged","initialValue","EcEncryptedValue","f","window","deleteObject","i","obj","changedValue","frameworkToSave","class","active","size","content","type","fontColor","_t","commit","$emit","closeModal","slot","_v","_s","frameworkName","length","clickClearFramework","ref","clearFramework","selectFramework","copyCompetencies","appendCompetencies","changes","push","saveTo","isAny","EcCompetency","getTypes","EcAlignment"],"mappings":"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","file":"js/chunk-4b44131c.a8adc3db.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns is-multiline\"},[(!_vm.selectedFramework)?_c('div',{staticClass:\"column is-12\"},[_c('SearchBar',{attrs:{\"filterSet\":\"basic\",\"allowShowFrameworks\":_vm.allowShowFrameworks,\"searchType\":_vm.searchType}})],1):_vm._e(),(!_vm.selectedFramework)?_c('div',{staticClass:\"column is-12\"},[(_vm.$store.state.lode.competencySearchModalOpen)?_c('List',{attrs:{\"type\":_vm.searchTypeToPassToList,\"view\":\"search\",\"parent\":_vm.parent,\"repo\":_vm.repo,\"click\":_vm.select,\"searchOptions\":_vm.searchOptions,\"paramObj\":_vm.paramObj,\"disallowEdits\":true,\"selectingCompetency\":true,\"selected\":_vm.selectedIds,\"displayFirst\":_vm.displayFirst,\"idsNotPermittedInSearch\":_vm.idsNotPermittedInSearch}}):_vm._e()],1):_vm._e(),(_vm.selectedFramework && !_vm.hierarchyLoaded)?_c('div',[_vm._m(0)]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hierarchyLoaded),expression:\"hierarchyLoaded\"}]},[(_vm.selectedFramework)?_c('Thing',{attrs:{\"parent\":_vm.parent,\"obj\":_vm.selectedFramework,\"repo\":_vm.repo,\"view\":_vm.view,\"expandInModal\":true}}):_vm._e(),(_vm.selectedFramework)?_c('Hierarchy',{attrs:{\"parent\":_vm.parent,\"container\":_vm.selectedFramework,\"view\":\"competencySearch\",\"containerType\":\"Framework\",\"containerTypeGet\":\"EcFramework\",\"containerNodeProperty\":\"competency\",\"containerEdgeProperty\":\"relation\",\"nodeType\":\"EcCompetency\",\"edgeType\":\"EcAlignment\",\"edgeRelationProperty\":\"relationType\",\"edgeRelationLiteral\":\"narrows\",\"edgeSourceProperty\":\"source\",\"edgeTargetProperty\":\"target\",\"viewOnly\":true,\"repo\":_vm.repo,\"highlightList\":null,\"properties\":\"primary\"},on:{\"done-loading-nodes\":function($event){_vm.hierarchyLoaded = true},\"selected-array\":_vm.selectedArrayEvent}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-large\"},[_c('i',{staticClass:\"fa fa-spinner fa-2x fa-pulse\"})])}]\n\nexport { render, staticRenderFns }","<!--\nThis component is displays a ui for searchin for compencies and selecting them\nthis component can be dropped into a card element such as DynamicModel.vue\nwith some adjustments to the modal-card classes to just card, this could be\nplaced anywhere in a structured html element such as a <section> or a <div>\n-->\n<template>\n    <div\n        class=\"columns is-multiline\">\n        <div\n            class=\"column is-12\"\n            v-if=\"!selectedFramework\">\n            <SearchBar\n                filterSet=\"basic\"\n                :allowShowFrameworks=\"allowShowFrameworks\"\n                :searchType=\"searchType\" />\n        </div>\n        <div\n            v-if=\"!selectedFramework\"\n            class=\"column is-12\">\n            <List\n                v-if=\"$store.state.lode.competencySearchModalOpen\"\n                :type=\"searchTypeToPassToList\"\n                view=\"search\"\n                :parent=\"parent\"\n                :repo=\"repo\"\n                :click=\"select\"\n                :searchOptions=\"searchOptions\"\n                :paramObj=\"paramObj\"\n                :disallowEdits=\"true\"\n                :selectingCompetency=\"true\"\n                :selected=\"selectedIds\"\n                :displayFirst=\"displayFirst\"\n                :idsNotPermittedInSearch=\"idsNotPermittedInSearch\" />\n        </div>\n        <div\n            v-if=\"selectedFramework && !hierarchyLoaded\">\n            <span class=\"icon is-large\">\n                <i class=\"fa fa-spinner fa-2x fa-pulse\" />\n            </span>\n        </div>\n        <div v-show=\"hierarchyLoaded\">\n            <Thing\n                :parent=\"parent\"\n                v-if=\"selectedFramework\"\n                :obj=\"selectedFramework\"\n                :repo=\"repo\"\n                :view=\"view\"\n                :expandInModal=\"true\" />\n            <Hierarchy\n                v-if=\"selectedFramework\"\n                :parent=\"parent\"\n                :container=\"selectedFramework\"\n                view=\"competencySearch\"\n                containerType=\"Framework\"\n                containerTypeGet=\"EcFramework\"\n                containerNodeProperty=\"competency\"\n                containerEdgeProperty=\"relation\"\n                nodeType=\"EcCompetency\"\n                edgeType=\"EcAlignment\"\n                edgeRelationProperty=\"relationType\"\n                edgeRelationLiteral=\"narrows\"\n                edgeSourceProperty=\"source\"\n                edgeTargetProperty=\"target\"\n                :viewOnly=\"true\"\n                :repo=\"repo\"\n                :highlightList=\"null\"\n                @done-loading-nodes=\"hierarchyLoaded = true\"\n                properties=\"primary\"\n                @selected-array=\"selectedArrayEvent\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport List from '@/lode/components/List.vue';\nimport Hierarchy from '@/lode/components/Hierarchy.vue';\nimport Thing from '@/lode/components/Thing.vue';\nimport common from '@/mixins/common.js';\nimport {mapState} from 'vuex';\nimport SearchBar from '@/components/framework/SearchBar.vue';\nexport default {\n    name: 'CompetencySearch',\n    props: {\n        parent: {\n            type: String,\n            default: ''\n        },\n        isActive: Boolean,\n        view: {\n            type: String,\n            default: 'modal'\n        },\n        idsNotPermittedInSearch: {\n            type: Array,\n            default: null\n        },\n        allowShowFrameworks: {\n            type: Boolean,\n            default: false\n        },\n        clearFramework: {\n            type: Boolean,\n            default: false\n        },\n        typesPermittedInSearch: {\n            type: Array,\n            default: null\n        }\n    },\n    components: {List, SearchBar, Hierarchy, Thing},\n    mixins: [common],\n    data() {\n        return {\n            repo: window.repo,\n            selectedIds: [],\n            displayFirst: [],\n            showMine: false,\n            sortBy: null,\n            selectedFramework: null,\n            hierarchyLoaded: false\n        };\n    },\n    created: function() {\n        this.sortBy = (this.$store.getters['editor/conceptMode'] === true || this.searchType === \"Concept\") ? \"dcterms:title.keyword\" : \"name.keyword\";\n        this.$store.commit('app/searchTerm', \"\");\n    },\n    beforeDestroy: function() {\n        this.$store.commit('app/searchTerm', \"\");\n    },\n    computed: {\n        ...mapState({\n            selectedCompetency: state => state.editor.selectedCompetency,\n            framework: state => state.editor.framework,\n            queryParams: state => state.editor.queryParams,\n            addingProperty: state => state.lode.addingProperty\n        }),\n        nameOfSelectedCompetency: function() {\n            if (this.selectedCompetency && this.selectedCompetency.name) {\n                return this.selectedCompetency.getName();\n            } else if (this.selectedCompetency) {\n                return schema.Thing.getDisplayStringFrom(this.selectedCompetency[\"skos:prefLabel\"]);\n            } else {\n                return '';\n            }\n        },\n        copyOrLink: function() {\n            return this.$store.state.lode.copyOrLink;\n        },\n        frameworkName: function() {\n            if (this.framework) {\n                return this.framework.getName();\n            } else {\n                return '';\n            }\n        },\n        searchOptions: function() {\n            let search = \"\";\n            if (this.queryParams && this.queryParams.filter != null) {\n                search += \" AND (\" + this.queryParams.filter + \")\";\n            }\n            /* var searchTerm = this.$store.getters['app/searchTerm'];\n            if (!searchTerm || searchTerm.length === 0) {\n                if (this.$store.getters['editor/conceptMode'] !== true) {\n                    search += \" AND (name NOT \\\"\\\")\";\n                }\n            }*/\n            if (this.searchType === 'DirectLink') {\n                search += \" AND @type:Competency\";\n                if (this.typesPermittedInSearch && this.typesPermittedInSearch.length > 0) {\n                    search += \" AND ((dcterms\\\\:type:\" + this.typesPermittedInSearch[0] + \")\";\n                    for (let i = 1; i < this.typesPermittedInSearch.length; i++) {\n                        search += \" OR (dcterms\\\\:type:\" + this.typesPermittedInSearch[i] + \")\";\n                    }\n                    search += \")\";\n                }\n            }\n            if (this.showMine || (this.queryParams && this.$store.getters['editor/conceptMode'] !== true && this.queryParams.show === \"mine\") ||\n                (this.queryParams && this.$store.getters['editor/conceptMode'] === true && this.queryParams.conceptShow === \"mine\")) {\n                if (EcIdentityManager.default.ids.length > 0) {\n                    search += \" AND (\";\n                    for (var i = 0; i < EcIdentityManager.default.ids.length; i++) {\n                        if (i !== 0) {\n                            search += \" OR \";\n                        }\n                        var id = EcIdentityManager.default.ids[i];\n                        search += \"\\\\*owner:\\\"\" + id.ppk.toPk().toPem() + \"\\\"\";\n                        search += \" OR \\\\*owner:\\\"\" + this.addNewlinesToId(id.ppk.toPk().toPem()) + \"\\\"\";\n                    }\n                    search += \")\";\n                }\n            }\n            return search;\n        },\n        paramObj: function() {\n            let obj = {};\n            obj.size = 20;\n            var searchTerm = this.$store.getters['app/searchTerm'];\n            if (!searchTerm || searchTerm.length === 0) {\n                var order = (this.sortBy === \"name.keyword\" || this.sortBy === \"dcterms:title.keyword\") ? \"asc\" : \"desc\";\n                obj.sort = '[ { \"' + this.sortBy + '\": {\"order\" : \"' + order + '\" , \"unmapped_type\" : \"long\",  \"missing\" : \"_last\"}} ]';\n            } else {\n                delete obj.sort;\n            }\n            if (EcIdentityManager.default.ids.length > 0 && this.queryParams && ((this.$store.getters['editor/conceptMode'] !== true && this.queryParams.show === 'mine') ||\n                (this.$store.getters['editor/conceptMode'] === true && this.queryParams.conceptShow === \"mine\"))) {\n                obj.ownership = 'me';\n            }\n            return obj;\n        },\n        searchType: function() {\n            return this.$store.state.lode.searchType;\n        },\n        sortResults: function() {\n            return this.$store.getters['app/sortResults'];\n        },\n        quickFilters: function() {\n            return this.$store.getters['app/quickFilters'];\n        },\n        filteredQuickFilters: function() {\n            if (this.quickFilters) {\n                let filterValues = this.quickFilters.filter(item => item.checked === true);\n                appLog('filtered value', filterValues);\n                return filterValues;\n            } else {\n                return [];\n            }\n        },\n        searchFrameworksInCompetencySearch: function() {\n            return this.$store.getters['app/searchFrameworksInCompetencySearch'];\n        },\n        searchTypeToPassToList: function() {\n            if (this.searchType === \"Competency\" && this.searchFrameworksInCompetencySearch) {\n                return \"Framework\";\n            } else if (this.searchType === \"DirectLink\") {\n                return \"Competency\";\n            } else {\n                return this.searchType;\n            }\n        }\n    },\n    mounted: async function() {\n        this.displayFirst.splice(0, this.displayFirst.length);\n        this.$store.commit('app/searchTerm', \"\");\n        if (!this.copyOrLink && this.searchType === \"Competency\" && this.framework.competency) {\n            for (var i = 0; i < this.framework.competency.length; i++) {\n                if (this.framework.competency[i] !== this.selectedCompetency.shortId()) {\n                    if (!this.idsNotPermittedInSearch || this.idsNotPermittedInSearch.length === 0 || !EcArray.has(this.idsNotPermittedInSearch, this.framework.competency[i])) {\n                        var comp = await EcRepository.get(this.framework.competency[i]);\n                        if (comp) {\n                            this.displayFirst.push(comp);\n                        }\n                    }\n                }\n            }\n        }\n        if (this.searchType === \"Level\" && this.framework.level) {\n            for (var i = 0; i < this.framework.level.length; i++) {\n                var comp = await EcRepository.get(this.framework.level[i]);\n                if (comp) {\n                    this.displayFirst.push(comp);\n                }\n            }\n        }\n    },\n    methods: {\n        resetModal: function() {\n            this.$store.commit('app/closeModal');\n            this.selectedIds = [];\n        },\n        selectedArrayEvent: async function(ary) {\n            this.selectedIds = ary;\n            if (!this.copyOrLink || this.searchType === \"Level\") {\n                this.$store.commit('editor/selectedCompetenciesAsProperties', this.selectedIds);\n            }\n            if (this.queryParams.selectRelations === \"true\" && this.framework.relation) {\n                for (var i = 0; i < this.framework.relation.length; i++) {\n                    var relation = await EcAlignment.get(this.framework.relation[i]);\n                    if (EcArray.has(selectedArray, relation.target)) {\n                        if (this.queryParams.selectVerbose === \"true\") {\n                            ary.push(JSON.parse((rld).toJson()));\n                        } else {\n                            ary.push(relation.shortId());\n                        }\n                    }\n                }\n            }\n        },\n        select: function(competency) {\n            if (competency.type === \"Framework\") {\n                return this.selectFramework(competency);\n            }\n            if (!EcArray.has(this.selectedIds, competency.shortId())) {\n                this.selectedIds.push(competency.shortId());\n            } else {\n                EcArray.setRemove(this.selectedIds, competency.shortId());\n            }\n            if (!this.copyOrLink || this.searchType === \"Level\" || this.searchType === \"DirectLink\") {\n                this.$store.commit('editor/selectedCompetenciesAsProperties', this.selectedIds);\n            }\n        },\n        selectFramework: function(framework) {\n            this.selectedFramework = framework;\n            this.$emit('selectFramework', framework);\n        },\n        addNewlinesToId: function(pem) {\n            // Begin public key line\n            pem = pem.substring(0, 26) + \"\\n\" + pem.substring(26);\n            var length = pem.length;\n            var start = 27;\n            while (start + 64 < length) {\n                pem = pem.substring(0, start + 64) + \"\\n\" + pem.substring(start + 64);\n                start += 65;\n                length++;\n            }\n            // End public key line\n            pem = pem.substring(0, length - 24) + \"\\n\" + pem.substring(length - 24);\n            return pem;\n        }\n    },\n    watch: {\n        sortResults: function() {\n            if (this.sortResults.id === \"lastEdited\") {\n                this.sortBy = \"schema:dateModified\";\n                this.displayFirst.splice(0, this.displayFirst.length);\n            } else {\n                this.sortBy = (this.$store.getters['editor/conceptMode'] === true || this.searchType === \"Concept\") ? \"dcterms:title.keyword\" : \"name.keyword\";\n                this.displayFirst.splice(0, this.displayFirst.length);\n            }\n        },\n        filteredQuickFilters: function() {\n            this.showMine = false;\n            for (var i = 0; i < this.filteredQuickFilters.length; i++) {\n                if (this.filteredQuickFilters[i].id === \"ownedByMe\") {\n                    this.showMine = true;\n                    this.displayFirst.splice(0, this.displayFirst.length);\n                }\n            }\n        },\n        selectedIds(newVal) {\n            if (this.parent === 'search-modal') {\n                this.$emit('setSelectedIds', newVal);\n            }\n        },\n        clearFramework() {\n            if (this.clearFramework) {\n                this.selectFramework(null);\n            }\n        }\n    }\n};\n</script>\n\n\n<style lang=\"scss\">\n    @import '@/scss/frameworks.scss';\n.search-modal,\n.modal.lode__thing-editing {\n    .breadcrumb {\n        padding-left: .125rem;\n    }\n    .lode__type {\n        display: none;\n    }\n    .competency-search{\n        .thing {\n            padding: .125rem .25rem !important;\n        }\n        .thing .list-thing:hover {\n            background-color: none;\n        }\n        .Thing__heading {\n            padding-left: .25rem !important;\n            margin-right: 2rem;\n        }\n        .edit-button {\n            display: none;\n        }\n\n        .list-ul__item:hover {\n            padding-top: .5rem;\n            background-color: var(--light-color);\n        }\n        .list-ul__item {\n            margin-top: .25rem;\n            border-radius: 3px;\n            padding: .5rem;\n        }\n    }\n    .property-section {\n        padding-top: 0rem !important;\n        padding-bottom: 0rem !important;\n    }\n\n    .cass--list {\n        .list-ul {\n            .list-ul__item {\n                padding: .5rem .25rem;\n                .search-selection__add-icon {\n                    visibility: hidden;\n                }\n                .search-selection__icon,\n                .search-selection__add-icon\n                {\n                    float: right;\n                    right: 16px;\n                    display: flex;\n                    height: 100%;\n                    align-content: center;\n                    .icon {\n                        height: 100%;\n                        padding-right: 16px;\n                    }\n                }\n            }\n            .list-ul__item:hover {\n                background-color: rgba($light, .5);\n                .lode__Competency .search-selection__add-icon {\n                    visibility: visible !important;\n                }\n            }\n        }\n    }\n\n}\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=ad06c9d4&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import common from '@/mixins/common.js';\nexport default {\n    mixins: [common],\n    methods: {\n        removeObject: function(thing) {\n            // Remove from container but don't delete\n            appLog(\"removing \" + thing.id);\n            var me = this;\n            var thisFramework = this.$store.getters['editor/framework'];\n            var initialCompetencies = thisFramework.competency ? thisFramework.competency.slice() : null;\n            var initialRelations = thisFramework.relation ? thisFramework.relation.slice() : null;\n            var initialLevels = thisFramework.level ? thisFramework.level.slice() : null;\n            thisFramework[\"schema:dateModified\"] = new Date().toISOString();\n            thisFramework.removeCompetency(thing.shortId(), async function() {\n                var framework = me.framework;\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels]}]);\n                if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[f.id] !== true) {\n                    framework = await EcEncryptedValue.toEncryptedValue(framework);\n                }\n                window.repo.saveTo(framework, function() {\n                    me.$store.commit('editor/framework', thisFramework);\n                }, appError);\n            }, appLog);\n        },\n        deleteObject: function(thing) {\n            appLog(\"deleting \" + thing.id);\n            var me = this;\n            var framework = this.$store.getters['editor/framework'];\n            if (thing.shortId() === framework.shortId()) {\n                // delete framework\n                window.repo.deleteRegistered(framework, function(success) {\n                    me.spitEvent(\"frameworkDeleted\", framework.shortId(), \"editFrameworkSection\");\n                    // Delete the framework, delete all non-used stuff.\n                    if (framework.competency != null) {\n                        for (var i = 0; i < framework.competency.length; i++) {\n                            me.conditionalDelete(framework.competency[i]);\n                        }\n                    }\n                    if (framework.relation != null) {\n                        for (var i = 0; i < framework.relation.length; i++) {\n                            me.conditionalDelete(framework.relation[i]);\n                        }\n                    }\n                    if (framework.level != null) {\n                        for (var i = 0; i < framework.level.length; i++) {\n                            me.conditionalDelete(framework.level[i]);\n                        }\n                    }\n                    me.$store.commit('editor/framework', null);\n                    if (me.importType) {\n                        // Calling function from import page\n                        me.$store.commit('app/importFramework', null);\n                    } else {\n                        me.$router.push({name: \"frameworks\"});\n                    }\n                }, appLog);\n            } else {\n                // Delete competency and relations\n                var initialCompetencies = framework.competency ? framework.competency.slice() : null;\n                var initialRelations = framework.relation ? framework.relation.slice() : null;\n                var initialLevels = framework.level ? framework.level.slice() : null;\n                this.$store.commit('editor/selectedCompetency', thing);\n                framework[\"schema:dateModified\"] = new Date().toISOString();\n                framework.removeCompetency(thing.shortId(), async function() {\n                    framework.removeLevel(thing.shortId());\n                    me.$store.commit('editor/addEditsToUndo', [\n                        {operation: \"delete\", obj: thing},\n                        {operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels], changedValue: [framework.competency, framework.relation, framework.level]}\n                    ]);\n                    me.conditionalDelete(thing.shortId());\n                    me.spitEvent(\"competencyDeleted\", thing.shortId(), \"editFrameworkSection\");\n                    me.$store.commit('editor/selectedCompetency', null);\n                    var frameworkToSave = framework;\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                        frameworkToSave = await EcEncryptedValue.toEncryptedValue(framework);\n                    }\n                    window.repo.saveTo(frameworkToSave, function() {\n                        me.$store.commit('editor/framework', framework);\n                    }, appError);\n                }, appLog);\n            }\n        }\n    }\n};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal cass-editor___modal\",class:[{'is-active': _vm.active}, 'is-' + _vm.size, 'cass-editor__modal--' + _vm.content],attrs:{\"id\":\"cass-modal\"}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-card\",class:'cass-editor__modal-card--' + _vm.size},[_c('header',{staticClass:\"modal-card-head is-size-4 has-text-weight-bold\",class:['has-background-' + _vm.type, 'has-text-' + _vm.fontColor ]},[_c('p',{staticClass:\"modal-card-title\"},[_vm._t(\"modal-header\")],2),(_vm.canClose)?_c('button',{staticClass:\"delete\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.$store.commit('app/closeModal'); _vm.$emit('close')}}}):_vm._e()]),_c('div',{staticClass:\"modal-card-body has-text-dark\"},[_vm._t(\"modal-body\")],2),_c('footer',{staticClass:\"modal-card-foot has-background-white\"},[_vm._t(\"modal-foot\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nThe modal template can be used to stylize any modal.\n\nModals that can be triggered from anywhere in the app\nshould be componetized and imported into the DynamicModal.vue\nSo they can be triggered from anywhere in the app using the store/app\n\nModals that are only used in one screen (info on very specific content)\nshould be componentized and imported into the screen that needs it.\n-->\n<template>\n    <div\n        class=\"modal cass-editor___modal\"\n        id=\"cass-modal\"\n        :class=\"[{'is-active': active}, 'is-' + size, 'cass-editor__modal--' + content]\">\n        <div class=\"modal-background\" />\n        <div\n            class=\"modal-card\"\n            :class=\"'cass-editor__modal-card--' + size\">\n            <header\n                class=\"modal-card-head is-size-4 has-text-weight-bold\"\n                :class=\"['has-background-' + type, 'has-text-' + fontColor, ]\">\n                <p class=\"modal-card-title\">\n                    <slot name=\"modal-header\" />\n                </p>\n                <button\n                    v-if=\"canClose\"\n                    class=\"delete\"\n                    @click=\"$store.commit('app/closeModal'); $emit('close')\"\n                    aria-label=\"close\" />\n            </header>\n            <div class=\"modal-card-body has-text-dark\">\n                <slot name=\"modal-body\" />\n            </div>\n            <footer class=\"modal-card-foot has-background-white\">\n                <slot name=\"modal-foot\" />\n            </footer>\n        </div>\n    </div>\n</template>\n\n<script>\nimport '@/scss/modal-template.scss';\nexport default {\n    name: 'ModalTemplate',\n    props: {\n        canClose: {\n            type: Boolean,\n            default: true\n        },\n        active: {\n            type: Boolean,\n            default: false\n        },\n        type: {\n            default: 'primary',\n            type: String\n        },\n        fontColor: {\n            type: String,\n            default: 'white'\n        },\n        size: {\n            type: String,\n            default: 'medium'\n        },\n        content: {\n            defualt: 'default',\n            type: String\n        }\n    },\n    data() {\n        return {\n        };\n    },\n    computed: {\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.cass-editor___modal{\n    z-index: 1000;\n}\n.modal-card.cass-editor__modal-card--small{\n    max-width: 600px;\n    min-height: 200px;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalTemplate.vue?vue&type=template&id=1c4e04a7&\"\nimport script from \"./ModalTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalTemplate.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchModal.vue?vue&type=style&index=0&id=58411e03&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchModal.vue?vue&type=style&index=0&id=58411e03&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-template',{attrs:{\"content\":\"search\",\"active\":true},on:{\"close\":_vm.closeModal}},[_c('template',{slot:\"modal-header\"},[_c('p',{staticClass:\"modal-card-title\"},[_c('span',{staticClass:\"title has-text-white\"},[_vm._v(\"Search for \"+_vm._s(_vm.searchType))]),_c('br'),(_vm.copyOrLink)?_c('span',{staticClass:\"subtitle has-text-white\"},[_c('b',[_vm._v(\"Editing framework:\")]),_vm._v(\" \"+_vm._s(_vm.frameworkName)+\" \")]):_vm._e()])]),_c('template',{slot:\"modal-body\"},[((_vm.selectedIds && _vm.selectedIds.length) || _vm.selectedFramework)?_c('button',{staticClass:\"button is-dark is-outlined is-small is-pulled-right\",on:{\"click\":_vm.clickClearFramework}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times\"})]),_c('span',[_vm._v(\" Clear selection \")])]):_vm._e(),_c('search',{ref:\"search\",attrs:{\"parent\":\"search-modal\",\"allowShowFrameworks\":true,\"clearFramework\":_vm.clearFramework,\"idsNotPermittedInSearch\":_vm.idsNotPermittedInSearch},on:{\"setSelectedIds\":function($event){_vm.selectedIds = $event},\"selectFramework\":_vm.selectFramework}})],1),_c('template',{slot:\"modal-foot\"},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-outlined is-dark\",on:{\"click\":_vm.closeModal}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times\"})]),_c('span',[_vm._v(\"cancel\")])]),(_vm.copyOrLink)?_c('button',{staticClass:\"button is-outlined is-primary\",attrs:{\"disabled\":!_vm.selectedIds || _vm.selectedIds.length === 0},on:{\"click\":_vm.copyCompetencies}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-copy\"})]),_c('span',[_vm._v(\" Copy \"+_vm._s(_vm.searchType)+\" \")])]):_vm._e(),(_vm.copyOrLink)?_c('button',{staticClass:\"button is-outlined is-primary\",attrs:{\"disabled\":!_vm.selectedIds || _vm.selectedIds.length === 0},on:{\"click\":_vm.appendCompetencies}},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-link\"})]),_c('span',[_vm._v(\" Link \"+_vm._s(_vm.searchType)+\" \")])]):_vm._e()])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <modal-template\n        @close=\"closeModal\"\n        content=\"search\"\n        :active=\"true\">\n        <template slot=\"modal-header\">\n            <p class=\"modal-card-title\">\n                <span class=\"title has-text-white\">Search for {{ searchType }}</span>\n                <br><span\n                    class=\"subtitle has-text-white\"\n                    v-if=\"copyOrLink\">\n                    <b>Editing framework:</b> {{ frameworkName }}\n                </span>\n            </p>\n        </template>\n        <template slot=\"modal-body\">\n            <button\n                class=\"button is-dark is-outlined is-small is-pulled-right\"\n                v-if=\"(selectedIds && selectedIds.length) || selectedFramework\"\n                @click=\"clickClearFramework\">\n                <span class=\"icon\">\n                    <i class=\"fa fa-times\" />\n                </span>\n                <span>\n                    Clear selection\n                </span>\n            </button>\n            <search\n                ref=\"search\"\n                @setSelectedIds=\"selectedIds = $event\"\n                parent=\"search-modal\"\n                :allowShowFrameworks=\"true\"\n                :clearFramework=\"clearFramework\"\n                @selectFramework=\"selectFramework\"\n                :idsNotPermittedInSearch=\"idsNotPermittedInSearch\" />\n        </template>\n        <template slot=\"modal-foot\">\n            <div class=\"buttons\">\n                <button\n                    class=\"button is-outlined is-dark\"\n                    @click=\"closeModal\">\n                    <span class=\"icon\">\n                        <i class=\"fa fa-times\" />\n                    </span>\n                    <span>cancel</span>\n                </button>\n                <button\n                    class=\"button is-outlined is-primary\"\n                    v-if=\"copyOrLink\"\n                    :disabled=\"!selectedIds || selectedIds.length === 0\"\n                    @click=\"copyCompetencies\">\n                    <span class=\"icon\">\n                        <i class=\"fa fa-copy\" />\n                    </span>\n                    <span>\n                        Copy {{ searchType }}\n                    </span>\n                </button>\n                <button\n                    class=\"button is-outlined is-primary\"\n                    v-if=\"copyOrLink\"\n                    :disabled=\"!selectedIds || selectedIds.length === 0\"\n                    @click=\"appendCompetencies\">\n                    <span class=\"icon\">\n                        <i class=\"fa fa-link\" />\n                    </span>\n                    <span>\n                        Link {{ searchType }}\n                    </span>\n                </button>\n            </div>\n        </template>\n    </modal-template>\n</template>\n\n<script>\nimport ModalTemplate from './ModalTemplate.vue';\nimport Search from '@/components/framework/Search.vue';\nimport common from '@/mixins/common.js';\nimport {mapState} from 'vuex';\n\nexport default {\n    name: 'SearchModal',\n    data() {\n        return {\n            selectedIds: [],\n            clearFramework: false,\n            selectedFramework: null,\n            repo: window.repo,\n            itemsSaving: 0\n        };\n    },\n    components: {\n        ModalTemplate,\n        Search\n    },\n    mixins: [common],\n    computed: {\n        ...mapState({\n            selectedCompetency: state => state.editor.selectedCompetency,\n            framework: state => state.editor.framework,\n            queryParams: state => state.editor.queryParams\n        }),\n        copyOrLink: function() {\n            return this.$store.state.lode.copyOrLink;\n        },\n        searchType: function() {\n            return this.$store.state.lode.searchType;\n        },\n        frameworkName: function() {\n            if (this.framework && this.framework.context) {\n                return this.framework.getName();\n            } else {\n                return '';\n            }\n        },\n        searchFrameworksInCompetencySearch: function() {\n            return this.$store.getters['app/searchFrameworksInCompetencySearch'];\n        },\n        idsNotPermittedInSearch: function() {\n            if (this.copyOrLink) {\n                let ary = [this.framework.shortId()];\n                if (this.framework.competency && this.framework.competency.length > 0) {\n                    ary = ary.concat(this.framework.competency);\n                }\n                return ary;\n            }\n            return null;\n        }\n    },\n    methods: {\n        closeModal: function() {\n            this.$store.commit('app/closeModal');\n        },\n        clickClearFramework: function() {\n            this.selectedIds.splice(0, this.selectedIds.length);\n            this.clearFramework = true;\n            this.$nextTick(() => {\n                this.clearFramework = false;\n            });\n        },\n        selectFramework: function(val) {\n            this.selectedFramework = val;\n        },\n        addRelations: async function() {\n            if (this.searchFrameworksInCompetencySearch && this.selectedFramework.relation) {\n                for (var i = 0; i < this.selectedFramework.relation.length; i++) {\n                    var relation = await EcAlignment.get(this.selectedFramework.relation[i]);\n                    if (EcArray.has(this.selectedIds, relation.target) && EcArray.has(this.selectedIds, relation.source)) {\n                        this.selectedIds.push(relation.shortId());\n                    }\n                }\n            }\n        },\n        copyCompetencies: async function() {\n            let results = this.selectedIds;\n            await this.addRelations();\n            var copyDict = {};\n            var framework = this.$store.state.editor.framework;\n            var initialCompetencies = this.framework.competency ? this.framework.competency.slice() : null;\n            var initialRelations = this.framework.relation ? this.framework.relation.slice() : null;\n            var initialLevels = this.framework.level ? this.framework.level.slice() : null;\n            var addedNew = [];\n            var me = this;\n            for (var i = 0; i < results.length; i++) {\n                var thing = await EcRepository.get(results[i]);\n                if (thing != null && thing.isAny(new EcCompetency().getTypes())) {\n                    var c = new EcCompetency();\n                    c.copyFrom(thing);\n                    if (this.queryParams.newObjectEndpoint != null) {\n                        c.generateShortId(this.queryParams.newObjectEndpoint);\n                    } else {\n                        c.generateId(this.repo.selectedServer);\n                    }\n                    addedNew.push(c.shortId());\n                    c[\"schema:dateCreated\"] = new Date().toISOString();\n                    c[\"schema:dateModified\"] = new Date().toISOString();\n                    delete c.owner;\n                    if (EcIdentityManager.default.ids.length > 0) {\n                        c.addOwner(EcIdentityManager.default.ids[0].ppk.toPk());\n                    }\n                    if (framework.owner && framework.owner.length > 0) {\n                        for (var j = 0; j < framework.owner.length; j++) {\n                            var owner = framework.owner[j];\n                            c.addOwner(EcPk.fromPem(owner));\n                        }\n                    }\n                    if (framework.reader && framework.reader.length > 0) {\n                        for (var j = 0; j < framework.reader.length; j++) {\n                            var reader = framework.reader[j];\n                            c.addReader(EcPk.fromPem(reader));\n                        }\n                    }\n                    c['ceasn:derivedFrom'] = thing.id;\n                    copyDict[thing.shortId()] = c;\n                    if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[c.id] !== true) {\n                        c = await EcEncryptedValue.toEncryptedValue(c);\n                    }\n                    this.itemsSaving++;\n                    (function(c) {\n                        Task.asyncImmediate(function(callback) {\n                            me.repo.saveTo(c, function() {\n                                framework.addCompetency(c.shortId());\n                                me.$store.commit('editor/framework', framework);\n                                me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                callback();\n                            }, function(error) {\n                                appError(error);\n                                me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                callback();\n                            });\n                        });\n                    })(c);\n                } else if (thing != null && thing.isAny(new EcLevel().getTypes())) {\n                    var level = new EcLevel();\n                    level.copyFrom(thing);\n                    if (this.queryParams.newObjectEndpoint != null) {\n                        level.generateShortId(this.queryParams.newObjectEndpoint);\n                    } else {\n                        level.generateId(this.repo.selectedServer);\n                    }\n                    addedNew.push(level.shortId());\n                    level[\"schema:dateCreated\"] = new Date().toISOString();\n                    level.competency = this.$store.state.editor.selectedCompetency.shortId();\n                    delete level.owner;\n                    level['ceasn:derivedFrom'] = thing.id;\n                    copyDict[thing.shortId()] = level;\n                    if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[level.id] !== true) {\n                        level = await EcEncryptedValue.toEncryptedValue(level);\n                    }\n                    this.itemsSaving++;\n                    (function(level) {\n                        Task.asyncImmediate(function(callback) {\n                            me.repo.saveTo(level, function() {\n                                framework.addLevel(level.shortId());\n                                me.$store.commit('editor/framework', framework);\n                                me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                callback();\n                            }, function(error) {\n                                appError(error);\n                                me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                callback();\n                            });\n                        });\n                    })(level);\n                }\n            }\n            for (var i = 0; i < results.length; i++) {\n                var thing = await EcRepository.get(results[i]);\n                if (thing != null && thing.isAny(new EcAlignment().getTypes())) {\n                    var parent = copyDict[thing.target];\n                    var child = copyDict[thing.source];\n\n                    if (typeof parent !== 'undefined' && typeof child !== 'undefined') {\n                        var r = new EcAlignment();\n                        r.copyFrom(thing);\n                        if (this.queryParams.newObjectEndpoint != null) {\n                            r.generateShortId(this.queryParams.newObjectEndpoint);\n                        } else {\n                            r.generateId(this.repo.selectedServer);\n                        }\n                        addedNew.push(r.shortId());\n                        r[\"schema:dateCreated\"] = new Date().toISOString();\n\n                        r.target = parent.shortId();\n                        r.source = child.shortId();\n                        r.relationType = thing.relationType;\n                        if (EcIdentityManager.default.ids.length > 0) {\n                            r.addOwner(EcIdentityManager.default.ids[0].ppk.toPk());\n                        }\n                        if (framework.owner && framework.owner.length > 0) {\n                            for (var j = 0; j < framework.owner.length; j++) {\n                                var owner = framework.owner[j];\n                                r.addOwner(EcPk.fromPem(owner));\n                            }\n                        }\n                        if (framework.reader && framework.reader.length > 0) {\n                            for (var j = 0; j < framework.reader.length; j++) {\n                                var reader = framework.reader[j];\n                                r.addReader(EcPk.fromPem(reader));\n                            }\n                        }\n                        if (r.source !== r.target) {\n                            framework[\"schema:dateModified\"] = new Date().toISOString();\n                            if (this.$store.state.editor.private === true) {\n                                r = await EcEncryptedValue.toEncryptedValue(r);\n                            }\n                            this.itemsSaving++;\n                            (function(r) {\n                                Task.asyncImmediate(function(callback) {\n                                    me.repo.saveTo(r, function() {\n                                        framework.addRelation(r.id);\n                                        me.$store.commit('editor/framework', framework);\n                                        me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                        callback();\n                                    },\n                                    function(error) {\n                                        appError(error);\n                                        me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                        callback();\n                                    });\n                                });\n                            })(r);\n                        }\n                    }\n                }\n            }\n            var selectedCompetency = this.$store.state.editor.selectedCompetency;\n            for (var i = 0; i < results.length; i++) {\n                var thing = await EcRepository.get(results[i]);\n                if (thing != null && thing.isAny(new EcCompetency().getTypes())) {\n                    if (selectedCompetency != null) {\n                        var r = new EcAlignment();\n                        if (this.queryParams.newObjectEndpoint != null) {\n                            r.generateShortId(this.queryParams.newObjectEndpoint);\n                        } else {\n                            r.generateId(this.repo.selectedServer);\n                        }\n                        addedNew.push(r.shortId());\n                        r[\"schema:dateCreated\"] = new Date().toISOString();\n\n                        var child = copyDict[thing.shortId()];\n\n                        r.target = selectedCompetency.shortId();\n                        r.source = child.shortId();\n                        r.relationType = Relation.NARROWS;\n                        if (EcIdentityManager.default.ids.length > 0) {\n                            r.addOwner(EcIdentityManager.default.ids[0].ppk.toPk());\n                        }\n                        if (framework.owner && framework.owner.length > 0) {\n                            for (var j = 0; j < framework.owner.length; j++) {\n                                var owner = framework.owner[j];\n                                r.addOwner(EcPk.fromPem(owner));\n                            }\n                        }\n                        if (framework.reader && framework.reader.length > 0) {\n                            for (var j = 0; j < framework.reader.length; j++) {\n                                var reader = framework.reader[j];\n                                r.addReader(EcPk.fromPem(reader));\n                            }\n                        }\n                        if (r.source !== r.target) {\n                            this.itemsSaving++;\n                            framework.addRelation(r.id);\n                            framework[\"schema:dateModified\"] = new Date().toISOString();\n                            if (this.$store.state.editor.private === true) {\n                                r = await EcEncryptedValue.toEncryptedValue(r);\n                            }\n                            (function(r) {\n                                Task.asyncImmediate(function(callback) {\n                                    me.repo.saveTo(r, function() {\n                                        me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                        callback();\n                                    },\n                                    function(error) {\n                                        appError(error);\n                                        me.afterCopy(initialCompetencies, initialRelations, initialLevels, addedNew);\n                                        callback();\n                                    });\n                                });\n                            })(r);\n                        }\n                    }\n                }\n            }\n        },\n        afterCopy: async function(initialCompetencies, initialRelations, initialLevels, addedNew) {\n            this.itemsSaving--;\n            // loading(this.itemsSaving + \" objects left to copy.\");\n            if (this.itemsSaving === 0) {\n                var framework = this.$store.state.editor.framework;\n                var changes = [];\n                for (var i = 0; i < addedNew.length; i++) {\n                    changes.push({operation: \"addNew\", id: addedNew[i]});\n                }\n                changes.push({operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels], changedValue: [framework.competency, framework.relation, framework.level]});\n                this.$store.commit('editor/addEditsToUndo', changes);\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                    framework = await EcEncryptedValue.toEncryptedValue(framework);\n                }\n                this.repo.saveTo(framework, function() {}, appError);\n                this.closeModal();\n            }\n        },\n        appendCompetencies: async function() {\n            let results = this.selectedIds;\n            await this.addRelations();\n            var selectedCompetency = this.$store.state.editor.selectedCompetency;\n            var framework = this.$store.state.editor.framework;\n            var initialCompetencies = this.framework.competency ? this.framework.competency.slice() : null;\n            var initialRelations = this.framework.relation ? this.framework.relation.slice() : null;\n            var initialLevels = this.framework.level ? this.framework.level.slice() : null;\n            var initialLevelCompetency = [];\n            var afterLevelCompetency = [];\n            var addedNew = [];\n            var me = this;\n            for (var i = 0; i < results.length; i++) {\n                var thing = await EcRepository.get(results[i]);\n                if (thing.isAny(new EcCompetency().getTypes())) {\n                    framework.addCompetency(thing.shortId());\n                } else if (thing.isAny(new EcLevel().getTypes())) {\n                    framework.addLevel(thing.shortId());\n                    if (!EcArray.isArray(thing.competency)) {\n                        thing.competency = [thing.competency];\n                    }\n                    var thingId = thing.shortId();\n                    initialLevelCompetency.push({id: thingId, competency: thing.competency.splice()});\n                    thing.competency.push(selectedCompetency.shortId());\n                    afterLevelCompetency.push({id: thingId, competency: thing.competency});\n                    this.repo.saveTo(thing, function() {}, appError);\n                }\n            }\n            for (var i = 0; i < results.length; i++) {\n                var thing = await EcRepository.get(results[i]);\n                if (thing.isAny(new EcAlignment().getTypes())) {\n                    if (EcArray.has(framework.competency, thing.source)) {\n                        if (EcArray.has(framework.competency, thing.target)) {\n                            framework.addRelation(thing.shortId());\n                        }\n                    }\n                }\n            }\n\n            for (var i = 0; i < results.length; i++) {\n                var thing = await EcRepository.get(results[i]);\n                if (thing.isAny(new EcCompetency().getTypes())) {\n                    if (selectedCompetency != null) {\n                        var r = new EcAlignment();\n                        if (this.queryParams.newObjectEndpoint != null) {\n                            r.generateShortId(this.queryParams.newObjectEndpoint);\n                        } else {\n                            r.generateId(this.repo.selectedServer);\n                        }\n                        addedNew.push(r.shortId());\n                        r[\"schema:dateCreated\"] = new Date().toISOString();\n\n                        r.target = selectedCompetency.shortId();\n                        r.source = thing.shortId();\n                        r.relationType = Relation.NARROWS;\n                        if (EcIdentityManager.default.ids.length > 0) {\n                            r.addOwner(EcIdentityManager.default.ids[0].ppk.toPk());\n                        }\n                        if (framework.owner && framework.owner.length > 0) {\n                            for (var j = 0; j < framework.owner.length; j++) {\n                                var owner = framework.owner[j];\n                                r.addOwner(EcPk.fromPem(owner));\n                            }\n                        }\n                        if (framework.reader && framework.reader.length > 0) {\n                            for (var j = 0; j < framework.reader.length; j++) {\n                                var reader = framework.reader[j];\n                                r.addReader(EcPk.fromPem(reader));\n                            }\n                        }\n\n                        if (r.source !== r.target) {\n                            framework.addRelation(r.id);\n                            if (this.$store.state.editor.private === true) {\n                                r = await EcEncryptedValue.toEncryptedValue(r);\n                            }\n                            this.repo.saveTo(r, function() {}, appError);\n                        }\n                    }\n                }\n            }\n            var changes = [];\n            for (var i = 0; i < addedNew.length; i++) {\n                changes.push({operation: \"addNew\", id: addedNew[i]});\n            }\n            if (initialLevelCompetency.length > 0) {\n                for (var i = 0; i < initialLevelCompetency.length; i++) {\n                    changes.push({operation: \"update\", id: initialLevelCompetency[i].id, fieldChanged: [\"competency\"], initialValue: [initialLevelCompetency[i].competency], changedValue: [afterLevelCompetency[i].competency]});\n                }\n            }\n            changes.push({operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels], changedValue: [framework.competency, framework.relation, framework.level]});\n            this.$store.commit('editor/addEditsToUndo', changes);\n            if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                framework = await EcEncryptedValue.toEncryptedValue(framework);\n            }\n            this.repo.saveTo(framework, async function() {\n                me.$store.commit('editor/framework', await EcFramework.get(framework.id));\n                me.closeModal();\n            }, appError);\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.cass-editor__modal--search {\n    .hierarchy-item__buttons {\n        display: none !important;\n    }\n    .lode__type {\n        font-size: 1rem;\n        color: var(--dark);\n    }\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchModal.vue?vue&type=template&id=58411e03&scoped=true&\"\nimport script from \"./SearchModal.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchModal.vue?vue&type=style&index=0&id=58411e03&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58411e03\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}