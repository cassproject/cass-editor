{"version":3,"sources":["webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?988b","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?7a22","webpack:///src/views/conceptScheme/ConceptHierarchy.vue","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?f9a0","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","canEdit","view","queryParams","select","attrs","directives","name","rawName","value","expression","domProps","Array","isArray","selectAll","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_e","expanded","$emit","selectedArray","_v","_s","selectButtonText","multipleSelected","addingNode","_m","addConceptOrChildText","onClickCreateNew","class","canCopyOrCut","copyClick","cutClick","canPaste","pasteClick","cancelImport","$store","dispatch","openFramework","_b","isDraggable","beginDrag","endDrag","model","callback","hierarchy","dragOptions","_l","item","index","key","obj","id","subview","dragging","children","profile","exportOptions","highlightList","newFramework","container","properties","shiftKey","arrowKey","onCreateNewNode","handleMountingNode","add","move","deleteObject","exportObject","onDraggableCheck","staticRenderFns","component"],"mappings":"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","file":"js/chunk-31ea397f.8732fb96.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lode__hierarchy\"},[_c('div',{staticClass:\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\"},[((_vm.canEdit && _vm.view !== 'import') || _vm.queryParams.select)?_c('div',{staticClass:\"column is-narrow\",attrs:{\"id\":\"check-radio-all-column\"}},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectAll),expression:\"selectAll\"}],staticClass:\"is-checkradio\",attrs:{\"id\":\"selectAllCheckbox\",\"type\":\"checkbox\",\"name\":\"selectAllCheckbox\"},domProps:{\"checked\":Array.isArray(_vm.selectAll)?_vm._i(_vm.selectAll,null)>-1:(_vm.selectAll)},on:{\"change\":function($event){var $$a=_vm.selectAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectAll=$$c}}}}),_c('label',{attrs:{\"for\":\"selectAllCheckbox\"}})])]):_vm._e(),_c('div',{staticClass:\"column is-narrow\"},[(_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=false}}},[_c('i',{staticClass:\"fa fa-caret-down has-text-primary is-size-2\"})]):(!_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=true}}},[_c('i',{staticClass:\"fa fa-caret-right has-text-primary is-size-2\"})]):_c('div',{staticClass:\"icon is-vcentered\"},[_c('i',{staticClass:\"fa fa-circle is-size-6 has-text-light\"})]),(_vm.selectButtonText)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('select-button-click', _vm.selectedArray)}}},[_vm._v(\" \"+_vm._s(_vm.selectButtonText)+\" \")]):_vm._e()]),_c('div',{staticClass:\"column is-narrow\"},[_c('div',{staticClass:\"buttons\"},[(_vm.multipleSelected && !_vm.addingNode && _vm.view !== 'import' && _vm.canEdit)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('edit-multiple-event')}}},[_vm._m(0),_c('span',[_vm._v(\" Edit multiple \")])]):_vm._e(),(!_vm.addingNode && _vm.canEdit && !_vm.multipleSelected)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){_vm.addingNode = true;}}},[_vm._m(1),_c('span',[_vm._v(\" \"+_vm._s(_vm.addConceptOrChildText)+\" \")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-dark \",on:{\"click\":function($event){_vm.addingNode = false;}}},[_vm._m(2),_c('span',[_vm._v(\"cancel\")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-primary \",on:{\"click\":_vm.onClickCreateNew}},[_vm._m(3),_c('span',[_vm._v(\" create new \")])]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canCopyOrCut ? 'is-primary' : 'is-disabled',attrs:{\"disabled\":!_vm.canCopyOrCut,\"title\":\"Copy competency\"},on:{\"click\":_vm.copyClick}},[_vm._m(4)]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canCopyOrCut ? 'is-primary' : 'is-disabled',attrs:{\"title\":\"Cut competency\",\"disabled\":!_vm.canCopyOrCut},on:{\"click\":_vm.cutClick}},[_vm._m(5)]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined \",class:_vm.canPaste ? 'is-primary' : 'is-disabled',attrs:{\"disabled\":!_vm.canPaste,\"title\":\"Paste competency\"},on:{\"click\":_vm.pasteClick}},[_vm._m(6)]):_vm._e()])]),(_vm.view === 'import')?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\" button is-light is-pulled-right is-dark is-outlined\",on:{\"click\":_vm.cancelImport}},[_c('span',[_vm._v(\" Cancel \")]),_vm._m(7)]),_c('div',{staticClass:\"button is-dark is-outlined is-pulled-right\",on:{\"click\":function($event){return _vm.$store.dispatch('app/clearImport')}}},[_c('span',[_vm._v(\" import again \")]),_vm._m(8)]),_c('div',{staticClass:\"button is-dark is-outlined is-pulled-right\",on:{\"click\":_vm.openFramework}},[_c('span',[_vm._v(\"view in editor\")]),_vm._m(9)]),_c('router-link',{staticClass:\"button is-primary is-outlined is -pulled-right\",attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\" Done \")]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-home\"})])])],1)])]):_vm._e()]),(_vm.hierarchy)?[_c('draggable',_vm._b({staticClass:\"lode__hierarchy-ul\",attrs:{\"tag\":\"ul\",\"disabled\":_vm.canEdit !== true || !_vm.isDraggable,\"group\":{ name: 'test' },\"handle\":\".handle\"},on:{\"start\":_vm.beginDrag,\"end\":_vm.endDrag},model:{value:(_vm.hierarchy),callback:function ($$v) {_vm.hierarchy=$$v},expression:\"hierarchy\"}},'draggable',_vm.dragOptions,false),_vm._l((_vm.hierarchy),function(item,index){return _c('HierarchyNode',{key:item.obj.id,staticClass:\"lode__hierarchy-li\",attrs:{\"view\":_vm.view,\"subview\":_vm.subview,\"obj\":item.obj,\"dragging\":_vm.dragging,\"canEdit\":_vm.canEdit,\"hasChild\":item.children,\"profile\":_vm.profile,\"exportOptions\":_vm.exportOptions,\"highlightList\":_vm.highlightList,\"selectAll\":_vm.selectAll,\"newFramework\":_vm.newFramework,\"index\":index,\"frameworkEditable\":_vm.canEdit,\"selectedArray\":_vm.selectedArray,\"parentStructure\":_vm.hierarchy,\"parent\":_vm.container,\"properties\":_vm.properties,\"expandAll\":_vm.expanded==true,\"parentChecked\":false,\"shiftKey\":_vm.shiftKey,\"arrowKey\":_vm.arrowKey},on:{\"create-new-node-event\":_vm.onCreateNewNode,\"mounting-node\":_vm.handleMountingNode,\"add\":_vm.add,\"begin-drag\":_vm.beginDrag,\"move\":_vm.move,\"delete-object\":_vm.deleteObject,\"export-object\":_vm.exportObject,\"select\":_vm.select,\"draggable-check\":_vm.onDraggableCheck}})}),1)]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-cog\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-copy\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas handle fa-cut\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-paste\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-redo-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-edit\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"lode__hierarchy\">\r\n        <div\r\n            class=\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\">\r\n            <!-- CONTROLS FOR SELECT: ENABLED MULTI EDIT  -->\r\n            <div\r\n                v-if=\"(canEdit && view !== 'import') || queryParams.select\"\r\n                id=\"check-radio-all-column\"\r\n                class=\"column is-narrow\">\r\n                <div\r\n                    class=\"field\">\r\n                    <input\r\n                        class=\"is-checkradio\"\r\n                        id=\"selectAllCheckbox\"\r\n                        type=\"checkbox\"\r\n                        name=\"selectAllCheckbox\"\r\n                        v-model=\"selectAll\">\r\n                    <label for=\"selectAllCheckbox\" />\r\n                </div>\r\n            </div>\r\n            <!-- CONTROLS FOR EXPAND  -->\r\n            <div class=\"column is-narrow\">\r\n                <div\r\n                    v-if=\"expanded\"\r\n                    class=\"icon is-vcentered\"\r\n                    @click=\"expanded=false\">\r\n                    <i class=\"fa fa-caret-down has-text-primary is-size-2\" />\r\n                </div>\r\n                <div\r\n                    v-else-if=\"!expanded\"\r\n                    class=\"icon is-vcentered\"\r\n                    @click=\"expanded=true\">\r\n                    <i class=\"fa fa-caret-right has-text-primary is-size-2\" />\r\n                </div>\r\n                <div\r\n                    v-else\r\n                    class=\"icon is-vcentered\">\r\n                    <i class=\"fa fa-circle is-size-6 has-text-light\" />\r\n                </div>\r\n                <div\r\n                    v-if=\"selectButtonText\"\r\n                    @click=\"$emit('select-button-click', selectedArray)\"\r\n                    class=\"button is-outlined is-primary\">\r\n                    {{ selectButtonText }}\r\n                </div>\r\n            </div>\r\n            <!-- MULTI EDIT BUTTONS -->\r\n            <div class=\"column is-narrow\">\r\n                <div\r\n                    class=\"buttons\">\r\n                    <div\r\n                        v-if=\"multipleSelected && !addingNode && view !== 'import' && canEdit\"\r\n                        @click=\"$emit('edit-multiple-event')\"\r\n                        class=\"button is-outlined is-primary\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-cog\" />\r\n                        </span>\r\n                        <span>\r\n                            Edit multiple\r\n                        </span>\r\n                    </div>\r\n                    <!-- if multiple are selected allow for edit multiple -->\r\n                    <div\r\n                        @click=\"addingNode = true;\"\r\n                        v-if=\"!addingNode && canEdit && !multipleSelected\"\r\n                        class=\"button is-outlined is-primary\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-plus-circle\" />\r\n                        </span>\r\n                        <span>\r\n                            {{ addConceptOrChildText }}\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"addingNode\"\r\n                        @click=\"addingNode = false;\"\r\n                        class=\"button is-outlined is-dark \">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-times\" />\r\n                        </span>\r\n                        <span>cancel</span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"addingNode\"\r\n                        @click=\"onClickCreateNew\"\r\n                        class=\"button is-outlined is-primary \">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-plus\" />\r\n                        </span>\r\n                        <span>\r\n                            create new\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"view === 'framework' || view === 'concept'\"\r\n                        :disabled=\"!canCopyOrCut\"\r\n                        title=\"Copy competency\"\r\n                        :class=\"canCopyOrCut ? 'is-primary' : 'is-disabled'\"\r\n                        class=\"button is-outlined\"\r\n                        @click=\"copyClick\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-copy\" />\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"view === 'framework' || view === 'concept'\"\r\n                        title=\"Cut competency\"\r\n                        :disabled=\"!canCopyOrCut\"\r\n                        class=\"button is-outlined\"\r\n                        :class=\"canCopyOrCut ? 'is-primary' : 'is-disabled'\"\r\n                        @click=\"cutClick\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fas handle fa-cut\" />\r\n                        </span>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"view === 'framework' || view === 'concept'\"\r\n                        :disabled=\"!canPaste\"\r\n                        class=\"button is-outlined \"\r\n                        @click=\"pasteClick\"\r\n                        :class=\"canPaste ? 'is-primary' : 'is-disabled'\"\r\n                        title=\"Paste competency\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fa fa-paste\" />\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- IMPORT WORKFLOW BUTTONS -->\r\n            <div\r\n                class=\"column\"\r\n                v-if=\"view === 'import'\">\r\n                <div class=\"buttons is-right\">\r\n                    <!-- import details options -->\r\n                    <div\r\n                        class=\"buttons is-right\">\r\n                        <!-- cancel button -->\r\n                        <div\r\n                            @click=\"cancelImport\"\r\n                            class=\" button is-light is-pulled-right is-dark is-outlined\">\r\n                            <span>\r\n                                Cancel\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-times-circle\" />\r\n                            </span>\r\n                        </div>\r\n                        <!--  start over -->\r\n                        <div\r\n                            @click=\"$store.dispatch('app/clearImport')\"\r\n                            class=\"button is-dark is-outlined is-pulled-right\">\r\n                            <span>\r\n                                import again\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-redo-alt\" />\r\n                            </span>\r\n                        </div>\r\n                        <!-- open in editor -->\r\n                        <div\r\n                            @click=\"openFramework\"\r\n                            class=\"button is-dark is-outlined is-pulled-right\">\r\n                            <span>view in editor</span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-edit\" />\r\n                            </span>\r\n                        </div>\r\n                        <!--  home -->\r\n                        <router-link\r\n                            class=\"button is-primary is-outlined is -pulled-right\"\r\n                            to=\"/\">\r\n                            <span>\r\n                                Done\r\n                            </span>\r\n                            <span class=\"icon\">\r\n                                <i class=\"fa fa-home\" />\r\n                            </span>\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <template\r\n            v-if=\"hierarchy\">\r\n            <draggable\r\n                v-bind=\"dragOptions\"\r\n                v-model=\"hierarchy\"\r\n                tag=\"ul\"\r\n                class=\"lode__hierarchy-ul\"\r\n                :disabled=\"canEdit !== true || !isDraggable\"\r\n                :group=\"{ name: 'test' }\"\r\n                @start=\"beginDrag\"\r\n                handle=\".handle\"\r\n                @end=\"endDrag\">\r\n                <HierarchyNode\r\n                    :view=\"view\"\r\n                    @create-new-node-event=\"onCreateNewNode\"\r\n                    :subview=\"subview\"\r\n                    @mounting-node=\"handleMountingNode\"\r\n                    v-for=\"(item, index) in hierarchy\"\r\n                    :key=\"item.obj.id\"\r\n                    :obj=\"item.obj\"\r\n                    class=\"lode__hierarchy-li\"\r\n                    :dragging=\"dragging\"\r\n                    :canEdit=\"canEdit\"\r\n                    :hasChild=\"item.children\"\r\n                    :profile=\"profile\"\r\n                    :exportOptions=\"exportOptions\"\r\n                    :highlightList=\"highlightList\"\r\n                    :selectAll=\"selectAll\"\r\n                    :newFramework=\"newFramework\"\r\n                    :index=\"index\"\r\n                    :frameworkEditable=\"canEdit\"\r\n                    :selectedArray=\"selectedArray\"\r\n                    @add=\"add\"\r\n                    @begin-drag=\"beginDrag\"\r\n                    @move=\"move\"\r\n                    @delete-object=\"deleteObject\"\r\n                    @export-object=\"exportObject\"\r\n                    @select=\"select\"\r\n                    :parentStructure=\"hierarchy\"\r\n                    :parent=\"container\"\r\n                    @draggable-check=\"onDraggableCheck\"\r\n                    :properties=\"properties\"\r\n                    :expandAll=\"expanded==true\"\r\n                    :parentChecked=\"false\"\r\n                    :shiftKey=\"shiftKey\"\r\n                    :arrowKey=\"arrowKey\" />\r\n            </draggable>\r\n        </template>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport common from '@/mixins/common.js';\r\nvar hierarchyTimeout;\r\nexport default {\r\n    name: 'ConceptHierarchy',\r\n    props: {\r\n        container: Object,\r\n        containerType: String,\r\n        repo: Object,\r\n        profile: Object,\r\n        exportOptions: Array,\r\n        highlightList: Array,\r\n        selectMode: Boolean,\r\n        selectAll: Boolean,\r\n        containerTypeGet: String,\r\n        viewOnly: Boolean,\r\n        newFramework: Boolean,\r\n        properties: String,\r\n        view: {\r\n            type: String,\r\n            default: 'framework'\r\n        },\r\n        subview: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        doneDragging: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data: function() {\r\n        return {\r\n            structure: [],\r\n            once: true,\r\n            dragging: false,\r\n            controlOnStart: false,\r\n            filter: 'showAll',\r\n            dragIcon: 'fa-arrows-alt',\r\n            dragOptions: {\r\n                delay: 100,\r\n                disabled: false,\r\n                ghostClass: 'ghost-drag',\r\n                chosenClass: 'chosen-drag',\r\n                dragClass: 'drag',\r\n                scrollSensitivity: 200,\r\n                forceFallback: true\r\n            },\r\n            multipleSelected: false,\r\n            addingNode: false,\r\n            selectedArray: [],\r\n            selectButtonText: null,\r\n            expanded: true,\r\n            isDraggable: true,\r\n            shiftKey: false,\r\n            arrowKey: null,\r\n            addConceptOrChildText: \"Add Concept\"\r\n        };\r\n    },\r\n    components: {\r\n        HierarchyNode: () => import('@/lode/components/HierarchyNode.vue'),\r\n        draggable: () => import('vuedraggable')\r\n    },\r\n    mixins: [common],\r\n    computed: {\r\n        canCopyOrCut: function() {\r\n            if (this.selectedArray && this.selectedArray.length === 1) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n        canPaste: function() {\r\n            if ((this.$store.getters['editor/copyId'] !== null || this.$store.getters['editor/cutId'] !== null) && this.$store.getters['editor/nodeInFocus'] !== null) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n        queryParams: function() {\r\n            return this.$store.getters['editor/queryParams'];\r\n        },\r\n        addAnother: function() {\r\n            return this.$store.getters['editor/addAnother'];\r\n        },\r\n        hierarchy: function() {\r\n            var me = this;\r\n            if (this.container == null) return null;\r\n            if (!this.once) return this.structure;\r\n            appLog(\"Computing hierarchy.\");\r\n            var precache = [];\r\n            if (this.container[\"skos:hasTopConcept\"] != null) { precache = precache.concat(this.container[\"skos:hasTopConcept\"]); }\r\n            if (precache.length > 0) {\r\n                this.repo.multiget(precache, function(success) {\r\n                    me.computeHierarchy();\r\n                }, appError, appLog);\r\n            } else {\r\n                me.computeHierarchy();\r\n            }\r\n            return this.structure;\r\n        },\r\n        // True if the current client can edit this object.\r\n        canEdit: function() {\r\n            if (this.viewOnly === true) {\r\n                return false;\r\n            }\r\n            return this.container.canEditAny(EcIdentityManager.getMyPks());\r\n        },\r\n        recomputeHierarchy: function() {\r\n            return this.$store.getters['editor/recomputeHierarchy'];\r\n        }\r\n    },\r\n    watch: {\r\n        container: {\r\n            handler() {\r\n                this.once = true;\r\n            },\r\n            deep: true\r\n        },\r\n        selectedArray: function() {\r\n            if (this.selectedArray.length > 1) {\r\n                this.multipleSelected = true;\r\n            } else {\r\n                this.multipleSelected = false;\r\n            }\r\n            if (this.selectedArray.length === 1) {\r\n                this.addConceptOrChildText = \"Add Child\";\r\n            } else {\r\n                this.addConceptOrChildText = \"Add Concept\";\r\n            }\r\n            this.$emit('selected-array', this.selectedArray);\r\n        },\r\n        // Concepts can't just depend on fields on the container object like frameworks can for reactivity\r\n        recomputeHierarchy: function() {\r\n            if (this.recomputeHierarchy) {\r\n                this.once = true;\r\n                this.$store.commit('editor/recomputeHierarchy', false);\r\n            }\r\n        },\r\n        doneDragging: function() {\r\n            if (this.doneDragging) {\r\n                this.dragging = false;\r\n            }\r\n        },\r\n        addAnother: function(val) {\r\n            if (val) {\r\n                this.onClickCreateNew();\r\n                this.$store.commit('editor/addAnother', false);\r\n            }\r\n        }\r\n    },\r\n    mounted: function() {\r\n        if (this.queryParams) {\r\n            if (this.queryParams.singleSelect) {\r\n                this.selectButtonText = this.queryParams.singleSelect;\r\n            }\r\n            if (this.queryParams.select) {\r\n                if (this.queryParams.select !== \"\" && this.queryParams.select !== \"select\") {\r\n                    this.selectButtonText = this.queryParams.select;\r\n                }\r\n            }\r\n        }\r\n        window.addEventListener(\"keydown\", this.keydown);\r\n        window.addEventListener(\"keyup\", this.keyup);\r\n    },\r\n    beforeDestroy: function() {\r\n        window.removeEventListener('keyup', this.keyup);\r\n        window.removeEventListener('keydown', this.keydown);\r\n    },\r\n    methods: {\r\n        cutClick: function() {\r\n            if (this.selectedArray && this.selectedArray.length === 1) {\r\n                this.$store.commit('editor/cutId', this.selectedArray[0]);\r\n            }\r\n            this.$store.commit('editor/copyId', null);\r\n            this.$store.commit('editor/paste', false);\r\n        },\r\n        copyClick: function() {\r\n            if (this.selectedArray && this.selectedArray.length === 1) {\r\n                this.$store.commit('editor/copyId', this.selectedArray[0]);\r\n            }\r\n            this.$store.commit('editor/cutId', null);\r\n            this.$store.commit('editor/paste', false);\r\n        },\r\n        pasteClick: function() {\r\n            this.$store.commit('editor/paste', true);\r\n        },\r\n        keydown(e) {\r\n            if (this.canEdit) {\r\n                if (e.shiftKey) {\r\n                    this.shiftKey = true;\r\n                }\r\n                if (e.key.indexOf(\"Arrow\") !== -1 && e.shiftKey) {\r\n                    this.arrowKey = e.key;\r\n                }\r\n                if (e.key === \"x\" && e.ctrlKey) {\r\n                    if (this.selectedArray && this.selectedArray.length === 1) {\r\n                        this.$store.commit('editor/cutId', this.selectedArray[0]);\r\n                    }\r\n                    this.$store.commit('editor/copyId', null);\r\n                    this.$store.commit('editor/paste', false);\r\n                }\r\n                if (e.key === \"c\" && e.ctrlKey) {\r\n                    if (this.selectedArray && this.selectedArray.length === 1) {\r\n                        this.$store.commit('editor/copyId', this.selectedArray[0]);\r\n                    }\r\n                    this.$store.commit('editor/cutId', null);\r\n                    this.$store.commit('editor/paste', false);\r\n                }\r\n                if (e.key === \"v\" && e.ctrlKey) {\r\n                    this.$store.commit('editor/paste', true);\r\n                }\r\n            }\r\n        },\r\n        keyup(e) {\r\n            if (!e.shiftKey) {\r\n                this.shiftKey = false;\r\n            }\r\n            if (e.key.indexOf(\"Arrow\") !== -1) {\r\n                this.arrowKey = null;\r\n            }\r\n        },\r\n        onCreateNewNode: function(parentId, previousSiblingId) {\r\n            this.add(parentId, previousSiblingId);\r\n        },\r\n        /*\r\n         * when a child node is mounted it emits an event\r\n         * and a timeout is started\r\n         */\r\n        handleMountingNode: function() {\r\n            this.startTime();\r\n        },\r\n        /*\r\n         * each mount resets the timeout\r\n         * if the timeout length is met (no new nodes)\r\n         * the done loading event is triggered\r\n         */\r\n        startTime: function() {\r\n            hierarchyTimeout = setTimeout(() => {\r\n                this.$emit('done-loading-nodes');\r\n            }, 1000);\r\n        },\r\n        computeHierarchy: function() {\r\n            this.structure.splice(0, this.structure.length);\r\n            if (this.container == null) { return r; }\r\n            if (this.container[\"skos:hasTopConcept\"] !== null && this.container[\"skos:hasTopConcept\"] !== undefined) {\r\n                for (var i = 0; i < this.container[\"skos:hasTopConcept\"].length; i++) {\r\n                    var c = EcConcept.getBlocking(this.container[\"skos:hasTopConcept\"][i]);\r\n                    if (c) {\r\n                        this.structure.push({\"obj\": c, \"children\": []});\r\n                        if (c[\"skos:narrower\"]) {\r\n                            this.addChildren(this.structure, c, i);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.once = false;\r\n        },\r\n        addChildren: function(structure, c, i) {\r\n            for (var j = 0; j < c[\"skos:narrower\"].length; j++) {\r\n                var subC = EcConcept.getBlocking(c[\"skos:narrower\"][j]);\r\n                structure[i].children.push({\"obj\": subC, \"children\": []});\r\n                if (subC && subC[\"skos:narrower\"]) {\r\n                    this.addChildren(structure[i].children, subC, j);\r\n                }\r\n            }\r\n        },\r\n        // WARNING: The Daemon of OBO lingers in these here drag and move methods. The library moves the objects, and OBO will then come get you!\r\n        beginDrag: function(event) {\r\n            this.dragging = true;\r\n            if (event !== undefined) {\r\n                this.controlOnStart = event.originalEvent.ctrlKey || event.originalEvent.shiftKey;\r\n            }\r\n        },\r\n        endDrag: function(foo) {\r\n            if (foo.to.id === 'framework_drag') {\r\n                this.dragging = false;\r\n                return;\r\n            }\r\n            appLog(foo.oldIndex, foo.newIndex);\r\n            var toId = null;\r\n            var plusup = 0;\r\n            if (this.shiftKey) {\r\n                this.controlOnStart = true;\r\n            }\r\n            if (foo.from.id === foo.to.id) {\r\n                if (foo.newIndex < this.hierarchy.length) {\r\n                    toId = this.hierarchy[foo.newIndex].obj.shortId();\r\n                }\r\n                plusup = 1;\r\n            } else {\r\n                if (foo.to.children[foo.newIndex] === undefined) {\r\n                    toId = foo.to.id;\r\n                } else {\r\n                    if (foo.newIndex + 1 < foo.to.children.length) {\r\n                        toId = foo.to.children[foo.newIndex + 1].id;\r\n                    }\r\n                }\r\n            }\r\n            this.move(\r\n                this.hierarchy[foo.oldIndex].obj.shortId(),\r\n                toId,\r\n                foo.from.id,\r\n                foo.to.id,\r\n                !this.controlOnStart, plusup);\r\n        },\r\n        move: function(fromId, toId, fromContainerId, toContainerId, removeOldRelations, plusup) {\r\n            this.once = true;\r\n            var me = this;\r\n            if (fromContainerId === toContainerId) {\r\n                var container = EcConcept.getBlocking(toContainerId);\r\n                var property = \"skos:narrower\";\r\n                if (container === null) {\r\n                    container = this.container;\r\n                    property = \"skos:hasTopConcept\";\r\n                }\r\n                var initialValue = container[property] ? container[property].slice() : null;\r\n                var fromIndex = container[property].indexOf(fromId);\r\n                container[property].splice(fromIndex, 1);\r\n                if (toId == null || toId === undefined) {\r\n                    if (!EcArray.isArray(container[property])) {\r\n                        container[property] = [];\r\n                    }\r\n                    container[property].push(fromId);\r\n                } else {\r\n                    var toIndex = container[property].indexOf(toId);\r\n                    container[property].splice(toIndex, 0, fromId);\r\n                }\r\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: container.shortId(), fieldChanged: [property], initialValue: [initialValue]}]);\r\n                container[\"schema:dateModified\"] = new Date().toISOString();\r\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[container.id] !== true) {\r\n                    container = EcEncryptedValue.toEncryptedValue(container);\r\n                }\r\n                this.repo.saveTo(container, function() {\r\n                    me.computeHierarchy();\r\n                }, appError);\r\n            } else {\r\n                var moveComp = EcConcept.getBlocking(fromId);\r\n                var fromContainer = EcConcept.getBlocking(fromContainerId);\r\n                var fromProperty = \"skos:narrower\";\r\n                var fromProperty2 = \"skos:broader\";\r\n                var toContainer = EcConcept.getBlocking(toContainerId);\r\n                var toProperty = \"skos:narrower\";\r\n                var toProperty2 = \"skos:broader\";\r\n                if (fromContainer === null) {\r\n                    fromContainer = this.container;\r\n                    fromProperty = \"skos:hasTopConcept\";\r\n                    fromProperty2 = \"skos:topConceptOf\";\r\n                }\r\n                if (toContainer === null) {\r\n                    toContainer = this.container;\r\n                    toProperty = \"skos:hasTopConcept\";\r\n                    toProperty2 = \"skos:topConceptOf\";\r\n                }\r\n                var fromIndex = fromContainer[fromProperty].indexOf(fromId);\r\n                var fromPropInitialValue = fromContainer[fromProperty].slice();\r\n                var fromProp2InitialValue = moveComp[fromProperty2] ? moveComp[fromProperty2].slice() : null;\r\n                var toPropInitialValue = toContainer[toProperty] ? toContainer[toProperty].slice() : null;\r\n                var toProp2InitialValue = moveComp[toProperty2] ? moveComp[toProperty2].slice() : null;\r\n                if (removeOldRelations) {\r\n                    fromContainer[fromProperty].splice(fromIndex, 1);\r\n                }\r\n                if (fromContainerId && moveComp[fromProperty2]) {\r\n                    if (removeOldRelations) {\r\n                        EcArray.setRemove(moveComp[fromProperty2], fromContainerId);\r\n                    }\r\n                    if (moveComp[fromProperty2].length === 0) {\r\n                        delete moveComp[fromProperty2];\r\n                    }\r\n                } else {\r\n                    delete moveComp[fromProperty2];\r\n                }\r\n                fromContainer[\"schema:dateModified\"] = new Date().toISOString();\r\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[fromContainer.id] !== true) {\r\n                    fromContainer = EcEncryptedValue.toEncryptedValue(fromContainer);\r\n                }\r\n                this.repo.saveTo(fromContainer, function() {\r\n                    if (toId == null || toId === undefined) {\r\n                        if (!EcArray.isArray(toContainer[toProperty])) {\r\n                            toContainer[toProperty] = [];\r\n                        }\r\n                        toContainer[toProperty].push(fromId);\r\n                    } else {\r\n                        var toIndex = toContainer[toProperty].indexOf(toId);\r\n                        toContainer[toProperty].splice(toIndex, 0, fromId);\r\n                    }\r\n                    if (!EcArray.isArray(moveComp[toProperty2])) {\r\n                        moveComp[toProperty2] = [];\r\n                    }\r\n                    if (toContainerId) {\r\n                        moveComp[toProperty2].push(toContainerId);\r\n                    } else {\r\n                        moveComp[toProperty2].push(me.container.shortId());\r\n                    }\r\n                    me.$store.commit('editor/addEditsToUndo', [\r\n                        {operation: \"update\", id: fromContainer.shortId(), fieldChanged: [fromProperty], initialValue: [fromPropInitialValue]},\r\n                        {operation: \"update\", id: toContainer.shortId(), fieldChanged: [toProperty], initialValue: [toPropInitialValue]},\r\n                        {operation: \"update\", id: moveComp.shortId(), fieldChanged: [fromProperty2, toProperty2], initialValue: [fromProp2InitialValue, toProp2InitialValue]}\r\n                    ]);\r\n                    toContainer[\"schema:dateModified\"] = new Date().toISOString();\r\n                    moveComp[\"schema:dateModified\"] = new Date().toISOString();\r\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[toContainer.id] !== true) {\r\n                        toContainer = EcEncryptedValue.toEncryptedValue(toContainer);\r\n                    }\r\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[moveComp.id] !== true) {\r\n                        moveComp = EcEncryptedValue.toEncryptedValue(moveComp);\r\n                    }\r\n                    me.repo.saveTo(toContainer, function() {\r\n                        me.repo.saveTo(moveComp, appLog, appError);\r\n                        me.computeHierarchy();\r\n                    }, appLog);\r\n                }, appError);\r\n            }\r\n            this.dragging = false;\r\n        },\r\n        add: function(containerId, previousSibling) {\r\n            var me = this;\r\n            var c = new EcConcept();\r\n            if (this.queryParams.newObjectEndpoint) {\r\n                c.generateShortId(this.queryParams.newObjectEndpoint);\r\n            } else {\r\n                c.generateId(this.repo.selectedServer);\r\n            }\r\n            c[\"schema:dateCreated\"] = new Date().toISOString();\r\n            c[\"schema:dateModified\"] = new Date().toISOString();\r\n            if (EcIdentityManager.ids != null && EcIdentityManager.ids.length > 0) {\r\n                c.addOwner(EcIdentityManager.ids[0].ppk.toPk());\r\n            }\r\n            if (this.container.owner && this.container.owner.length > 0) {\r\n                for (var j = 0; j < this.container.owner.length; j++) {\r\n                    var owner = this.container.owner[j];\r\n                    c.addOwner(EcPk.fromPem(owner));\r\n                }\r\n            }\r\n            if (this.container.reader && this.container.reader.length > 0) {\r\n                for (var j = 0; j < this.container.reader.length; j++) {\r\n                    var reader = this.container.reader[j];\r\n                    r.addReader(EcPk.fromPem(reader));\r\n                }\r\n            }\r\n            this.setDefaultLanguage();\r\n            c[\"skos:prefLabel\"] = {\"@language\": this.$store.state.editor.defaultLanguage, \"@value\": \"New Concept\"};\r\n            c[\"skos:inScheme\"] = this.container.shortId();\r\n            if (containerId === this.container.shortId()) {\r\n                var initialValue = this.container[\"skos:hasTopConcept\"] ? this.container[\"skos:hasTopConcept\"].slice() : null;\r\n                if (!EcArray.isArray(this.container[\"skos:hasTopConcept\"])) {\r\n                    this.container[\"skos:hasTopConcept\"] = [];\r\n                }\r\n                if (previousSibling == null || previousSibling === undefined) {\r\n                    this.container[\"skos:hasTopConcept\"].push(c.shortId());\r\n                } else {\r\n                    // Insert immediately after the sibling\r\n                    var index = this.container[\"skos:hasTopConcept\"].indexOf(previousSibling);\r\n                    this.container[\"skos:hasTopConcept\"].splice(index + 1, 0, c.shortId());\r\n                }\r\n                c[\"skos:topConceptOf\"] = this.container.shortId();\r\n                me.$store.commit('editor/addEditsToUndo', [\r\n                    {operation: \"addNew\", id: c.shortId()},\r\n                    {operation: \"update\", id: this.container.shortId(), fieldChanged: [\"skos:hasTopConcept\"], initialValue: [initialValue]}\r\n                ]);\r\n                this.container[\"schema:dateModified\"] = new Date().toISOString();\r\n                c[\"schema:dateModified\"] = new Date().toISOString();\r\n                if (this.$store.state.editor.private === true) {\r\n                    c = EcEncryptedValue.toEncryptedValue(c);\r\n                    if (EcEncryptedValue.encryptOnSaveMap[me.container.id] !== true) {\r\n                        me.container = EcEncryptedValue.toEncryptedValue(me.container);\r\n                    }\r\n                }\r\n                this.repo.saveTo(c, function() {\r\n                    me.repo.saveTo(me.container, function() {\r\n                        me.once = true;\r\n                    }, appError);\r\n                }, appError);\r\n            } else {\r\n                c[\"skos:broader\"] = [containerId];\r\n                var parent = EcConcept.getBlocking(containerId);\r\n                var initialValue = parent[\"skos:narrower\"] ? parent[\"skos:narrower\"].slice() : null;\r\n                if (!EcArray.isArray(parent[\"skos:narrower\"])) {\r\n                    parent[\"skos:narrower\"] = [];\r\n                }\r\n                if (previousSibling == null || previousSibling === undefined) {\r\n                    parent[\"skos:narrower\"].push(c.shortId());\r\n                } else {\r\n                    // Insert immediately after the sibling\r\n                    var index = parent[\"skos:narrower\"].indexOf(previousSibling);\r\n                    parent[\"skos:narrower\"].splice(index + 1, 0, c.shortId());\r\n                }\r\n                me.$store.commit('editor/addEditsToUndo', [\r\n                    {operation: \"addNew\", id: c.shortId()},\r\n                    {operation: \"update\", id: parent.shortId(), fieldChanged: [\"skos:narrower\"], initialValue: [initialValue]}\r\n                ]);\r\n                this.container[\"schema:dateModified\"] = new Date().toISOString();\r\n                c[\"schema:dateModified\"] = new Date().toISOString();\r\n                parent[\"schema:dateModified\"] = new Date().toISOString();\r\n                if (this.$store.state.editor.private === true) {\r\n                    c = EcEncryptedValue.toEncryptedValue(c);\r\n                    if (EcEncryptedValue.encryptOnSaveMap[parent.id] !== true) {\r\n                        parent = EcEncryptedValue.toEncryptedValue(parent);\r\n                    }\r\n                    if (EcEncryptedValue.encryptOnSaveMap[me.container.id] !== true) {\r\n                        me.container = EcEncryptedValue.toEncryptedValue(me.container);\r\n                    }\r\n                }\r\n                this.repo.saveTo(c, function() {\r\n                    me.repo.saveTo(parent, function() {\r\n                        me.repo.saveTo(me.container, function() {\r\n                            me.once = true;\r\n                        }, appError);\r\n                    }, appError);\r\n                }, appError);\r\n            }\r\n            this.$store.commit(\"editor/newCompetency\", c.shortId());\r\n            appLog(\"Added node: \", JSON.parse(c.toJson()));\r\n        },\r\n        select: function(objId, checked) {\r\n            if (checked) {\r\n                EcArray.setAdd(this.selectedArray, objId);\r\n            } else {\r\n                EcArray.setRemove(this.selectedArray, objId);\r\n            }\r\n        },\r\n        deleteObject: function(thing) {\r\n            this.$emit('delete-object', thing);\r\n        },\r\n        exportObject: function(thing, type) {\r\n            this.$emit('export-object', thing, type);\r\n        },\r\n        onDraggableCheck: function(checked) {\r\n            this.isDraggable = checked;\r\n        },\r\n        cancelImport: function() {\r\n            this.deleteObject(this.container);\r\n            this.$store.dispatch('app/clearImport');\r\n        },\r\n        openFramework: function() {\r\n            var f = EcConceptScheme.getBlocking(this.container.shortId());\r\n            this.$store.commit('editor/framework', f);\r\n            this.$router.push({name: \"conceptScheme\", params: {frameworkId: this.container.id}});\r\n        },\r\n        onClickCreateNew: function() {\r\n            let parent = this.container.shortId();\r\n            if (this.selectedArray.length === 1) {\r\n                parent = this.selectedArray[0];\r\n            }\r\n            this.add(parent, null);\r\n            this.addingNode = false;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @import './../../scss/variables.scss';\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConceptHierarchy.vue?vue&type=template&id=c6326256&\"\nimport script from \"./ConceptHierarchy.vue?vue&type=script&lang=js&\"\nexport * from \"./ConceptHierarchy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConceptHierarchy.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}