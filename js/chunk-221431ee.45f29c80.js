(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-221431ee"],{"15d2":function(e,t,r){"use strict";var n=r("edbb"),a=r.n(n);a.a},"5f07":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal-template",{attrs:{active:!0,type:"danger"},on:{close:e.closeModal}},[r("template",{slot:"modal-header"},[r("span",{staticClass:"title has-text-white"},[e._v(" Are you sure? ")])]),r("template",{slot:"modal-body"},[r("h3",{staticClass:"title is-size-4"},[r("span",{},[e._v("Delete the following directory")])]),r("p",{staticClass:"py-2"},[e._v(" "+e._s(e.directory.name)+" ")]),r("p",[e._v(" You are about to delete the above directory. "),r("b",[e._v("This action is not reversable.")]),e._v(" Deleting this directory will delete all of its contents and make it unavailable to others who might be using it. ")]),r("div",{staticClass:"py-2"},[r("div",{staticClass:"field"},[r("div",{staticClass:"label"},[r("label",[e._v("Type the name of the directory to enable this action.")])]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.typedInName,expression:"typedInName"}],staticClass:"input",domProps:{value:e.typedInName},on:{input:function(t){t.target.composing||(e.typedInName=t.target.value)}}})])])])]),r("template",{slot:"modal-foot"},[r("div",{staticClass:"buttons is-spaced"},[r("button",{staticClass:"button is-dark is-outlined",on:{click:e.closeModal}},[e._v(" Cancel ")]),r("button",{staticClass:"button is-outlined is-danger",attrs:{disabled:e.typedInName!==e.directory.name},on:{click:function(t){return e.deleteDirectory(e.directory)}}},[e._v(" Delete Directory ")])])])],2)},a=[],o=(r("b0c0"),r("ac1f"),r("841c"),r("af07")),i=r("6d79"),s=r("872c"),c={mixins:[i["a"],s["a"]],name:"DeleteDirectory",components:{ModalTemplate:o["a"]},data:function(){return{typedInName:"",loggedInPersonEcPk:{},commentToSave:{},commentIsBusy:!1,numDirectories:1,repo:window.repo}},methods:{deleteDirectory:function(e){appLog("deleting "+e.id);var t=this;this.repo.search('(directory:"'+e.shortId()+'" OR parentDirectory:"'+e.shortId()+'")',(function(){}),(function(r){(new EcAsyncHelper).each(r,(function(e,r){"Framework"===e.type?t.deleteFramework(e,r):"CreativeWork"===e.type?(t.repo.deleteRegistered(e,appLog,appError),r()):"Directory"===e.type&&(t.numDirectories++,t.deleteDirectory(e),r())}),(function(r){t.repo.deleteRegistered(e,(function(e){appLog(e),t.numDirectories--,0===t.numDirectories&&(t.$store.dispatch("app/refreshDirectories"),t.$store.commit("app/refreshSearch",!0),"frameworks"!==t.$route.name&&t.$router.push({name:"frameworks"}),t.$store.commit("app/rightAsideObject",null),t.$store.commit("app/closeRightAside"),t.$store.commit("app/refreshSearch",!0),t.$store.commit("app/closeModal"))}),(function(e){appError(e),t.numDirectories--,0===t.numDirectories&&("frameworks"!==t.$route.name&&t.$router.push({name:"frameworks"}),t.$store.commit("app/rightAsideObject",null),t.$store.commit("app/closeRightAside"),t.$store.commit("app/refreshSearch",!0),t.$store.commit("app/closeModal"))}))}))}),appError)},deleteFramework:function(e,t){var r=this;this.repo.deleteRegistered(e,(function(n){if(r.spitEvent("frameworkDeleted",e.shortId(),"directoryPage"),null!=e.competency)for(var a=0;a<e.competency.length;a++)r.conditionalDelete(e.competency[a]);if(null!=e.relation)for(a=0;a<e.relation.length;a++)r.conditionalDelete(e.relation[a]);if(null!=e.level)for(a=0;a<e.level.length;a++)r.conditionalDelete(e.level[a]);t()}),appLog)},closeModal:function(){this.$store.commit("app/closeModal")}},computed:{loggedInPerson:function(){return this.$store.state.user.loggedOnPerson},directory:function(){return this.$store.getters["app/rightAsideObject"]}},mounted:function(){}},l=c,d=(r("15d2"),r("2877")),u=Object(d["a"])(l,n,a,!1,null,null,null);t["default"]=u.exports},"6d79":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("caad"),r("d3b7"),r("ac1f"),r("25f0"),r("2532"),r("841c");var n=r("54f8"),a={name:"cassUtil",data:function(){return{}},methods:{getOrganizationByEcPk:function(e,t,r){var a=e.toPem(),o={size:1e4};EcOrganization.search(window.repo,"",(function(e){var o,i=Object(n["a"])(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;try{var c,l=s.getOrgKeys(),d=Object(n["a"])(l);try{for(d.s();!(c=d.n()).done;){var u=c.value;if(u&&u.toPk().toPem().equals(a))return void t(s)}}catch(f){d.e(f)}finally{d.f()}}catch(m){r(m.toString())}}}catch(f){i.e(f)}finally{i.f()}t(null)}),(function(e){r(e)}),o)},getOrganizationEcPk:function(e){try{return e.getCurrentOrgKey().toPk()}catch(t){return null}},getPersonEcPk:function(e){var t=this.generateProbablePersonFingerprintFromShortId(e.shortId());if(e.owner){var r,a=Object(n["a"])(e.owner);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=EcPk.fromPem(o);if(t.equals(i.fingerprint()))return i}}catch(s){a.e(s)}finally{a.f()}}return null},addAllOwnersFromObjectToObject:function(e,t){if(e&&e.owner){var r,a=Object(n["a"])(e.owner);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=EcPk.fromPem(o);t.addOwner(i)}}catch(s){a.e(s)}finally{a.f()}}},setDefaultBrowserConfigId:function(e){localStorage.setItem("cassAuthoringToolDefaultBrowserConfigId",e)},removeDefaultBrowserConfig:function(){localStorage.removeItem("cassAuthoringToolDefaultBrowserConfigId")},getDefaultBrowserConfigId:function(){return localStorage.getItem("cassAuthoringToolDefaultBrowserConfigId")},getBooleanValue:function(e){return"boolean"===typeof e?e:"string"===typeof e&&!!e.equalsIgnoreCase("true")},addAllIdentityPksAsOwners:function(e){if(EcIdentityManager&&EcIdentityManager.ids&&EcIdentityManager.ids.length>0)for(var t=0;t<EcIdentityManager.ids.length;t++)e.addOwner(EcIdentityManager.ids[t].ppk.toPk())},isObjectOwnerless:function(e){return!e.owner||0===e.owner.length},doesAnyIdentityOwnObject:function(e){if(!EcIdentityManager||!EcIdentityManager.ids||EcIdentityManager.ids.length<=0)return!1;for(var t=0;t<EcIdentityManager.ids.length;t++)if(e.hasOwner(EcIdentityManager.ids[t].ppk.toPk()))return!0;return!1},generateProbablePersonFingerprintFromShortId:function(e){return e.substring(e.lastIndexOf("/")+1)},isPersonIdAnObjectOwner:function(e,t){if(!t.owner||0===t.owner.length)return!1;var r,a=this.generateProbablePersonFingerprintFromShortId(e),o=Object(n["a"])(t.owner);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=EcPk.fromPem(i).fingerprint();if(s.equals(a))return!0}}catch(c){o.e(c)}finally{o.f()}return!1},isPersonIdAnObjectReader:function(e,t){if(!t.reader||0===t.reader.length)return!1;var r,a=this.generateProbablePersonFingerprintFromShortId(e),o=Object(n["a"])(t.reader);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=EcPk.fromPem(i).fingerprint();if(s.equals(a))return!0}}catch(c){o.e(c)}finally{o.f()}return!1},areAnyIdentitiesThisPerson:function(e){var t=e.getFingerprint();if(EcIdentityManager&&EcIdentityManager.ids&&EcIdentityManager.ids.length>0)for(var r=0;r<EcIdentityManager.ids.length;r++)if(EcIdentityManager.ids[r].ppk.toPk().fingerprint().equals(t))return!0;return!1},isPersonalIdentityAnObjectOwner:function(e){if(!e.owner||0===e.owner.length)return!1;var t=this.getPersonalIdentityPk().toPem();return e.owner.includes(t)},getPersonalIdentityPk:function(){return EcIdentityManager&&EcIdentityManager.ids&&EcIdentityManager.ids.length>0?EcIdentityManager.ids[0].ppk.toPk():null},buildEcAlignmentsFromRemoteLinkedData:function(e){var t,r=[],a=Object(n["a"])(e);try{for(a.s();!(t=a.n()).done;){var o=t.value,i=new EcAlignment;i.copyFrom(o),r.push(i)}}catch(s){a.e(s)}finally{a.f()}return r}},computed:{amLoggedIn:function(){return!!(EcIdentityManager&&EcIdentityManager.ids&&EcIdentityManager.ids.length>0)}}}},"984b":function(e,t,r){},a907:function(e,t,r){},ad86:function(e,t,r){"use strict";var n=r("a907"),a=r.n(n);a.a},af07:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal cass-editor___modal",class:[{"is-active":e.active},"is-"+e.size,"cass-editor__modal--"+e.content],attrs:{id:"cass-modal"}},[r("div",{staticClass:"modal-background"}),r("div",{staticClass:"modal-card",class:"cass-editor__modal-card--"+e.size},[r("header",{staticClass:"modal-card-head is-size-4 has-text-weight-bold",class:["has-background-"+e.type,"has-text-"+e.fontColor]},[r("p",{staticClass:"modal-card-title"},[e._t("modal-header")],2),e.canClose?r("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){e.$store.commit("app/closeModal"),e.$emit("close")}}}):e._e()]),r("div",{staticClass:"modal-card-body has-text-dark"},[e._t("modal-body")],2),r("footer",{staticClass:"modal-card-foot has-background-white"},[e._t("modal-foot")],2)])])},a=[],o=(r("984b"),{name:"ModalTemplate",props:{canClose:{type:Boolean,default:!0},active:{type:Boolean,default:!1},type:{default:"primary",type:String},fontColor:{type:String,default:"white"},size:{type:String,default:"medium"},content:{defualt:"default",type:String}},data:function(){return{}},computed:{}}),i=o,s=(r("ad86"),r("2877")),c=Object(s["a"])(i,n,a,!1,null,null,null);t["a"]=c.exports},edbb:function(e,t,r){}}]);
//# sourceMappingURL=chunk-221431ee.45f29c80.js.map