(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["organizations","chunk-2d0dab46","chunk-2d0dab46"],{"00fd":function(e,t,r){var n=r("9e69d"),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=n?n.toStringTag:void 0;function c(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(c){}var a=o.call(e);return n&&(t?e[s]=r:delete e[s]),a}e.exports=c},1310:function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},"1a8c":function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},"29f3":function(e,t){var r=Object.prototype,n=r.toString;function a(e){return n.call(e)}e.exports=a},"2b3e":function(e,t,r){var n=r("585a"),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},"30d6":function(e,t,r){"use strict";var n=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"breadcrumb is-small is-black",attrs:{"aria-label":"breadcrumbs"}},e._l(e.breadCrumbInfo,(function(r){return t("ul",{key:r.id},[e._l(e.directoryBreadCrumbInfo[r.id],(function(r){return t("li",{key:r},[t("a",{attrs:{title:r.title}},[e._v(" "+e._s(r.shortName))])])})),t("li",[t("a",{staticClass:"has-text-dark",attrs:{title:r.title}},[e._v(" "+e._s(r.shortName)+" ")])]),e._l(e.parentBreadCrumbInfo[r.id],(function(r){return t("li",{key:r},[t("a",{staticClass:"has-text-dark",attrs:{title:r.title}},[e._v(" "+e._s(r.shortName))])])})),e._l(e.parentConcepts,(function(r){return t("li",{key:r},[t("a",{staticClass:"has-text-dark"},[e._v(" "+e._s(e.getName(r)))])])}))],2)})),0)},a=[],i=r("c7eb"),o=r("1da1"),s=(r("14d9"),r("b0c0"),r("ac1f"),r("841c"),{name:"Breadcrumbs",props:{competency:Object},data:function(){return{repo:window.repo,frameworks:[],parentCompetencies:{},parentConcepts:[],frameworkGraph:new EcFrameworkGraph,directoryTrail:{}}},computed:{parentBreadCrumbInfo:function(){if(this.parentCompetencies!=={}){var e=this.parentCompetencies,t={};for(var r in e){var n=e[r];t[r]=[];for(var a=0;a<n.length;a++)if(n[a]){t[r][a]={};var i="",o="",s="";"..."===n[a]?(i=n[a],s="This framework contains more than 500 competencies",o=n[a]):a<n.length-1?(i="...",s=this.getName(n[a]),o="..."):(i=this.getName(n[a]),o=i.length>29?i.substr(0,29):i,s=i);var c={name:i,shortName:o,title:s};t[r][a]=c}}return t}},directoryBreadCrumbInfo:function(){if(this.directoryTrail!=={}){var e=this.directoryTrail,t={};for(var r in e){var n=e[r];t[r]=[];for(var a=0;a<n.length;a++)if(n[a]){t[r][a]={};var i="",o="",s="";0!==a&&a<n.length-1?(i="...",s=this.getName(n[a]),o="..."):(i=this.getName(n[a]),o=i.length>29?i.substr(0,29):i,s=i);var c={name:i,shortName:o,title:s};t[r][a]=c}}return t}},breadCrumbInfo:function(){for(var e=[],t=this,r=0;r<t.frameworks.length;r++){e.push({});var n=t.getName(t.frameworks[r]),a=void 0;"..."!==n&&(a=n),e[r].name=n,n.length>29?e[r].shortName=n.substr(0,29)+"...":e[r].shortName=n,e[r].title=a,e[r].id=t.frameworks[r].id}return e}},created:function(){"Competency"===this.competency.type?this.searchFrameworks():"Directory"===this.competency.type?this.findDirectoryTrail(this.competency):"Framework"===this.competency.type?this.findFrameworkTrail(this.competency):this.findConceptTrail(this.competency)},methods:{searchFrameworks:function(){var e=this;EcFramework.search(this.repo,'competency:"'+this.competency.shortId()+'"',(function(t){for(var r=0;r<t.length;r++)e.frameworks.push(t[r]),t[r].directory&&e.findFrameworkTrailForCompetency(t[r]);e.computeParentCompetencies()}),(function(t){appError(t),e.frameworks=[]}),null)},computeParentCompetencies:function(){for(var e=this,t=this,r=function(){var r=e.frameworks[n].id;e.$set(e.parentCompetencies,r,[]),e.frameworks[n].competency&&e.frameworks[n].competency.length>500?t.parentCompetencies[r].push("..."):e.frameworkGraph.addFramework(e.frameworks[n],e.repo,(function(e){var n=[];t.getParents(t.competency.id,n,(function(){for(var e=0;e<n.length;e++)t.parentCompetencies[r].push(n[e])}))}),(function(e){appError(e)}))},n=0;n<this.frameworks.length;n++)r()},getParents:function(e,t,r){for(var n=!1,a=this,i=0;i<a.frameworkGraph.edges.length;i++)if(a.frameworkGraph.edges[i].source.id===e&&"narrows"===a.frameworkGraph.edges[i].edge.relationType){var o=a.frameworkGraph.edges[i].destination.id;t.unshift(a.frameworkGraph.competencyMap[o]),n=!0,this.getParents(o,t,r);break}n||r()},findConceptTrail:function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(t){var r,n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t["skos:topConceptOf"]){e.next=7;break}return e.next=3,EcConceptScheme.get(t["skos:topConceptOf"]);case 3:r=e.sent,r&&this.frameworks.push(r),e.next=19;break;case 7:if(!t["skos:broader"]){e.next=19;break}if(!EcArray.isArray(t["skos:broader"])){e.next=14;break}return e.next=11,EcConcept.get(t["skos:broader"][0]);case 11:n=e.sent,e.next=17;break;case 14:return e.next=16,EcConcept.get(t["skos:broader"]);case 16:n=e.sent;case 17:this.parentConcepts.unshift(n),this.findConceptTrail(n);case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),findDirectoryTrail:function(e){var t=this;e.parentDirectory&&EcDirectory.get(e.parentDirectory,(function(e){e&&!e.parentDirectory?t.frameworks.push(e):e&&(t.parentConcepts.unshift(e),t.findDirectoryTrail(e))}),appError)},findFrameworkTrail:function(e){var t=this;e.directory&&EcDirectory.get(e.directory,(function(e){e&&!e.parentDirectory?t.frameworks.push(e):e&&(t.parentConcepts.unshift(e),t.findDirectoryTrail(e))}),appError)},findFrameworkTrailForCompetency:function(e){var t=this;e.directory&&EcDirectory.get(e.directory,(function(r){r&&(t.directoryTrail[e.id]=[],t.directoryTrail[e.id].push(r),r.parentDirectory&&t.findDirectoryTrailForCompetency(r,e.id))}),appError)},findDirectoryTrailForCompetency:function(e,t){var r=this;e.parentDirectory&&EcDirectory.get(e.parentDirectory,(function(e){e&&(r.directoryTrail[t].unshift(e),e.parentDirectory&&r.findDirectoryTrailForCompetency(e,t))}),appError)},getName:function(e){return"..."===e?e:"Competency"===this.competency.type||"Level"===this.competency.type||"Framework"===this.competency.type?e.getName():"Directory"===this.competency.type?schema.Thing.getDisplayStringFrom(e.name):e["skos:prefLabel"]?schema.Thing.getDisplayStringFrom(e["skos:prefLabel"]):e["dcterms:title"]?schema.Thing.getDisplayStringFrom(e["dcterms:title"]):void 0}}}),c=s,u=(r("9113"),r("2877")),d=Object(u["a"])(c,n,a,!1,null,null,null);t["a"]=d.exports},3729:function(e,t,r){var n=r("9e69d"),a=r("00fd"),i=r("29f3"),o="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;function u(e){return null==e?void 0===e?s:o:c&&c in Object(e)?a(e):i(e)}e.exports=u},"408c":function(e,t,r){var n=r("2b3e"),a=function(){return n.Date.now()};e.exports=a},"4cef":function(e,t){var r=/\s/;function n(e){var t=e.length;while(t--&&r.test(e.charAt(t)));return t}e.exports=n},"4f42":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"organizations"},[t("div",[e.$store.getters["editor/conceptMode"]||e.$store.getters["editor/progressionMode"]?t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],attrs:{type:"radio",value:"dcterms:title.keyword",id:"dcterms:title.keyword"},domProps:{checked:e._q(e.sortBy,"dcterms:title.keyword")},on:{change:function(t){e.sortBy="dcterms:title.keyword"}}}),t("label",{attrs:{for:"dcterms:title.keyword"}},[e._v("Sort alphabetically")])]):t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],attrs:{type:"radio",value:"name.keyword",id:"name.keyword"},domProps:{checked:e._q(e.sortBy,"name.keyword")},on:{change:function(t){e.sortBy="name.keyword"}}}),t("label",{attrs:{for:"name.keyword"}},[e._v("Sort alphabetically")])]),t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],attrs:{type:"radio",value:"schema:dateModified",id:"schema:dateModified"},domProps:{checked:e._q(e.sortBy,"schema:dateModified")},on:{change:function(t){e.sortBy="schema:dateModified"}}}),t("label",{attrs:{for:"schema:dateModified"}},[e._v("Sort by last modified")])])]),t("List",{attrs:{type:"Organization",repo:e.repo,click:e.organizationClick,searchOptions:e.searchOptions,paramObj:e.paramObj},scopedSlots:e._u([{key:"organizationTags",fn:function(r){return[r.item["schema:dateCreated"]?t("span",{attrs:{title:new Date(r.item["schema:dateCreated"])}},[e._v(" Created "+e._s(e.$moment(r.item["schema:dateCreated"]).fromNow())+" ")]):e._e(),r.item.getTimestamp()?t("span",{attrs:{title:new Date(r.item.getTimestamp())}},[e._v(" Last modified "+e._s(e.$moment(r.item.getTimestamp()).fromNow())+" ")]):r.item["schema:dateModified"]?t("span",{attrs:{title:new Date(r.item["schema:dateModified"])}},[e._v(" Last modified "+e._s(e.$moment(r.item["schema:dateModified"]).fromNow())+" ")]):e._e()]}}])})],1)},a=[],i=(r("4de4"),r("d3b7"),r("14d9"),r("713e")),o=r("872c"),s={name:"Organizations",mixins:[o["a"]],data:function(){return{repo:window.repo,sortBy:"name.keyword"}},computed:{queryParams:function(){return this.$store.getters["editor/queryParams"]},searchOptions:function(){var e="";if(this.queryParams&&null!=this.queryParams.filter&&(e+=" AND ("+this.queryParams.filter+")"),this.queryParams&&"mine"===this.queryParams.show){e+=" AND (";for(var t=0;t<EcIdentityManager.default.ids.length;t++){0!==t&&(e+=" OR ");var r=EcIdentityManager.default.ids[t];e+='\\*owner:"'+r.ppk.toPk().toPem()+'"',e+=' OR \\*owner:"'+addNewlinesToId(r.ppk.toPk().toPem())+'"'}e+=")"}return e},paramObj:function(){var e={size:20},t="name.keyword"===this.sortBy?"asc":"desc",r="name.keyword"===this.sortBy||"dcterms:title.keyword"===this.sortBy?"text":"date";return e.sort='[ { "'+this.sortBy+'": {"order" : "'+t+'" , "unmapped_type" : "'+r+'",  "missing" : "_last"}} ]',this.filterByOwnedByMe&&(e.ownership="me"),e},filterByOwnedByMe:function(){return this.$store.getters["app/filterByOwnedByMe"]}},components:{List:i["a"]},methods:{organizationClick:function(e){var t=this;EcOrganization.get(e.id,(function(r){t.$store.commit("editor/organization",r),t.$router.push({name:"organization",params:{organizationId:e.id}})}),appError)},getName:function(e){var t=EcArray.isArray(e)?e:[e];return-1!==schema.Thing.getDisplayStringFrom(t).toLowerCase().indexOf("http")?this.resolveNameFromUrl(schema.Thing.getDisplayStringFrom(t)):schema.Thing.getDisplayStringFrom(t)}}},c=s,u=(r("d481"),r("2877")),d=Object(u["a"])(c,n,a,!1,null,"4d8e40e1",null);t["default"]=d.exports},"585a":function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("c8ba"))},"6d79":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("ac1f"),r("841c"),r("d3b7"),r("25f0"),r("caad"),r("2532"),r("14d9");var n=r("c7eb"),a=r("b85c"),i=r("1da1"),o={name:"cassUtil",data:function(){return{}},methods:{getOrganizationByEcPk:function(e,t,r){var o=e.toPem(),s={size:1e4};EcOrganization.search(window.repo,"",function(){var e=Object(i["a"])(Object(n["a"])().mark((function e(i){var s,c,u,d,f,l,p;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=Object(a["a"])(i),e.prev=1,s.s();case 3:if((c=s.n()).done){e.next=34;break}return u=c.value,e.prev=5,e.next=8,u.getOrgKeys();case 8:d=e.sent,f=Object(a["a"])(d),e.prev=10,f.s();case 12:if((l=f.n()).done){e.next=19;break}if(p=l.value,!p||!p.toPk().toPem().equals(o)){e.next=17;break}return t(u),e.abrupt("return");case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](10),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e["catch"](5),r(e.t1.toString());case 32:e.next=3;break;case 34:e.next=39;break;case 36:e.prev=36,e.t2=e["catch"](1),s.e(e.t2);case 39:return e.prev=39,s.f(),e.finish(39);case 42:t(null);case 43:case"end":return e.stop()}}),e,null,[[1,36,39,42],[5,29],[10,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){r(e)}),s)},getOrganizationEcPk:function(e){return Object(i["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCurrentOrgKey();case 3:return t.abrupt("return",t.sent.toPk());case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",null);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getPersonEcPk:function(e){var t=this.generateProbablePersonFingerprintFromShortId(e.shortId());if(e.owner){var r,n=Object(a["a"])(e.owner);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=EcPk.fromPem(i);if(t.equals(o.fingerprint()))return o}}catch(s){n.e(s)}finally{n.f()}}return null},addAllOwnersFromObjectToObject:function(e,t){if(e&&e.owner){var r,n=Object(a["a"])(e.owner);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=EcPk.fromPem(i);t.addOwner(o)}}catch(s){n.e(s)}finally{n.f()}}},setDefaultBrowserConfigId:function(e){localStorage.setItem("cassAuthoringToolDefaultBrowserConfigId",e)},removeDefaultBrowserConfig:function(){localStorage.removeItem("cassAuthoringToolDefaultBrowserConfigId")},getDefaultBrowserConfigId:function(){return localStorage.getItem("cassAuthoringToolDefaultBrowserConfigId")},getBooleanValue:function(e){return"boolean"===typeof e?e:"string"===typeof e&&!!e.equalsIgnoreCase("true")},addAllIdentityPksAsOwners:function(e){if(EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0)for(var t=0;t<EcIdentityManager.default.ids.length;t++)e.addOwner(EcIdentityManager.default.ids[t].ppk.toPk())},isObjectOwnerless:function(e){return!e.owner||0===e.owner.length},doesAnyIdentityOwnObject:function(e){return!!this.isAdmin()||(null==e.canEditAny||e.canEditAny(EcIdentityManager.default.getMyPks()))},canEditAny:function(e){return!!this.isAdmin()||(null==e.canEditAny||e.canEditAny(EcIdentityManager.default.getMyPks()))},isAdmin:function(){return EcIdentityManager.default.ids.length>0&&null!=window.repo.adminKeys&&window.repo.adminKeys.length>0&&window.repo.adminKeys[0]===EcIdentityManager.default.ids[0].ppk.toPk().toPem()},generateProbablePersonFingerprintFromShortId:function(e){return e.substring(e.lastIndexOf("/")+1)},isPersonIdAnObjectOwner:function(e,t){if(!t.owner||0===t.owner.length)return!1;var r,n=this.generateProbablePersonFingerprintFromShortId(e),i=Object(a["a"])(t.owner);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=EcPk.fromPem(o).fingerprint();if(s.equals(n))return!0}}catch(c){i.e(c)}finally{i.f()}return!1},isPersonIdAnObjectReader:function(e,t){if(!t.reader||0===t.reader.length)return!1;var r,n=this.generateProbablePersonFingerprintFromShortId(e),i=Object(a["a"])(t.reader);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=EcPk.fromPem(o).fingerprint();if(s.equals(n))return!0}}catch(c){i.e(c)}finally{i.f()}return!1},areAnyIdentitiesThisPerson:function(e){var t=e.getFingerprint();if(EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0)for(var r=0;r<EcIdentityManager.default.ids.length;r++)if(EcIdentityManager.default.ids[r].ppk.toPk().fingerprint().equals(t))return!0;return!1},isPersonalIdentityAnObjectOwner:function(e){if(this.isAdmin())return!0;if(!e.owner||0===e.owner.length)return!1;var t=this.getPersonalIdentityPk().toPem();return e.owner.includes(t)},getPersonalIdentityPk:function(){return EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0?EcIdentityManager.default.ids[0].ppk.toPk():null},buildEcAlignmentsFromRemoteLinkedData:function(e){var t,r=[],n=Object(a["a"])(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=new EcAlignment;o.copyFrom(i),r.push(o)}}catch(s){n.e(s)}finally{n.f()}return r}},computed:{amLoggedIn:function(){return!!(EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0)}}}},"7ce1":function(e,t,r){},"8d74":function(e,t,r){var n=r("4cef"),a=/^\s+/;function i(e){return e?e.slice(0,n(e)+1).replace(a,""):e}e.exports=i},9113:function(e,t,r){"use strict";r("7ce1")},"9e69d":function(e,t,r){var n=r("2b3e"),a=n.Symbol;e.exports=a},a2e1:function(e,t,r){},b047:function(e,t,r){var n=r("1a8c"),a=r("408c"),i=r("b4b0"),o="Expected a function",s=Math.max,c=Math.min;function u(e,t,r){var u,d,f,l,p,m,h=0,y=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError(o);function w(t){var r=u,n=d;return u=d=void 0,h=t,l=e.apply(n,r),l}function b(e){return h=e,p=setTimeout(P,t),y?w(e):l}function k(e){var r=e-m,n=e-h,a=t-r;return g?c(a,f-n):a}function O(e){var r=e-m,n=e-h;return void 0===m||r>=t||r<0||g&&n>=f}function P(){var e=a();if(O(e))return E(e);p=setTimeout(P,k(e))}function E(e){return p=void 0,v&&u?w(e):(u=d=void 0,l)}function I(){void 0!==p&&clearTimeout(p),h=0,u=m=d=p=void 0}function C(){return void 0===p?l:E(a())}function x(){var e=a(),r=O(e);if(u=arguments,d=this,m=e,r){if(void 0===p)return b(m);if(g)return clearTimeout(p),p=setTimeout(P,t),w(m)}return void 0===p&&(p=setTimeout(P,t)),l}return t=i(t)||0,n(r)&&(y=!!r.leading,g="maxWait"in r,f=g?s(i(r.maxWait)||0,t):f,v="trailing"in r?!!r.trailing:v),x.cancel=I,x.flush=C,x}e.exports=u},b4b0:function(e,t,r){var n=r("8d74"),a=r("1a8c"),i=r("ffd6"),o=NaN,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;function f(e){if("number"==typeof e)return e;if(i(e))return o;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=c.test(e);return r||u.test(e)?d(e.slice(2),r?2:8):s.test(e)?o:+e}e.exports=f},d481:function(e,t,r){"use strict";r("a2e1")},ffd6:function(e,t,r){var n=r("3729"),a=r("1310"),i="[object Symbol]";function o(e){return"symbol"==typeof e||a(e)&&n(e)==i}e.exports=o}}]);
//# sourceMappingURL=organizations.0d94fdb6.js.map