(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],d=0,l=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);m&&m(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function c(e){return s.p+"js/"+({about:"about",framework:"framework",conceptScheme:"conceptScheme",concepts:"concepts","directory~pluginManager~sidenav":"directory~pluginManager~sidenav",directory:"directory",crosswalk:"crosswalk",import:"import",organization:"organization",organizations:"organizations",configurationEditor:"configurationEditor",pluginManager:"pluginManager",sidenav:"sidenav",forbidden:"forbidden",gapAnalysis:"gapAnalysis",internalError:"internalError",login:"login",pluginContainer:"pluginContainer",profile:"profile",topbar:"topbar",userGroupEditor:"userGroupEditor",viewer:"viewer",vlrc:"vlrc",welcome:"welcome"}[e]||e)+"."+{about:"fa3d8361","chunk-01d6e340":"4838bf18","chunk-0758cb88":"3924e318","chunk-118f2fc7":"75ce33f5","chunk-221431ee":"45f29c80","chunk-288a96c8":"3e409aa6","chunk-2b521cf9":"509bab4e","chunk-2d22bdc1":"68f30c74","chunk-2d21ecda":"875c2af7",framework:"b136f6ac",conceptScheme:"03d28846","chunk-414980ec":"ed18c839","chunk-557a25bc":"43d5ba26","chunk-60c4da6e":"503d866a","chunk-6457d67f":"c4d62bdc","chunk-698822b4":"47e1569e","chunk-69e06d5a":"96476980","chunk-06507814":"ad59668a","chunk-686e69cd":"d2c622d3",concepts:"d2b7ae4c","directory~pluginManager~sidenav":"1637d7d1",directory:"003a3c94","chunk-d5b1fd50":"3f4d55b2","chunk-208a03a5":"bb7254ee","chunk-59826ace":"534f8395",crosswalk:"88234a0c","chunk-3fb38d12":"b6288dcf","chunk-1d3576e6":"8ab02c12","chunk-51b5723a":"c5b58522",import:"1c32a05f",organization:"7a96ba2b",organizations:"54b05801","chunk-6bd49cf8":"ec9bd97c","chunk-2d0b2ce8":"99971e33",configurationEditor:"b3118dac","chunk-73e195ca":"1e75094d","chunk-7cc6508c":"7ffd558f","chunk-882aab22":"095f5af2","chunk-93783560":"c811dae2","chunk-9da69672":"ca730606","chunk-bdc9b010":"e07dbf4a",pluginManager:"de198070",sidenav:"23283fa8",forbidden:"a51a6747",gapAnalysis:"2ca65bef",internalError:"5a12b3e3",login:"391e5469",pluginContainer:"d3e20222",profile:"fe60ad03",topbar:"36ba62ec",userGroupEditor:"998f212b",viewer:"7d5f436a",vlrc:"1093b108",welcome:"025e6c51","chunk-2d0ddf90":"3de1077e","chunk-4a5f46a6":"d9c728ec","chunk-cd689a16":"c3123bfc","chunk-2f37fe09":"3ab6983f","chunk-35f68be3":"1d19588c","chunk-750809ec":"ac4ce96b","chunk-2d0e6c3b":"562627c4","chunk-75621e8d":"75893898","chunk-7682e882":"c2310aae","chunk-53caa434":"d8c9fe4d","chunk-0a468065":"86ee7593","chunk-6a59ae24":"5c16f833","chunk-ce824822":"cccf95ab","chunk-05f3d3fd":"bf86ed77","chunk-c6935678":"651fe41d","chunk-9d03c4aa":"ee8e7e0c"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-01d6e340":1,"chunk-0758cb88":1,"chunk-118f2fc7":1,"chunk-221431ee":1,"chunk-288a96c8":1,"chunk-2b521cf9":1,framework:1,conceptScheme:1,"chunk-414980ec":1,"chunk-557a25bc":1,"chunk-60c4da6e":1,"chunk-6457d67f":1,"chunk-698822b4":1,"chunk-06507814":1,"chunk-686e69cd":1,concepts:1,directory:1,"chunk-d5b1fd50":1,"chunk-208a03a5":1,"chunk-59826ace":1,crosswalk:1,"chunk-3fb38d12":1,"chunk-1d3576e6":1,"chunk-51b5723a":1,import:1,organization:1,organizations:1,"chunk-6bd49cf8":1,configurationEditor:1,"chunk-73e195ca":1,"chunk-7cc6508c":1,"chunk-882aab22":1,"chunk-93783560":1,"chunk-9da69672":1,"chunk-bdc9b010":1,pluginManager:1,sidenav:1,forbidden:1,internalError:1,login:1,pluginContainer:1,userGroupEditor:1,"chunk-35f68be3":1,"chunk-750809ec":1,"chunk-75621e8d":1,"chunk-7682e882":1,"chunk-53caa434":1,"chunk-0a468065":1,"chunk-6a59ae24":1,"chunk-ce824822":1,"chunk-05f3d3fd":1,"chunk-c6935678":1,"chunk-9d03c4aa":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",framework:"framework",conceptScheme:"conceptScheme",concepts:"concepts","directory~pluginManager~sidenav":"directory~pluginManager~sidenav",directory:"directory",crosswalk:"crosswalk",import:"import",organization:"organization",organizations:"organizations",configurationEditor:"configurationEditor",pluginManager:"pluginManager",sidenav:"sidenav",forbidden:"forbidden",gapAnalysis:"gapAnalysis",internalError:"internalError",login:"login",pluginContainer:"pluginContainer",profile:"profile",topbar:"topbar",userGroupEditor:"userGroupEditor",viewer:"viewer",vlrc:"vlrc",welcome:"welcome"}[e]||e)+"."+{about:"31d6cfe0","chunk-01d6e340":"ebd5b8b2","chunk-0758cb88":"ebd5b8b2","chunk-118f2fc7":"ebd5b8b2","chunk-221431ee":"f834ad4c","chunk-288a96c8":"676fcff8","chunk-2b521cf9":"ebd5b8b2","chunk-2d22bdc1":"31d6cfe0","chunk-2d21ecda":"31d6cfe0",framework:"3099517c",conceptScheme:"8bd43b3e","chunk-414980ec":"ebd5b8b2","chunk-557a25bc":"d12a9073","chunk-60c4da6e":"ebd5b8b2","chunk-6457d67f":"ebd5b8b2","chunk-698822b4":"ebd5b8b2","chunk-69e06d5a":"31d6cfe0","chunk-06507814":"37763076","chunk-686e69cd":"f62052be",concepts:"a5ec3f22","directory~pluginManager~sidenav":"31d6cfe0",directory:"f27aae79","chunk-d5b1fd50":"c8484769","chunk-208a03a5":"4fcdbf02","chunk-59826ace":"45b1d613",crosswalk:"ae75269c","chunk-3fb38d12":"cc85466d","chunk-1d3576e6":"7cc6b8b5","chunk-51b5723a":"7173c609",import:"7e4285ab",organization:"1a0abe8b",organizations:"919b67c1","chunk-6bd49cf8":"b984a8db","chunk-2d0b2ce8":"31d6cfe0",configurationEditor:"2d937e81","chunk-73e195ca":"ebd5b8b2","chunk-7cc6508c":"ebd5b8b2","chunk-882aab22":"ebd5b8b2","chunk-93783560":"ebd5b8b2","chunk-9da69672":"0cf81cd9","chunk-bdc9b010":"ebd5b8b2",pluginManager:"d899d02a",sidenav:"e3c37f6d",forbidden:"3a4c7eff",gapAnalysis:"31d6cfe0",internalError:"752e7633",login:"67106866",pluginContainer:"ae42be31",profile:"31d6cfe0",topbar:"31d6cfe0",userGroupEditor:"4f66e819",viewer:"31d6cfe0",vlrc:"31d6cfe0",welcome:"31d6cfe0","chunk-2d0ddf90":"31d6cfe0","chunk-4a5f46a6":"31d6cfe0","chunk-cd689a16":"31d6cfe0","chunk-2f37fe09":"31d6cfe0","chunk-35f68be3":"d05e35b3","chunk-750809ec":"81451978","chunk-2d0e6c3b":"31d6cfe0","chunk-75621e8d":"d05e35b3","chunk-7682e882":"c8484769","chunk-53caa434":"a2bf2d06","chunk-0a468065":"ebd5b8b2","chunk-6a59ae24":"a66eee53","chunk-ce824822":"a8e9915a","chunk-05f3d3fd":"c8484769","chunk-c6935678":"a8e9915a","chunk-9d03c4aa":"d05e35b3"}[e]+".css",a=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],m.parentNode.removeChild(m),n(i)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(m);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/cass-editor/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var m=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t){},3:function(e,t){},"3dfd":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.editorClass,attrs:{id:"app"}},[n("DynamicModal",{on:{"create-directory":e.saveDirectory}}),n("router-view",{class:[{"clear-side-bar":e.showSideNav},{"clear-narrow-side-bar":!e.showSideNav},{"clear-right-aside":e.showRightAside}],on:{"create-new-framework":e.createNewFramework,"create-new-concept-scheme":e.createNewConceptScheme}}),n("router-view",{attrs:{showSideNav:e.showSideNav,name:"sidebar"},on:{"create-new-framework":e.createNewFramework,"create-new-concept-scheme":e.createNewConceptScheme}}),n("vue-progress-bar")],1)},o=[],a=(n("b0c0"),n("ac1f"),n("8a79"),n("5319"),n("841c"),n("2ca0"),n("f3f3")),i=n("54f8"),c=n("2f62"),s=n("872c"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.dynamicModal,{tag:"Component",attrs:{title:e.title,view:"modal",content:e.dynamicModalContent},on:{"create-directory":function(t){return e.$emit("create-directory",t)},close:function(t){return e.$emit("app/closeModal")},cancel:function(t){return e.$emit("app/closeModal")}}})],1)},d=[],l=(n("d3b7"),{name:"DynamicModal",props:{type:{default:"info",type:String},color:{default:"white",type:String}},components:{Share:function(){return n.e("chunk-288a96c8").then(n.bind(null,"c24a"))},MultiEdit:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-d5b1fd50"),n.e("chunk-06507814"),n.e("chunk-3fb38d12"),n.e("chunk-51b5723a")]).then(n.bind(null,"71a9"))},SearchModal:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-d5b1fd50"),n.e("chunk-06507814"),n.e("chunk-208a03a5"),n.e("chunk-59826ace")]).then(n.bind(null,"fbde"))},AddComment:function(){return n.e("chunk-557a25bc").then(n.bind(null,"8a30"))},DeleteCommentConfirm:function(){return n.e("chunk-bdc9b010").then(n.bind(null,"4d6a"))},DeleteDirectoryConfirm:function(){return n.e("chunk-221431ee").then(n.bind(null,"5f07"))},SupportedImportDetails:function(){return n.e("chunk-9da69672").then(n.bind(null,"aaa3"))},Single:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-d5b1fd50"),n.e("chunk-06507814"),n.e("chunk-3fb38d12"),n.e("chunk-1d3576e6")]).then(n.bind(null,"9765"))},AddDirectory:function(){return n.e("chunk-882aab22").then(n.bind(null,"76c6"))},DeleteConfigurationConfirm:function(){return n.e("chunk-0758cb88").then(n.bind(null,"b123"))},FrameworkConfiguration:function(){return Promise.all([n.e("chunk-6bd49cf8"),n.e("chunk-2d0b2ce8")]).then(n.bind(null,"264b"))},DeleteCompetencyConfirm:function(){return n.e("chunk-7cc6508c").then(n.bind(null,"b5c7"))},DeleteFrameworkConfirm:function(){return n.e("chunk-698822b4").then(n.bind(null,"c4df"))},DeleteLevelConfirm:function(){return n.e("chunk-414980ec").then(n.bind(null,"9d8f"))},DeleteConceptConfirm:function(){return n.e("chunk-93783560").then(n.bind(null,"26bb"))},DeleteConceptSchemeConfirm:function(){return n.e("chunk-118f2fc7").then(n.bind(null,"a6a6"))},RemoveCompetencyConfirm:function(){return n.e("chunk-2b521cf9").then(n.bind(null,"2d77"))},ExportOptionsModal:function(){return n.e("chunk-01d6e340").then(n.bind(null,"03d5"))},RequiredPropertyModal:function(){return n.e("chunk-60c4da6e").then(n.bind(null,"1948"))},DuplicateImport:function(){return n.e("chunk-73e195ca").then(n.bind(null,"1a52"))},ImportError:function(){return n.e("chunk-6457d67f").then(n.bind(null,"ef89"))}},data:function(){return{}},computed:{showModal:function(){return this.$store.getters["app/showModal"]},dynamicModalContent:function(){return this.showModal?this.$store.getters["app/dynamicModalContent"]:{}},dynamicModal:function(){return this.dynamicModalContent?this.dynamicModalContent.component:""},title:function(){return this.dynamicModalContent&&this.dynamicModalContent.title?this.dynamicModalContent.title:""}},watch:{}}),m=l,p=(n("d0e4"),n("2877")),f=Object(p["a"])(m,u,d,!1,null,null,null),h=f.exports,g={mixins:[s["a"]],name:"App",components:{DynamicModal:h},data:function(){return{navBarActive:!1,repo:window.repo,itemsSaving:0,showNav:!0,GROUP_SEARCH_SIZE:1e4,linkedPerson:null}},$router:function(e,t){e.path!==t.path&&(this.navBarActive=!1)},beforeDestroy:function(){window.removeEventListener("message",this.cappend),window.removeEventListener("message",this.messageListener)},methods:{initializeApp:function(){var e=this,t="https://dev.api.cassproject.org/api/",n="https://dev.rest.api.cassproject.org/";this.$store.commit("environment/cassApiLocation",n);var r=this;if(this.$route.query){var o=JSON.parse(JSON.stringify(this.$route.query));for(var a in window.queryParams)o[a]=window.queryParams[a];this.$store.commit("editor/queryParams",o),this.queryParams.server&&(this.queryParams.server.endsWith&&!1===this.queryParams.server.endsWith("/")&&(this.queryParams.server+="/"),t=this.queryParams.server),"true"===this.queryParams.concepts&&this.$store.commit("editor/conceptMode",!0),"true"===this.queryParams.ceasnDataFields&&(this.$store.commit("featuresEnabled/configurationsEnabled",!1),this.$store.commit("featuresEnabled/userManagementEnabled",!1),this.$store.commit("featuresEnabled/searchByOwnerNameEnabled",!1),this.$store.commit("featuresEnabled/loginEnabled",!1),this.$store.commit("featuresEnabled/pluginsEnabled",!1)),"wait"===this.queryParams.user&&this.$store.commit("featuresEnabled/shareEnabled",!1)}var i=new EcRepository;i.selectedServer=t,i.init(t,(function(){appLog("Repository initialized")}),appError),i.autoDetectRepository(),window.repo=i,this.repo=i;try{window.addEventListener("message",this.cappend,!1)}catch(h){appError(h)}if(this.openWebSocket(i),window.addEventListener?window.addEventListener("message",this.messageListener,!1):window.attachEvent("onmessage",this.messageListener),this.loadIdentity((function(){r.queryParams&&(r.queryParams.frameworkId&&(!0===r.$store.getters["editor/conceptMode"]?EcConceptScheme.get(r.queryParams.frameworkId,(function(e){r.$store.commit("editor/framework",e),r.$store.commit("editor/clearFrameworkCommentData"),r.$store.commit("app/setCanViewComments",r.canViewCommentsCurrentFramework()),r.$store.commit("app/setCanAddComments",r.canAddCommentsCurrentFramework()),r.$router.push({name:"conceptScheme",params:{frameworkId:r.queryParams.frameworkId}})}),appError):EcFramework.get(r.queryParams.frameworkId,(function(e){r.$store.commit("editor/framework",e),r.$store.commit("editor/clearFrameworkCommentData"),r.$store.commit("app/setCanViewComments",r.canViewCommentsCurrentFramework()),r.$store.commit("app/setCanAddComments",r.canAddCommentsCurrentFramework()),r.$router.push({name:"framework",params:{frameworkId:r.queryParams.frameworkId}})}),appError)),r.queryParams.directoryId&&EcDirectory.get(r.queryParams.directoryId,(function(e){r.$store.commit("app/selectDirectory",e),r.$router.push({name:"directory"})}),appError),"import"===r.queryParams.action&&r.$router.push({name:"import"}),"add"===r.queryParams.action&&r.createNew(),"true"!==r.queryParams.ceasnDataFields&&"true"!==r.queryParams.frameworksPage||r.queryParams.action||r.queryParams.frameworkId||(!0===r.$store.getters["editor/conceptMode"]?r.$router.push({name:"concepts"}):r.$router.push({name:"frameworks"})))})),parent!==window){for(var c=document.getElementsByTagName("head")[0],s=parent.document.getElementsByTagName("*"),u=0;u<s.length;u++)"link"!==s[u].tagName.toLowerCase()&&"style"!==s[u].tagName.toLowerCase()||null!=s[u].attributes.inherit&&c.appendChild(s[u].cloneNode(!0));try{this.importParentStyles()}catch(h){}}if(null!=this.queryParams.css){var d=document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=this.queryParams.css,document.getElementsByTagName("head")[0].appendChild(d)}EcIdentityManager.readContacts(),EcIdentityManager.readIdentities(),EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&this.findLinkedPersonForIdentity();for(var l=["https://schema.cassproject.org/0.4","https://schema.cassproject.org/0.4/Directory","https://schema.cassproject.org/0.4/","https://schema.cassproject.org/0.4/Directory/","https://schema.cassproject.org/0.4/skos/ConceptScheme/","https://schema.cassproject.org/0.4/skos/","https://schema.cassproject.org/0.4/Framework/","https://schema.cassproject.org/0.4/skos/ConceptScheme","https://schema.cassproject.org/0.4/skos/Concept","https://schema.cassproject.org/0.4/skos","https://schema.cassproject.org/0.4/Framework","https://schema.cassproject.org/0.4/Competency","https://schema.cassproject.org/0.4/skos/Concept/","https://schema.cassproject.org/0.4/Competency/"],m=function(){var t=f[p];void 0===e.$store.state.lode.schemata[t]&&-1===t.indexOf("EncryptedValue")&&EcRemote.getExpectingObject("",t,(function(e){r.$store.commit("lode/rawSchemata",{id:t,obj:e}),jsonld.expand(e,(function(e,n){null==e&&r.$store.dispatch("lode/schemata",{id:t,obj:n})}))}),(function(){}))},p=0,f=l;p<f.length;p++)m()},onSidebarEvent:function(){this.showSideNav=!this.showSideNav},findLinkedPersonForIdentity:function(){appLog("Finding linked person for identity...");var e=EcIdentityManager.ids[0].ppk.toPk().fingerprint(),t={size:1e4};window.repo.searchWithParams('@type:Person AND @id:"'+e+'"',t,null,this.findLinkedPersonPersonSearchSuccess,this.findLinkedPersonPersonSearchFailure)},findLinkedPersonPersonSearchSuccess:function(e){appLog("Linked person person search success: "),appLog(e);var t,n=!1,r=Object(i["a"])(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=new EcPerson;a.copyFrom(o),a.getGuid().equals(EcIdentityManager.ids[0].ppk.toPk().fingerprint())&&(n=!0,this.$store.commit("user/loggedOnPerson",a),this.linkedPerson=a,appLog("Matching person record found: "),appLog(a))}}catch(c){r.e(c)}finally{r.f()}n&&this.addGroupIdentities()},findLinkedPersonPersonSearchFailure:function(e){appLog("Linked person person search failure: "+e)},searchRepositoryForGroupsSuccess:function(e){var t=this.linkedPerson.shortId();if(e&&e.length>0){var n,r=Object(i["a"])(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.employee&&o.employee.length>0){var a,c=Object(i["a"])(o.employee);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(s.equals(t)){this.addGroupIdentity(o);break}}}catch(u){c.e(u)}finally{c.f()}}}}catch(u){r.e(u)}finally{r.f()}}},searchRepositoryForGroupsFailure:function(e){appLog("Group search failure: "+e)},addGroupIdentities:function(){appLog("Finding assigned groups...");var e={};e.size=this.GROUP_SEARCH_SIZE,EcOrganization.search(window.repo,"",this.searchRepositoryForGroupsSuccess,this.searchRepositoryForGroupsFailure,e)},addGroupIdentity:function(e){try{var t=e.getOrgKeys();appLog("Adding group identities: ("+e.shortId()+") - "+e.getName()+" - ("+t.length+") keys");for(var n=0;n<t.length;n++){var r=t[n],o=new EcIdentity;o.displayName=e.getName()+" - key["+n+"]",o.ppk=r,EcIdentityManager.addIdentityQuietly(o)}}catch(a){}},saveDirectory:function(e){var t=this,n=new EcDirectory;n.name=e,n.generateId(window.repo.selectedServer),EcIdentityManager.ids.length>0&&n.addOwner(EcIdentityManager.ids[0].ppk.toPk()),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),n.save((function(e){appLog("Directory saved: "+n.id),t.$store.commit("app/closeModal"),t.$store.dispatch("app/refreshDirectories"),t.selectDirectory(n)}),appError,window.repo)},selectDirectory:function(e){this.$store.commit("app/selectDirectory",e),this.$store.commit("app/rightAsideObject",e),"directory"!==this.$router.currentRoute.name&&this.$router.push({name:"directory"})},cappend:function(e){if("selected"===e.data.message){for(var t=[],n=0;n<e.data.selected.length;n++)e.data.selected[n]["ceasn:exactAlignment"]?t.push(e.data.selected[n]["ceasn:exactAlignment"]):e.data.selected[n]["@id"]?t.push(e.data.selected[n]["@id"]):t.push(e.data.selected[n]);appLog("I got "+e.data.selected.length+" selected items from the iframe"),appLog(e.data.selected)}else if("back"===e.data.message)this.$router.push({name:"framework",params:{frameworkId:this.$store.state.editor.framework.id}});else if("highlightedCompetencies"===e.data.message){if(!e.data.competencies)return;this.queryParams.highlightCompetency=e.data.competencies}else"select"===e.data.message&&"framework"===this.$route.name&&this.queryParams.select&&this.select()},openWebSocket:function(e){var t,n=this;t=null==this.queryParams.webSocketOverride||void 0===this.queryParams.webSocketOverride?new WebSocket(e.selectedServer.replace(/http/,"ws").replace(/api\//,"ws/custom")):new WebSocket(this.queryParams.webSocketOverride),t.onopen=function(){appLog("WebSocket open.")},t.onerror=function(e){appLog(e)},t.onclose=function(t){appLog(t),n.$store.commit("editor/webSocketBackoffIncrease"),setTimeout((function(){n.openWebSocket(e)}),n.$store.state.editor.webSocketBackoff)},t.changedObject=function(e){if(n.$store.commit("editor/changedObject",e.shortId()),"framework"===n.$route.name||"conceptScheme"===n.$route.name){var t=n.$store.state.editor.framework;if(((new ConceptScheme).isA(e.getFullType())||"ConceptScheme"===e["encryptedType"])&&null!=t&&t.shortId()===e.shortId()){var r=new ConceptScheme;"ConceptScheme"===e["encryptedType"]?r=n.decrypt(e,r):r.copyFrom(e),n.$store.commit("editor/framework",r),n.spitEvent("frameworkChanged",r.shortId())}if(((new EcFramework).isA(e.getFullType())||"Framework"===e["encryptedType"])&&null!=t&&t.shortId()===e.shortId()){r=new EcFramework;"Framework"===e["encryptedType"]?r=n.decrypt(e,r):r.copyFrom(e),n.$store.commit("editor/framework",r),n.spitEvent("frameworkChanged",r.shortId())}if(((new Concept).isA(e.getFullType())||"Concept"===e["encryptedType"])&&null!=t&&null!=n.$store.state.editor.selectedCompetency){if(n.$store.state.editor.selectedCompetency.shortId()===e.shortId()){var o=new EcConcept;"Concept"===e["encryptedType"]?o=n.decrypt(e,o):o.copyFrom(e),n.$store.commit("editor/selectedCompetency",o)}n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId())}if(((new EcCompetency).isA(e.getFullType())||"Competency"===e["encryptedType"])&&null!=t&&null!=n.$store.state.editor.selectedCompetency){if(n.$store.state.editor.selectedCompetency.shortId()===e.shortId()){o=new EcCompetency;"Competency"===e["encryptedType"]?o=n.decrypt(e,o):o.copyFrom(e),n.$store.commit("editor/selectedCompetency",o)}n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId())}if(((new EcLevel).isA(e.getFullType())||"Level"===e["encryptedType"])&&null!=t&&null!=n.$store.state.editor.selectedCompetency){if(n.$store.state.editor.selectedCompetency.shortId()===e.shortId()){o=new EcLevel;"Level"===e["encryptedType"]?o=n.decrypt(e,o):o.copyFrom(e),n.$store.commit("editor/selectedCompetency",o)}n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId())}}},t.onmessage=function(e){var r=e.data;if(appLog("Server: "+r),!EcArray.isArray(r)&&r.startsWith("[")&&(r=JSON.parse(r)),EcArray.isArray(r)){for(var o=0;o<r.length;o++)delete EcRepository.cache[r[o]],delete EcRepository.cache[EcRemoteLinkedData.trimVersionFromUrl(r[o])];if(null==n.$store.state.editor.framework)return;n.repo.precache(r,(function(){for(var e=0;e<r.length;e++)EcRepository.get(r[e],t.changedObject,appError)}))}else delete EcRepository.cache[r],delete EcRepository.cache[EcRemoteLinkedData.trimVersionFromUrl(r)],EcRepository.get(r,t.changedObject,appError)}},decrypt:function(e,t){var n=new EcEncryptedValue;return n.copyFrom(e),t.copyFrom(n.decryptIntoObject()),t},createNewFramework:function(e){var t=this;this.$store.commit("editor/t3Profile",!1),this.setDefaultLanguage();var n=new EcFramework;null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),e&&(n.directory=e.shortId(),e.owner&&(n.owner=e.owner),e.reader&&(n.reader=e.reader)),EcIdentityManager.ids.length>0&&n.addOwner(EcIdentityManager.ids[0].ppk.toPk()),n.name={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Framework"},this.$store.commit("editor/newFramework",n.shortId()),"true"===this.queryParams.ceasnDataFields&&(n["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]);var r=n;"true"===this.queryParams.private&&(r=EcEncryptedValue.toEncryptedValue(n)),this.repo.saveTo(r,(function(){t.$store.commit("editor/framework",n),"framework"!==t.$route.name&&t.$router.push({name:"framework"})}),appError)},createNewConceptScheme:function(){var e=this;this.setDefaultLanguage();var t=new EcConceptScheme;null!=this.queryParams.newObjectEndpoint?t.generateShortId(this.queryParams.newObjectEndpoint):t.generateId(this.repo.selectedServer),EcIdentityManager.ids.length>0&&t.addOwner(EcIdentityManager.ids[0].ppk.toPk());var n="New Taxonomy";"true"===this.queryParams.ceasnDataFields&&(n="New Concept Scheme"),t["dcterms:title"]={"@language":this.$store.state.editor.defaultLanguage,"@value":n},"true"===this.queryParams.ceasnDataFields&&(t["dcterms:language"]=[this.$store.state.editor.defaultLanguage]),t["schema:dateCreated"]=(new Date).toISOString(),t["schema:dateModified"]=(new Date).toISOString(),this.$store.commit("editor/newFramework",t.shortId());var r=t;"true"===this.queryParams.private&&(r=EcEncryptedValue.toEncryptedValue(t)),this.repo.saveTo(r,(function(){e.$store.commit("editor/framework",t),"conceptScheme"!==e.$route.name&&e.$router.push({name:"conceptScheme"})}),appError)},createNew:function(){this.setDefaultLanguage();var e=this;!0===e.$store.getters["editor/conceptMode"]?this.createNewConceptScheme():this.createNewFramework()},loadIdentity:function(e){var t;if("self"===this.queryParams.user)EcIdentityManager.readIdentities(),EcIdentityManager.readContacts(),0===EcIdentityManager.ids.length?EcPpk.generateKeyAsync((function(n){t=new EcIdentity,t.ppk=n,t.displayName="You",EcIdentityManager.onIdentityChanged=EcIdentityManager.saveIdentities,EcIdentityManager.addIdentity(t),e()})):e();else if("wait"===this.queryParams.user){var n=this,r=function(r){var o=r.data;if(null==o||""===o||EcObject.isObject(o)||(o=JSON.parse(o)),"identity"===o.action){t=new EcIdentity,t.ppk=EcPpk.fromPem(o.identity),t.displayName="You",EcIdentityManager.addIdentity(t),e();var a={action:"response",message:"identityOk"};appLog(a),parent.postMessage(a,n.queryParams.origin)}};window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r);var o={message:"waiting"};appLog(o),parent.postMessage(o,this.queryParams.origin)}else e()},messageListener:function(e){var t=e.data,n=this;if(null!=t&&""!==t&&!EcObject.isObject(t))try{t=JSON.parse(t)}catch(m){}if(null!=t&&""!==t)if("template"===t.action){null!=t.framework&&(EcFramework.template=this.removeNewlines(t.framework)),null!=t.competency&&(EcCompetency.template=this.removeNewlines(t.competency)),null!=t.conceptScheme&&(EcConceptScheme.template=this.removeNewlines(t.conceptScheme)),null!=t.concept&&(EcConcept.template=this.removeNewlines(t.concept)),null!=t.directory&&(EcDirectory.template=this.removeNewlines(t.directory));var r={action:"response",message:"templateOk"};appLog(r),parent.postMessage(r,this.queryParams.origin)}else if("set"===t.action){if(null!=t.id)var o=EcRepository.getBlocking(t.id);for(var a in delete t.id,delete t.action,t)o[a]=t[a];o["schema:dateModified"]=(new Date).toISOString(),!0===n.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[o.id]&&(o=EcEncryptedValue.toEncryptedValue(o)),repo.saveTo(o,(function(e){var t={action:"response",message:"setOk"};appLog(t),parent.postMessage(t,n.queryParams.origin)}),(function(e){var t={action:"response",message:"setFail"};appLog(t),parent.postMessage(t,n.queryParams.origin)}))}else if("export"===t.action){var i,c,s,u=t.schema,d=this.$store.state.editor.framework;if(null!=this.$store.state.editor.selectedCompetency){var l=this.$store.state.editor.selectedCompetency;!1===EcRepository.shouldTryUrl(l.id)&&-1===l.id.indexOf(this.repo.selectedServer)?(i=this.repo.selectedServer+"data/"+EcCrypto.md5(l.shortId()),c=this.repo.selectedServer+"data/"+EcCrypto.md5(d.shortId()),s=EcCrypto.md5(l.shortId())):(i=l.id,c=d.id,s=l.getGuid())}else!1===EcRepository.shouldTryUrl(d.id)&&-1===d.id.indexOf(this.repo.selectedServer)?(i=this.repo.selectedServer+"data/"+EcCrypto.md5(d.shortId()),c=this.repo.selectedServer+"data/"+EcCrypto.md5(d.shortId()),s=EcCrypto.md5(d.shortId())):(i=d.id,c=d.id,s=d.getGuid());"asn"===u?this.get(c.replace("/data/","/asn/"),null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"asn",format:"rdf+json",data:t},n.queryParams.origin)})):"cass"===u?this.get(i,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/ld+json",data:t},n.queryParams.origin)})):"cassn4"===u?this.get(i,null,{Accept:"text/n4"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"text/n4",data:t},n.queryParams.origin)}),(function(e){appLog(e)})):"cassrdfjson"===u?this.get(i,null,{Accept:"application/rdf+json"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/rdf+json",data:t},n.queryParams.origin)}),(function(e){appLog(e)})):"cassrdfxml"===u?this.get(i,null,{Accept:"application/rdf+xml"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/rdf+xml",data:t},n.queryParams.origin)}),(function(e){appLog(e)})):"cassturtle"===u?this.get(i,null,{Accept:"text/turtle"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"text/turtle",data:t},n.queryParams.origin)}),(function(e){appLog(e)})):"ceasn"===u||"ctdlasn"===u?this.get(c.replace("/data/","/ceasn/"),null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:u,format:"application/ld+json",data:t},n.queryParams.origin)})):"case"===u&&(null==l?this.get(this.repo.selectedServer+"ims/case/v1p0/CFDocuments/"+s,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"case",format:"application/json",data:t},n.queryParams.origin)}),(function(e){appLog(e)})):this.get(this.repo.selectedServer+"ims/case/v1p0/CFItems/"+s,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"case",format:"application/json",data:t},n.queryParams.origin)}),(function(e){appLog(e)})))}},removeNewlines:function(e){if(null!=e["owner"])for(var t=0;t<e["owner"].length;t++){var n=e["owner"][t];e["owner"][t]=EcPk.fromPem(n).toPem()}if(null!=e["reader"])for(t=0;t<e["reader"].length;t++){n=e["reader"][t];e["reader"][t]=EcPk.fromPem(n).toPem()}if(null!=e["@owner"])for(t=0;t<e["@owner"].length;t++){n=e["@owner"][t];e["@owner"][t]=EcPk.fromPem(n).toPem()}if(null!=e["@reader"])for(t=0;t<e["@reader"].length;t++){n=e["@reader"][t];e["@reader"][t]=EcPk.fromPem(n).toPem()}return e},attachUrlProperties:function(e){var t=this.$store.state.editor.framework;null!=this.$store.state.editor.selectedCompetency&&(t=this.$store.state.editor.selectedCompetency);for(var n=0;n<e.length;n++){var r=EcRepository.getBlocking(e[n]);r.isAny((new EcConcept).getTypes())&&(EcArray.isArray(t[this.$store.state.editor.selectCompetencyRelation])||(t[this.$store.state.editor.selectCompetencyRelation]=[]),EcArray.setAdd(t[this.$store.state.editor.selectCompetencyRelation],r.shortId()))}t["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[t.id]&&(t=EcEncryptedValue.toEncryptedValue(t)),this.repo.saveTo(t,(function(){}),appError)},copyOrLink:function(e,t){"Copy"===e?this.copyCompetencies(t):this.appendCompetencies(t,!0)},copyCompetencies:function(e){for(var t={},n=this.$store.state.editor.framework,r=this,o=0;o<e.length;o++){var a=EcRepository.getBlocking(e[o]);if(null!=a&&a.isAny((new EcCompetency).getTypes())){var i=new EcCompetency;if(i.copyFrom(a),null!=this.queryParams.newObjectEndpoint?i.generateShortId(this.queryParams.newObjectEndpoint):i.generateId(this.repo.selectedServer),i["schema:dateCreated"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),delete i.owner,EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),n.owner&&n.owner.length>0)for(var c=0;c<n.owner.length;c++){var s=n.owner[c];i.addOwner(EcPk.fromPem(s))}if(n.reader&&n.reader.length>0)for(c=0;c<n.reader.length;c++){var u=n.reader[c];i.addReader(EcPk.fromPem(u))}i["ceasn:derivedFrom"]=a.id,t[i["ceasn:derivedFrom"]]=i,!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[i.id]&&(i=EcEncryptedValue.toEncryptedValue(i)),this.itemsSaving++,function(e){Task.asyncImmediate((function(t){r.repo.saveTo(e,(function(){n.addCompetency(e.id),r.$store.commit("editor/framework",n),r.afterCopy(),t()}),(function(e){appError(e),r.afterCopy(),t()}))}))}(i)}else if(null!=a&&a.isAny((new EcLevel).getTypes())){var d=new EcLevel;d.copyFrom(a),null!=this.queryParams.newObjectEndpoint?d.generateShortId(this.queryParams.newObjectEndpoint):d.generateId(this.repo.selectedServer),d["schema:dateCreated"]=(new Date).toISOString(),d.competency=this.$store.state.editor.selectedCompetency.shortId(),delete d.owner,d["ceasn:derivedFrom"]=a.id,t[d["ceasn:derivedFrom"]]=d,!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[d.id]&&(d=EcEncryptedValue.toEncryptedValue(d)),this.itemsSaving++,function(e){Task.asyncImmediate((function(t){r.repo.saveTo(e,(function(){n.addLevel(e.id),r.$store.commit("editor/framework",n),r.afterCopy(),t()}),(function(e){appError(e),r.afterCopy(),t()}))}))}(d)}}for(o=0;o<e.length;o++){a=EcRepository.getBlocking(e[o]);if(null!=a&&a.isAny((new EcAlignment).getTypes())){var l=t[a.target],m=t[a.source];if("undefined"!==typeof l&&"undefined"!==typeof m){var p=new EcAlignment;if(p.copyFrom(a),null!=this.queryParams.newObjectEndpoint?p.generateShortId(this.queryParams.newObjectEndpoint):p.generateId(this.repo.selectedServer),p["schema:dateCreated"]=(new Date).toISOString(),p.target=l.shortId(),p.source=m.shortId(),p.relationType=a.relationType,EcIdentityManager.ids.length>0&&p.addOwner(EcIdentityManager.ids[0].ppk.toPk()),n.owner&&n.owner.length>0)for(c=0;c<n.owner.length;c++){s=n.owner[c];p.addOwner(EcPk.fromPem(s))}if(n.reader&&n.reader.length>0)for(c=0;c<n.reader.length;c++){u=n.reader[c];p.addReader(EcPk.fromPem(u))}p.source!==p.target&&(n["schema:dateModified"]=(new Date).toISOString(),EcArray.setRemove(e,a.source),!0===this.$store.state.editor.private&&(p=EcEncryptedValue.toEncryptedValue(p)),this.itemsSaving++,function(e){Task.asyncImmediate((function(t){r.repo.saveTo(e,(function(){n.addRelation(e.id),r.$store.commit("editor/framework",n),r.afterCopy(),t()}),(function(e){appError(e),r.afterCopy(),t()}))}))}(p))}}}var f=this.$store.state.editor.selectedCompetency;for(o=0;o<e.length;o++){a=EcRepository.getBlocking(e[o]);if(null!=a&&a.isAny((new EcCompetency).getTypes())&&null!=f){p=new EcAlignment;null!=this.queryParams.newObjectEndpoint?p.generateShortId(this.queryParams.newObjectEndpoint):p.generateId(this.repo.selectedServer),p["schema:dateCreated"]=(new Date).toISOString();m=t[a.id];if(p.target=f.shortId(),p.source=m.shortId(),p.relationType=Relation.NARROWS,EcIdentityManager.ids.length>0&&p.addOwner(EcIdentityManager.ids[0].ppk.toPk()),n.owner&&n.owner.length>0)for(c=0;c<n.owner.length;c++){s=n.owner[c];p.addOwner(EcPk.fromPem(s))}if(n.reader&&n.reader.length>0)for(c=0;c<n.reader.length;c++){u=n.reader[c];p.addReader(EcPk.fromPem(u))}p.source!==p.target&&(this.itemsSaving++,n.addRelation(p.id),n["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&(p=EcEncryptedValue.toEncryptedValue(p)),function(e){Task.asyncImmediate((function(t){r.repo.saveTo(e,(function(){r.afterCopy(),t()}),(function(e){appError(e),r.afterCopy(),t()}))}))}(p))}}},afterCopy:function(){if(this.itemsSaving--,0===this.itemsSaving){var e=this.$store.state.editor.framework;!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[e.id]&&(e=EcEncryptedValue.toEncryptedValue(e)),this.repo.saveTo(e,(function(){}),appError)}},appendCompetencies:function(e,t){for(var n=this.$store.state.editor.selectedCompetency,r=this.$store.state.editor.framework,o=this,a=0;a<e.length;a++){var i=EcRepository.getBlocking(e[a]);i.isAny((new EcCompetency).getTypes())?r.addCompetency(i.shortId()):i.isAny((new EcLevel).getTypes())&&(r.addLevel(i.shortId()),EcArray.isArray(i.competency)||(i.competency=[i.competency]),i.competency.push(n.shortId()),this.repo.saveTo(i,(function(){}),appError))}for(a=0;a<e.length;a++){i=EcRepository.getBlocking(e[a]);i.isAny((new EcAlignment).getTypes())&&EcArray.has(r.competency,i.source)&&EcArray.has(r.competency,i.target)&&(r.addRelation(i.shortId()),EcArray.setRemove(e,i.source))}for(a=0;a<e.length;a++){i=EcRepository.getBlocking(e[a]);if(i.isAny((new EcCompetency).getTypes())&&null!=n){var c=new EcAlignment;if(null!=this.queryParams.newObjectEndpoint?c.generateShortId(this.queryParams.newObjectEndpoint):c.generateId(this.repo.selectedServer),c["schema:dateCreated"]=(new Date).toISOString(),c.target=n.shortId(),c.source=i.shortId(),c.relationType=Relation.NARROWS,EcIdentityManager.ids.length>0&&c.addOwner(EcIdentityManager.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(var s=0;s<r.owner.length;s++){var u=r.owner[s];c.addOwner(EcPk.fromPem(u))}if(r.reader&&r.reader.length>0)for(s=0;s<r.reader.length;s++){var d=r.reader[s];c.addReader(EcPk.fromPem(d))}c.source!==c.target&&(r.addRelation(c.id),!0===this.$store.state.editor.private&&(c=EcEncryptedValue.toEncryptedValue(c)),this.repo.saveTo(c,(function(){}),appError))}}!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[r.id]&&(r=EcEncryptedValue.toEncryptedValue(r)),this.repo.saveTo(r,(function(){o.$store.commit("editor/framework",EcFramework.getBlocking(r.id))}),appError)},importParentStyles:function(){for(var e=parent.document.styleSheets,t="",n=0,r=e.length;n<r;++n)if(e[n].cssRules&&null!=e[n].ownerNode.attributes.inherit)for(var o=e[n].cssRules,a=0,i=o.length;a<i;++a)t+=o[a].cssText;var c=document.createElement("style");c.type="text/css";try{c.innerHTML=t}catch(s){}document.getElementsByTagName("head")[0].appendChild(c)}},computed:Object(a["a"])({editorClass:function(){return"true"===this.queryParams.ceasnDataFields?"ceasn-editor":""},showRightAside:function(){return this.$store.getters["app/showRightAside"]},showSideNav:function(){return this.$store.getters["app/showSideNav"]},currentRoute:function(){return this.$route.path},isLoggedIn:function(){return!(!this.loggedInPerson||this.loggedInPerson&&!this.loggedInPerson.name)},currentPathIsLogin:function(){return"login"===this.$route.name}},Object(c["c"])({loggedInPerson:function(e){return e.user.loggedOnPerson},queryParams:function(e){return e.editor.queryParams}})),mounted:function(){},watch:{currentRoute:function(e){this.isLoggedIn||"/users"!==e||this.$router.push({path:"/"})},$route:function(e,t){this.$store.commit("app/closeRightAside"),this.$store.commit("app/closeSideNav"),this.$store.commit("app/closeModal");var n=e;n&&(this.navBarActive=!1),t.name||this.initializeApp(),"concepts"===e.name&&this.$store.commit("editor/conceptMode",!0),"frameworks"===e.name&&this.$store.commit("editor/conceptMode",!1)}}},y=g,w=(n("5c0b"),Object(p["a"])(y,r,o,!1,null,null,null));t["a"]=w.exports},4:function(e,t){},"41cb":function(e,t,n){"use strict";n("d3b7");var r=n("2b0e"),o=n("8c4f");r["a"].use(o["a"]),t["a"]=new o["a"]({base:"/cass-editor/",scrollBehavior:function(e,t,n){if(e.hash)return{selector:e.hash,offset:{x:0,y:-100}}},routes:[{path:"/",name:"welcome",components:{default:function(){return n.e("welcome").then(n.bind(null,"eec5"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}},alias:"/cass-editor/"},{path:"/frameworks",name:"frameworks",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("chunk-686e69cd"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/concepts",name:"concepts",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("chunk-686e69cd"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"ede4"))}},{path:"/legacyLogin",name:"legacyLogin",component:function(){return n.e("login").then(n.bind(null,"d492"))}},{path:"/createAccount",name:"createAccount",component:function(){return n.e("login").then(n.bind(null,"50b5"))}},{path:"/configuration",name:"configuration",components:{default:function(){return Promise.all([n.e("chunk-6bd49cf8"),n.e("configurationEditor")]).then(n.bind(null,"7bcc"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/users",name:"users",components:{default:function(){return n.e("userGroupEditor").then(n.bind(null,"4a5b"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/pluginManager",name:"pluginManager",components:{default:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("pluginManager")]).then(n.bind(null,"55c5"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/crosswalk",name:"crosswalk",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-d5b1fd50"),n.e("chunk-06507814"),n.e("chunk-2d22bdc1"),n.e("crosswalk")]).then(n.bind(null,"1cfb"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/about",name:"about",components:{default:function(){return n.e("about").then(n.bind(null,"f820"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/framework",name:"framework",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("chunk-2d21ecda"),n.e("framework")]).then(n.bind(null,"2f26"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/import",name:"import",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-d5b1fd50"),n.e("chunk-06507814"),n.e("chunk-3fb38d12"),n.e("import")]).then(n.bind(null,"47e0"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/organizations",name:"organizations",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("organizations")]).then(n.bind(null,"4f42"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/organization",name:"organization",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("organization")]).then(n.bind(null,"5186"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/pluginContainer",name:"pluginContainer",components:{default:function(){return n.e("pluginContainer").then(n.bind(null,"bd3b"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/conceptScheme",name:"conceptScheme",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("conceptScheme")]).then(n.bind(null,"5889"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/403",name:"Forbidden",component:function(){return n.e("forbidden").then(n.bind(null,"dc82"))}},{path:"/500",name:"InternalError",component:function(){return n.e("internalError").then(n.bind(null,"7f18"))}},{path:"/vlrc",name:"vlrc",component:function(){return n.e("vlrc").then(n.bind(null,"f6b8"))}},{path:"/gap-analysis",name:"gap-analysis",component:function(){return n.e("gapAnalysis").then(n.bind(null,"ffa4"))}},{path:"/profile",name:"profile",component:function(){return n.e("profile").then(n.bind(null,"b8fd"))}},{path:"/viewer",name:"viewer",component:function(){return n.e("viewer").then(n.bind(null,"ffad"))}},{path:"/directory",name:"directory",components:{default:function(){return Promise.all([n.e("chunk-69e06d5a"),n.e("chunk-06507814"),n.e("directory~pluginManager~sidenav"),n.e("directory")]).then(n.bind(null,"1e7a"))},sidebar:function(){return Promise.all([n.e("directory~pluginManager~sidenav"),n.e("sidenav")]).then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}}]})},4360:function(e,t,n){"use strict";var r=n("2b0e"),o=n("2f62"),a=n("8596");n("3e8f");r["a"].use(o["a"]);var i={framework:null,organization:null,selectedCompetency:null,queryParams:{},defaultLanguage:null,webSocketBackoff:100,selectCompetencyRelation:null,selectingCompetencies:!1,private:!1,newCompetency:null,newFramework:null,t3Profile:!1,changedObject:null,configuration:null,commonPathIframe:"",iframeCompetencyPathInterframework:"",iframeConceptPath:"",addCommentAboutId:"",addCommentType:"",commentToEdit:{},commentToReply:{},frameworkCommentDataLoaded:!1,frameworkCommentList:[],frameworkCommentPersonMap:{},commentsToDelete:[],commentScrollTo:{},editsToUndo:[],lastEditToUndo:null,recomputeHierarchy:!1,selectedCompetenciesAsProperties:null,refreshLevels:!1,refreshAlignments:!1,conceptMode:!1,cutId:null,copyId:null,paste:!1,cutOrCopyContainerId:null,nodeInFocus:null,relations:{},setPropertyLevel:null,addAnother:!1,itemToDelete:{},itemToRemove:{},itemToExport:{}},c={framework:function(e,t){e.framework=t},organization:function(e,t){e.organization=t},selectedCompetency:function(e,t){e.selectedCompetency=t},queryParams:function(e,t){e.queryParams=t},defaultLanguage:function(e,t){e.defaultLanguage=t},webSocketBackoffIncrease:function(e){e.webSocketBackoff*=2},private:function(e,t){e.private=t},selectCompetencyRelation:function(e,t){e.selectCompetencyRelation=t},selectingCompetencies:function(e,t){e.selectingCompetencies=t},newCompetency:function(e,t){e.newCompetency=t},newFramework:function(e,t){e.newFramework=t},t3Profile:function(e,t){e.t3Profile=t},changedObject:function(e,t){e.changedObject=t},configuration:function(e,t){e.configuration=t},commonPathIframe:function(e,t){e.commonPathIframe=t},iframeCompetencyPathInterframework:function(e,t){e.iframeCompetencyPathInterframework=t},iframeConceptPath:function(e,t){e.iframeConceptPath=t},setAddCommentAboutId:function(e,t){e.addCommentAboutId=t},setAddCommentType:function(e,t){e.addCommentType=t},setCommentToEdit:function(e,t){e.commentToEdit=t},setCommentToReply:function(e,t){e.commentToReply=t},setCommentsToDelete:function(e,t){e.commentsToDelete=t},clearFrameworkCommentData:function(e){e.frameworkCommentDataLoaded=!1,e.frameworkCommentList=[],e.frameworkCommentPersonMap={}},setFrameworkCommentDataLoaded:function(e,t){e.frameworkCommentDataLoaded=t},setFrameworkCommentList:function(e,t){e.frameworkCommentList=t},setFrameworkCommentPersonMap:function(e,t){e.frameworkCommentPersonMap=t},setCommentScrollTo:function(e,t){e.commentScrollTo=t},addEditsToUndo:function(e,t){e.editsToUndo.push(t)},setLastEditToUndo:function(e,t){e.lastEditToUndo=t},recomputeHierarchy:function(e,t){e.recomputeHierarchy=t},selectedCompetenciesAsProperties:function(e,t){e.selectedCompetenciesAsProperties=t},refreshLevels:function(e,t){e.refreshLevels=t},refreshAlignments:function(e,t){e.refreshAlignments=t},conceptMode:function(e,t){e.conceptMode=t},cutId:function(e,t){e.cutId=t},copyId:function(e,t){e.copyId=t},paste:function(e,t){e.paste=t},cutOrCopyContainerId:function(e,t){e.cutOrCopyContainerId=t},nodeInFocus:function(e,t){e.nodeInFocus=t},relations:function(e,t){e.relations=t},setPropertyLevel:function(e,t){e.setPropertyLevel=t},addAnother:function(e,t){e.addAnother=t},setItemToDelete:function(e,t){e.itemToDelete=t},setItemToRemove:function(e,t){e.itemToRemove=t},setItemToExport:function(e,t){e.itemToExport=t}},s={lastEditToUndo:function(e){return e.commit("setLastEditToUndo",e.state.editsToUndo.pop()),e.state.lastEditToUndo}},u={framework:function(e){return e.framework},organization:function(e){return e.organization},selectedCompetency:function(e){return e.selectedCompetency},queryParams:function(e){return e.queryParams},defaultLanguage:function(e){return e.defaultLanguage},webSocketBackoff:function(e){return e.webSocketBackoff},selectCompetencyRelation:function(e){return e.selectCompetencyRelation},selectingCompetencies:function(e){return e.selectingCompetencies},private:function(e){return e.private},newCompetency:function(e){return e.newCompetency},newFramework:function(e){return e.newFramework},t3Profile:function(e){return e.t3Profile},changedObject:function(e){return e.changedObject},configuration:function(e){return e.configuration},addCommentAboutId:function(e){return e.addCommentAboutId},addCommentType:function(e){return e.addCommentType},commentToEdit:function(e){return e.commentToEdit},commentToReply:function(e){return e.commentToReply},commentsToDelete:function(e){return e.commentsToDelete},frameworkCommentDataLoaded:function(e){return e.frameworkCommentDataLoaded},frameworkCommentList:function(e){return e.frameworkCommentList},frameworkCommentPersonMap:function(e){return e.frameworkCommentPersonMap},commentScrollTo:function(e){return e.commentScrollTo},recomputeHierarchy:function(e){return e.recomputeHierarchy},selectedCompetenciesAsProperties:function(e){return e.selectedCompetenciesAsProperties},refreshLevels:function(e){return e.refreshLevels},refreshAlignments:function(e){return e.refreshAlignments},conceptMode:function(e){return e.conceptMode},cutId:function(e){return e.cutId},copyId:function(e){return e.copyId},paste:function(e){return e.paste},cutOrCopyContainerId:function(e){return e.cutOrCopyContainerId},nodeInFocus:function(e){return e.nodeInFocus},relations:function(e){return e.relations},setPropertyLevel:function(e){return e.setPropertyLevel},addAnother:function(e){return e.addAnother},itemToDelete:function(e){return e.itemToDelete},itemToRemove:function(e){return e.itemToRemove},itemToExport:function(e){return e.itemToExport}},d={namespaced:!0,state:i,mutations:c,actions:s,getters:u},l=(n("ac1f"),n("841c"),{sideNavEnabled:!0,showSideNav:!1,showRightAside:!1,rightAsideContent:"",rightAsideObject:null,canViewComments:!1,canAddComments:!1,pluginLastUpdate:null,pluginToLaunch:null,pluginToLaunchLastUpdate:0,framework:{showToolBar:!0,commentsEnabled:!0,versionsEnabled:!0,draggingEnabled:!1,isDragging:!1,draggable:{}},configuration:{contentSection:""},frameworks:{searchTerm:"",quickFilters:[],applySearchTo:[],sortResults:[],refreshSearch:!1,searchFrameworksInCompetencySearch:!1},modal:{framework:"",showModal:!1,dynamicModalContent:{},objForShareModal:null},directories:{directoryList:[],selectedDirectory:null,searchingInDirectory:!0,editDirectory:!1},import:{files:[],transition:"upload",status:"",type:"file",fileType:"",firstImport:Boolean,errors:[],feedback:"",framework:null,serverUrl:"",url:"",frameworkName:"",frameworkDescription:"",importCsv:{nameColumn:{},descriptionColumn:{},scopeColumn:{},idColumn:{},sourceColumn:{},relationColumn:{},targetColumn:{}},importText:"",csvColumns:[],csvRelationColumns:[],csvRelationFile:null,importModalParams:null}}),m={showSideNav:function(){l.showSideNav=!0,l.showRightAside=!1},closeSideNav:function(){l.showSideNav=!1},showRightAside:function(e,t){e.showRightAside=!0,e.rightAsideContent=t,e.showSideNav=!1},closeRightAside:function(e){e.showRightAside=!1,e.rightAsideContent="",e.rightAsideObject=null},rightAsideObject:function(e,t){if(t.encryptedType){var n="Ec"+t.encryptedType,r=new EcEncryptedValue;r.copyFrom(t);var o=new window[n];o.copyFrom(r.decryptIntoObject()),e.rightAsideObject=o}else e.rightAsideObject=t},showModal:function(e,t){e.modal.showModal=!0,e.modal.dynamicModalContent=t},closeModal:function(e){e.modal.showModal=!1,e.modal.dynamicModalContent={}},objForShareModal:function(e,t){e.modal.objForShareModal=t},draggingEnabled:function(e,t){e.framework.draggingEnabled=t},isDragging:function(e,t){e.framework.isDragging=t},draggable:function(e,t){e.framework.draggable=t},importFiles:function(e,t){e.import.files=t},setCanViewComments:function(e,t){e.canViewComments=t},setCanAddComments:function(e,t){e.canAddComments=t},clearImportFiles:function(e){e.import.files=[]},pluginLastUpdate:function(e,t){e.pluginLastUpdate=t},pluginToLaunch:function(e,t){e.pluginToLaunch=t},pluginToLaunchLastUpdate:function(e,t){e.pluginToLaunchLastUpdate=t},resetImport:function(e){e.import={files:[],transition:"upload",status:"",type:"file",fileType:"",firstImport:Boolean,errors:[],feedback:"",framework:null,serverUrl:"",url:"",frameworkName:"",frameworkDescription:"",importCsv:{nameColumn:{},descriptionCcolumn:{},scopeColumn:{},idColumn:{},sourceColumn:{},relationColumn:{},targetColumn:{}},importText:"",csvColumns:[],csvRelationColumns:[],csvRelationFile:null,importModalParams:null}},importTransition:function(e,t){e.import.transition=t},importFileType:function(e,t){e.import.fileType=t},importType:function(e,t){e.import.type=t},firstImport:function(e,t){e.import.firstImport=t},addImportError:function(e,t){e.import.errors.push(t)},clearImportErrors:function(e){e.import.errors=[]},importStatus:function(e,t){e.import.status=t},importFeedback:function(e,t){e.import.feedback=t},importFramework:function(e,t){e.import.framework=t},importFrameworkName:function(e,t){e.import.frameworkName=t},importFrameworkNameColumn:function(e,t){e.import.frameworkNameColumn=t},importFrameworkScopeColumn:function(e,t){e.import.frameworkScopeColumn=t},importFrameworkIdColumn:function(e,t){e.import.frameworkIdColumn=t},importFrameworkDescription:function(e,t){e.import.frameworkDescription=t},importText:function(e,t){e.import.importText=t},importServerUrl:function(e,t){e.import.serverUrl=t},importUrl:function(e,t){e.import.url=t},importNameColumn:function(e,t){e.import.importCsv.nameColumn=t},importDescriptionColumn:function(e,t){e.import.importCsv.descriptionColumn=t},importScopeColumn:function(e,t){e.import.importCsv.scopeColumn=t},importSourceColumn:function(e,t){e.import.importCsv.sourceColumn=t},importTargetColumn:function(e,t){e.import.importCsv.targetColumn=t},importRelationColumn:function(e,t){e.import.importCsv.relationColumn=t},importIdColumn:function(e,t){e.import.importCsv.idColumn=t},csvColumns:function(e,t){e.import.csvColumns=t},csvRelationColumns:function(e,t){e.import.csvRelationColumns=t},csvRelationFile:function(e,t){e.import.csvRelationFile=t},importModalParams:function(e,t){e.import.importModalParams=t},searchTerm:function(e,t){e.frameworks.searchTerm=t},applySearchTo:function(e,t){e.frameworks.applySearchTo=t},refreshSearch:function(e,t){e.frameworks.refreshSearch=t},sortResults:function(e,t){e.frameworks.sortResults=t},quickFilters:function(e,t){e.frameworks.quickFilters=t},clearSearchFilters:function(e){for(var t=e.frameworks.quickFilters,n=e.frameworks.sortResults,r=e.frameworks.applySearchTo,o=0;o<t.length;o++)t[o].checked=!1;for(var a=0;a<n.length;a++)n[a].checked=!1;for(var i=0;i<r.length;i++)r[i].checked=!1;e.frameworks.quickFilters=t,e.frameworks.sortResults=n,e.frameworks.applySearchTo=r},selectDirectory:function(e,t){e.directories.selectedDirectory=t},directoryList:function(e,t){e.directories.directoryList=t},searchingInDirectory:function(e,t){e.directories.searchingInDirectory=t},editDirectory:function(e,t){e.directories.editDirectory=t},searchFrameworksInCompetencySearch:function(e,t){e.frameworks.searchFrameworksInCompetencySearch=t}},p={clearImport:function(e){var t=e.commit;t("importFramework",null),t("clearImportFiles"),t("clearImportErrors"),t("importTransition","upload"),t("importStatus",""),t("importFeedback",""),t("importFileType","")},refreshDirectories:function(e){var t=e.commit,n=[],r=[],o={size:1e4};EcDirectory.search(window.repo,"",(function(e){for(var o=0;o<e.length;o++)e[o].canEditAny(EcIdentityManager.getMyPks())&&!EcArray.has(r,e[o].id)&&(n.push(e[o]),r.push(e[o].id));t("directoryList",n)}),appError,o)}},f={canViewComments:function(e){return e.canViewComments},canAddComments:function(e){return e.canAddComments},sideNavEnabled:function(e){return e.sideNavEnabled},showSideNav:function(e){return e.showSideNav},showRightAside:function(e){return e.showRightAside},rightAsideContent:function(e){return e.rightAsideContent},rightAsideObject:function(e){return e.rightAsideObject},framework:function(e){return e.framework},showModal:function(e){return e.modal.showModal},dynamicModalContent:function(e){return e.modal.dynamicModalContent},objForShareModal:function(e){return e.modal.objForShareModal},draggingEnabled:function(e){return e.modal.draggingEnabled},isDragging:function(e){return e.modal.isDragging},draggable:function(e){return e.framework.draggable},importFiles:function(e){return e.import.files},importTransition:function(e){return e.import.transition},importFileType:function(e){return e.import.fileType},importType:function(e){return e.import.type},firstImport:function(e){return e.import.firstImport},importErrors:function(e){return e.import.errors},importStatus:function(e){return e.import.status},importFeedback:function(e){return e.import.feedback},importFramework:function(e){return e.import.framework},importFrameworkName:function(e){return e.import.frameworkName},importFrameworkNameColumn:function(e){return e.import.frameworkNameColumn},importFrameworkScopeColumn:function(e){return e.import.frameworkScopeColumn},importFrameworkIdColumn:function(e){return e.import.frameworkIdColumn},importFrameworkDescription:function(e){return e.import.frameworkDescription},importText:function(e){return e.import.importText},importServerUrl:function(e){return e.import.serverUrl},importUrl:function(e){return e.import.url},importNameColumn:function(e){return e.import.importCsv.nameColumn},importDescriptionColumn:function(e){return e.import.importCsv.descriptionColumn},importScopeColumn:function(e){return e.import.importCsv.scopeColumn},importIdColumn:function(e){return e.import.importCsv.idColumn},importSourceColumn:function(e){return e.import.importCsv.sourceColumn},importRelationColumn:function(e){return e.import.importCsv.relationColumn},importTargetColumn:function(e){return e.import.importCsv.targetColumn},importModalParams:function(e){return e.import.importModalParams},searchTerm:function(e){return e.frameworks.searchTerm},sortResults:function(e){return e.frameworks.sortResults},quickFilters:function(e){return e.frameworks.quickFilters},applySearchTo:function(e){return e.frameworks.applySearchTo},refreshSearch:function(e){return e.frameworks.refreshSearch},csvColumns:function(e){return e.import.csvColumns},csvRelationColumns:function(e){return e.import.csvRelationColumns},csvRelationFile:function(e){return e.import.csvRelationFile},pluginLastUpdate:function(e){return e.pluginLastUpdate},pluginToLaunch:function(e){return e.pluginToLaunch},pluginToLaunchLastUpdate:function(e){return e.pluginToLaunchLastUpdate},selectedDirectory:function(e){return e.directories.selectedDirectory},directoryList:function(e){return e.directories.directoryList},searchingInDirectory:function(e){return e.directories.searchingInDirectory},editDirectory:function(e){return e.directories.editDirectory},searchFrameworksInCompetencySearch:function(e){return e.frameworks.searchFrameworksInCompetencySearch}},h={namespaced:!0,state:l,mutations:m,actions:p,getters:f};r["a"].use(o["a"]);var g={loggedOnPerson:{}},y={loggedOnPerson:function(e,t){e.loggedOnPerson=t}},w={},k={loggedOnPerson:function(e){return e.loggedOnPerson}},v={namespaced:!0,state:g,mutations:y,actions:w,getters:k},b=(n("4de4"),n("caad"),n("b64b"),n("2532"),n("54f8"));r["a"].use(o["a"]);var E={step:0,frameworkSource:null,frameworkSourceRelationships:null,frameworkTarget:null,frameworkTargetRelationships:null,relevantExistingAlignmentsMap:null,relevantExistingAlignmentsMapLastUpdate:null,alignedCompetenciesList:[],workingAlignmentsMap:{source:"",targets:[],initialTargets:[],removedTargets:[],changed:!1,type:""},alignmentsToSave:[],alignmentsToDelete:[],sourceState:"ready",targetState:"ready",targetNodesToHighlight:[],enabledRelationshipTypes:[],enabledRelationshipTypesLastUpdate:null},C={enabledRelationshipTypesLastUpdate:function(e,t){e.enabledRelationshipTypesLastUpdate=t},enabledRelationshipTypes:function(e,t){e.enabledRelationshipTypes=t},targetNodesToHighlight:function(e,t){e.targetNodesToHighlight=t},frameworkSource:function(e,t){e.frameworkSource=t},frameworkTarget:function(e,t){e.frameworkTarget=t},frameworkSourceRelationships:function(e,t){e.frameworkSourceRelationships=t},frameworkTargetRelationships:function(e,t){e.frameworkTargetRelationships=t},relevantExistingAlignmentsMap:function(e,t){e.relevantExistingAlignmentsMap=t},relevantExistingAlignmentsMapLastUpdate:function(e,t){e.relevantExistingAlignmentsMapLastUpdate=t},alignedCompetenciesList:function(e,t){e.alignedCompetenciesList=t},step:function(e,t){e.step=t},workingAlignmentsSource:function(e,t){e.workingAlignmentsMap.source=t},workingAlignmentsTargets:function(e,t){e.workingAlignmentsMap.targets=t},workingAlignmentsType:function(e,t){e.workingAlignmentsMap.type=t},sourceState:function(e,t){e.sourceState=t},targetState:function(e,t){e.targetState=t},alignmentsToSave:function(e,t){e.alignmentsToSave=t},populateAlignedCompetenciesList:function(e){if(e.relevantExistingAlignmentsMap){for(var t=[],n=Object.keys(e.relevantExistingAlignmentsMap),r=0,o=n;r<o.length;r++){var a=o[r];t.push(a);for(var i=Object.keys(e.relevantExistingAlignmentsMap[a]),c=0,s=i;c<s.length;c++)for(var u=s[c],d=Object.keys(e.relevantExistingAlignmentsMap[a][u]),l=0,m=d;l<m.length;l++){var p=m[l];t.push(p)}}e.alignedCompetenciesList=t}},populateWorkingAlignmentMap:function(e){if(e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source]&&e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source][e.workingAlignmentsMap.type])for(var t=e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source][e.workingAlignmentsMap.type],n=Object.keys(t),r=0,o=n;r<o.length;r++){var a=o[r];e.workingAlignmentsMap.targets.push(a),e.workingAlignmentsMap.initialTargets.push(a)}e.workingAlignmentsMap.changed=!1},resetFrameworkSourceRelationships:function(e){e.frameworkSourceRelationships=null,e.relevantExistingAlignmentsMap=null},resetFrameworkTargetRelationships:function(e){e.frameworkTargetRelationships=null,e.relevantExistingAlignmentsMap=null},resetCrosswalkFrameworks:function(e){e.frameworkSource=null,e.frameworkTarget=null,e.frameworkSourceRelationships=null,e.frameworkTargetRelationships=null,e.relevantExistingAlignmentsMap=null},resetCrosswalkAlignmentsAndState:function(e){e.workingAlignmentsMap.source="",e.workingAlignmentsMap.targets=[],e.workingAlignmentsMap.initialTargets=[],e.workingAlignmentsMap.removedTargets=[],e.workingAlignmentsMap.changed=!1,e.workingAlignmentsMap.type="",e.sourceState="ready",e.targetState="ready",e.alignmentsToSave=[],e.alignmentsToDelete=[]},resetCrosswalk:function(e){e.step=0,e.workingAlignmentsMap.source="",e.workingAlignmentsMap.targets=[],e.workingAlignmentsMap.initialTargets=[],e.workingAlignmentsMap.removedTargets=[],e.workingAlignmentsMap.changed=!1,e.workingAlignmentsMap.type="",e.sourceState="ready",e.targetState="ready",e.alignmentsToSave=[],e.alignmentsToDelete=[]},resetWorkingAlignmentsMap:function(e){e.sourceState="ready",e.targetState="ready",e.workingAlignmentsMap={source:"",targets:[],initialTargets:[],removedTargets:[],changed:!1,type:""}},addWorkingAlignmentsTarget:function(e,t){var n=e.workingAlignmentsMap.removedTargets,r=n.filter((function(e){return e!==t}));if(e.workingAlignmentsMap.removedTargets=r,e.workingAlignmentsMap.targets.push(t),e.workingAlignmentsMap.removedTargets.length>0)e.workingAlignmentsMap.changed=!0;else{var o,a=!1,i=Object(b["a"])(e.workingAlignmentsMap.targets);try{for(i.s();!(o=i.n()).done;){var c=o.value;if(!e.workingAlignmentsMap.initialTargets.includes(c)){a=!0;break}}}catch(s){i.e(s)}finally{i.f()}e.workingAlignmentsMap.changed=!!a}},removeWorkingAlignmentsTarget:function(e,t){var n=e.workingAlignmentsMap.targets,r=n.filter((function(e){return e!==t}));if(e.workingAlignmentsMap.targets=r,e.workingAlignmentsMap.initialTargets.includes(t)&&e.workingAlignmentsMap.removedTargets.push(t),e.workingAlignmentsMap.removedTargets.length>0)e.workingAlignmentsMap.changed=!0;else{var o,a=!1,i=Object(b["a"])(e.workingAlignmentsMap.targets);try{for(i.s();!(o=i.n()).done;){var c=o.value;if(!e.workingAlignmentsMap.initialTargets.includes(c)){a=!0;break}}}catch(s){i.e(s)}finally{i.f()}e.workingAlignmentsMap.changed=!!a}},removeAlignmentFromRelevantAlignmentsMap:function(e,t){if(e.relevantExistingAlignmentsMap[t.source]&&e.relevantExistingAlignmentsMap[t.source][t.type]&&e.relevantExistingAlignmentsMap[t.source][t.type][t.target]){var n=e.relevantExistingAlignmentsMap;delete n[t.source][t.type][t.target],e.relevantExistingAlignmentsMap=n}},addAlignmentToRelevantAlignmentsMap:function(e,t){var n=e.relevantExistingAlignmentsMap;n[t.source]||(n[t.source]={}),n[t.source][t.relationType]||(n[t.source][t.relationType]={}),n[t.source][t.relationType][t.target]||(n[t.source][t.relationType][t.target]=t),e.relevantExistingAlignmentsMap=n},removeAlignmentFromAlignmentsToSave:function(e,t){var n,r=[],o=Object(b["a"])(e.alignmentsToSave);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.source===t.source&&a.target===t.target&&a.relationType===t.type||r.push(a)}}catch(i){o.e(i)}finally{o.f()}e.alignmentsToSave=r},removeAlignmentFromAlignmentsToDelete:function(e,t){var n,r=[],o=Object(b["a"])(e.alignmentsToDelete);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.source===t.source&&a.target===t.target&&a.relationType===t.type||r.push(a)}}catch(i){o.e(i)}finally{o.f()}e.alignmentsToDelete=r},appendAlignmentsToDelete:function(e,t){e.alignmentsToDelete.push(t)},appendAlignmentsToSave:function(e,t){e.alignmentsToSave.push(t)}},S={},T={enabledRelationshipTypesLastUpdate:function(e){return e.enabledRelationshipTypesLastUpdate},enabledRelationshipTypes:function(e){return e.enabledRelationshipTypes},frameworkSource:function(e){return e.frameworkSource},frameworkTarget:function(e){return e.frameworkTarget},frameworkSourceRelationships:function(e){return e.frameworkSourceRelationships},frameworkTargetRelationships:function(e){return e.frameworkTargetRelationships},relevantExistingAlignmentsMap:function(e){return e.relevantExistingAlignmentsMap},relevantExistingAlignmentsMapLastUpdate:function(e){return e.relevantExistingAlignmentsMapLastUpdate},workingAlignmentsSource:function(e){return e.workingAlignmentsMap.source},workingAlignmentsTargets:function(e){return e.workingAlignmentsMap.targets},workingAlignmentsType:function(e,t){return e.workingAlignmentsMap.type},sourceState:function(e){return e.sourceState},targetState:function(e){return e.targetState},alignmentsToSave:function(e){return e.alignmentsToSave},alignmentsToDelete:function(e){return e.alignmentsToDelete},alignedCompetenciesList:function(e){return e.alignedCompetenciesList}},A={namespaced:!0,state:E,mutations:C,actions:S,getters:T};r["a"].use(o["a"]);var I={cassApiLocation:""},P={cassApiLocation:function(e,t){e.cassApiLocation=t}},M={},L={cassApiLocation:function(e){return e.cassApiLocation}},O={namespaced:!0,state:I,mutations:P,actions:M,getters:L},R={CONFIG_SEARCH_SIZE:1e4,DEFAULT_CONFIGURATION_TYPE:"Configuration",DEFAULT_CONFIGURATION_CONTEXT:"https://schema.cassproject.org/0.4/",LANG_STRING_RANGE:"http://www.w3.org/2000/01/rdf-schema#langString",DEFAULT_HEADING:"General",LEVEL_SEARCH_SIZE:1e4,PERSON_SEARCH_SIZE:1e4,DEFAULT_CUSTOM_PROPERTY_CONTEXT:"https://schema.cassproject.org/0.4/",DEFAULT_CUSTOM_PROPERTY_RANGE:"http://schema.org/Text",defaultBrowserConfig:"",defaultBrowserConfigName:"",localDefaultBrowserConfig:"",configBusy:!1,configList:[],configView:"list",currentConfig:{},showConfirmDeleteConfigModal:!1,showMustBeLoggedInModal:!1,showBrowserConfigSetModal:!1,configToDelete:{}},F={setConfigToDelete:function(e,t){e.configToDelete=t},setShowMustBeLoggedInModal:function(e,t){e.showMustBeLoggedInModal=t},setShowBrowserConfigSetModal:function(e,t){e.showBrowserConfigSetModal=t},setShowConfirmDeleteConfigModal:function(e,t){e.showConfirmDeleteConfigModal=t},setCurrentConfig:function(e,t){e.currentConfig=t},setConfigView:function(e,t){e.configView=t},setConfigList:function(e,t){e.setConfigList=t},setConfigBusy:function(e,t){e.configBusy=t},setDefaultBrowserConfig:function(e,t){e.defaultBrowserConfig=t},setDefaultBrowserConfigName:function(e,t){e.defaultBrowserConfigName=t},setLocalDefaultBrowserConfig:function(e,t){e.localDefaultBrowserConfig=t}},D={},N={configToDelete:function(e){return e.configToDelete},showConfirmDeleteConfigModal:function(e){return e.showConfirmDeleteConfigModal},showMustBeLoggedInModal:function(e){return e.showMustBeLoggedInModal},showBrowserConfigSetModal:function(e){return e.showBrowserConfigSetModal},LEVEL_SEARCH_SIZE:function(e){return e.LEVEL_SEARCH_SIZE},GROUP_SEARCH_SIZE:function(e){return e.GROUP_SEARCH_SIZE},PERSON_SEARCH_SIZE:function(e){return e.PERSON_SEARCH_SIZE},DEFAULT_CUSTOM_PROPERTY_CONTEXT:function(e){return e.DEFAULT_CUSTOM_PROPERTY_CONTEXT},DEFAULT_CUSTOM_PROPERTY_RANGE:function(e){return e.DEFAULT_CUSTOM_PROPERTY_RANGE},DEFAULT_CONFIGURATION_TYPE:function(e){return e.DEFAULT_CONFIGURATION_TYPE},DEFAULT_CONFIGURATION_CONTEXT:function(e){return e.DEFAULT_CONFIGURATION_CONTEXT},LANG_STRING_RANGE:function(e){return e.LANG_STRING_RANGE},DEFAULT_HEADING:function(e){return e.DEFAULT_HEADING},CONFIG_SEARCH_SIZE:function(e){return e.CONFIG_SEARCH_SIZE},currentConfig:function(e){return e.currentConfig},configView:function(e){return e.configView},configList:function(e){return e.configList},defaultBrowserConfig:function(e){return e.defaultBrowserConfig},defaultBrowserConfigName:function(e){return e.defaultBrowserConfigName},localDefaultBrowserConfig:function(e){return e.localDefaultBrowserConfig},configBusy:function(e){return e.configBusy}},$={namespaced:!0,state:R,mutations:F,actions:D,getters:N};r["a"].use(o["a"]);var j={crosswalkEnabled:!0,userManagementEnabled:!0,configurationsEnabled:!0,searchByOwnerNameEnabled:!0,pluginsEnabled:!0,loginEnabled:!0,legacyLoginEnabled:!0,apiLoginEnabled:!!Object({NODE_ENV:"production",BASE_URL:"/cass-editor/"}).VUE_APP_API_LOGIN_ENABLED&&"true"===Object({NODE_ENV:"production",BASE_URL:"/cass-editor/"}).VUE_APP_API_LOGIN_ENABLED,shareEnabled:!0},q={crosswalkEnabled:function(e,t){e.crosswalkEnabled=t},userManagementEnabled:function(e,t){e.userManagementEnabled=t},configurationsEnabled:function(e,t){e.configurationsEnabled=t},searchByOwnerNameEnabled:function(e,t){e.searchByOwnerNameEnabled=t},pluginsEnabled:function(e,t){e.pluginsEnabled=t},loginEnabled:function(e,t){e.loginEnabled=t},legacyLoginEnabled:function(e,t){e.legacyLoginEnabled=t},shareEnabled:function(e,t){e.shareEnabled=t}},U={},V={legacyLoginEnabled:function(e){return e.legacyLoginEnabled},apiLoginEnabled:function(e){return e.apiLoginEnabled}},x={namespaced:!0,state:j,mutations:q,actions:U,getters:V};r["a"].use(o["a"]);t["a"]=new o["a"].Store({modules:{lode:a["a"],editor:d,app:h,user:v,crosswalk:A,environment:O,featuresEnabled:x,configuration:$}})},5:function(e,t){},"560b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),function(e){n("ac1f"),n("5319"),n("841c"),n("1276"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var t=n("2b0e"),r=n("26b9"),o=n.n(r),a=n("3dfd"),i=(n("560b"),n("b3be"),n("41cb")),c=n("2f62"),s=n("4ae6"),u=n.n(s),d=n("4360"),l=n("e166"),m=n.n(l),p=n("28dd"),f=n("f13c");n("b904");var h={color:"#68C8DB",failedColor:"#D74C44",thickness:"5px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1};t["a"].use(o.a,h),t["a"].use(n("2ead")),t["a"].use(c["a"]),t["a"].use(u.a),t["a"].use(f,{container:"#framework",duration:500,easing:"ease",offset:-150,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),t["a"].use(m.a),t["a"].use(p["a"]),t["a"].directive("click-outside",{bind:function(e,t,n){e.clickOutsideEvent=function(r){e===r.target||e.contains(r.target)||n.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),EcRepository.caching=!0,e.jsonld=n("46bd"),e.base64=n("8390"),e.UUID=n("37a0"),t["a"].config.productionTip=!1,t["a"].config.warnHandler=function(e,t,n){'Invalid prop: type check failed for prop "clickToLoad". Expected Boolean, got String with value "true".'!==e&&"Avoid using non-primitive value as key, use string/number value instead."!==e&&"Duplicate keys detected: '[object Object]'. This may cause an update error."!==e&&appError("[Vue warn]: "+e+n)},e.appLog=function(e){0},e.appError=function(e){0};var g=function(){if(null==window.document.location.search)return{};var e=window.document.location.search.split("?");if(e.length>1){for(var t={},n=e[1],r=n.split("&"),o=0;o<r.length;o++)t[r[o].split("=")[0]]?(t[r[o].split("=")[0]]=[t[r[o].split("=")[0]]],t[r[o].split("=")[0]].push(decodeURIComponent(r[o].replace(r[o].split("=")[0]+"=","")))):t[r[o].split("=")[0]]=decodeURIComponent(r[o].replace(r[o].split("=")[0]+"=",""));return t}return{}};window.queryParams=g(),window.app=new t["a"]({router:i["a"],store:d["a"],render:function(e){return e(a["a"])}}).$mount("#app")}.call(this,n("c8ba"))},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},6:function(e,t){},7:function(e,t){},8:function(e,t){},8596:function(e,t,n){"use strict";(function(e){var r=n("54f8");e.jsonld=n("46bd");var o={schemata:{},isSavingProperty:!1,isSavingThing:!1,isAddingProperty:!1,addingProperty:"",addingValue:"",addingRange:[],addingChecked:[],removeAddingValueAtIndex:null,schemataLookup:{},rawSchemata:{},schemaFallback:{},objectModel:{},competencySearchModalOpen:!1,copyOrLink:!1,numPropertyComponentsVisible:{},searchType:null},a={schemata:function(e,t){var n=e.state,o=e.commit;if(o("setSchemata",t),EcArray.isArray(t.obj)){o("setEmptySchemataLookup",t);for(var a=0;a<t.obj.length;a++){var i=t.obj[a];if(o("setSchemataLookup",{index:a,schema:t}),null!=i["http://schema.org/domainIncludes"]){var c,s=Object(r["a"])(i["http://schema.org/domainIncludes"]);try{for(s.s();!(c=s.n()).done;){var u=c.value;null==n.objectModel[u["@id"]]&&o("setObjectModel",{type:u,val:{}});var d=n.objectModel[u["@id"]];d[i["@id"]]=i}}catch(l){s.e(l)}finally{s.f()}}}}},schemaFallback:function(e,t){for(var n=e.state,o=0;o<t.length;o++){var a=t[o];if(n.schemaFallback[a["@id"]]=t[o],null!=a["http://schema.org/domainIncludes"]){var i,c=Object(r["a"])(a["http://schema.org/domainIncludes"]);try{for(c.s();!(i=c.n()).done;){var s=i.value;null==n.objectModel[s["@id"]]&&(n.objectModel[s["@id"]]={});var u=n.objectModel[s["@id"]];u[a["@id"]]=a}}catch(d){c.e(d)}finally{c.f()}}}}},i={setIsSavingProperty:function(e,t){e.isSavingProperty=t},setIsSavingThing:function(e,t){e.isSavingThing=t},setIsAddingProperty:function(e,t){e.isAddingProperty=t},setAddingProperty:function(e,t){e.addingProperty=t},setAddingValue:function(e,t){e.addingValue=t},setAddingRange:function(e,t){e.addingRange=t},setAddingChecked:function(e,t){e.addingChecked=t},removeAddingValueAtIndex:function(e,t){e.removeAddingValueAtIndex=t},setSchemata:function(e,t){e.schemata[t.id]=t.obj},setSchemataLookup:function(e,t){var n=t.index,r=t.schema;e.schemataLookup[r.id][r.obj[n]["@id"]]=r.obj[n]},setEmptySchemataLookup:function(e,t){e.schemataLookup[t.id]={}},setObjectModel:function(e,t){var n=t.type,r=t.val;e.objectModel[n["@id"]]=r},rawSchemata:function(e,t){e.rawSchemata[t.id]=t.obj},competencySearchModalOpen:function(e,t){e.competencySearchModalOpen=t},copyOrLink:function(e,t){e.copyOrLink=t},incrementNumPropertyComponents:function(e,t){e.numPropertyComponentsVisible[t]||(e.numPropertyComponentsVisible[t]=0),e.numPropertyComponentsVisible[t]++},decrementNumPropertyComponents:function(e,t){e.numPropertyComponentsVisible[t]--,0===e.numPropertyComponentsVisible[t]&&delete e.numPropertyComponentsVisible[t]},searchType:function(e,t){e.searchType=t}},c={isSavingProperty:function(e){return e.isSavingProperty},isSavingThing:function(e){return e.isSavingThing},isAddingProperty:function(e){return e.isAddingProperty},addingProperty:function(e){return e.addingProperty},addingValue:function(e){return e.addingValue},addingRange:function(e){return e.addingRange},addingChecked:function(e){return e.addingChecked},removeAddingValueAtIndex:function(e){return e.removeAddingValueAtIndex}};jsonld.documentLoader=function(e,t){if(e in o.rawSchemata)return t(null,{contextUrl:null,document:o.rawSchemata[e],documentUrl:e});var n,r=new XMLHttpRequest;return r.onreadystatechange=function(){4===this.readyState&&200===this.status&&(n=JSON.parse(this.responseText),o.rawSchemata[e]=n)},r.open("GET",e,!1),r.setRequestHeader("Accept","application/json"),r.send(),t(null,{contextUrl:null,document:n,documentUrl:e})},t["a"]={namespaced:!0,state:o,getters:c,actions:a,mutations:i}}).call(this,n("c8ba"))},"872c":function(e,t,n){"use strict";n("fb6a"),n("b0c0"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("ddb0");var r=n("b9b9"),o=n.n(r);t["a"]={computed:{ctids:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;if("true"!==this.queryParams.ceasnDataFields)return null;var t={};if(t[e.shortId()]=[{"@value":this.getCTID(e.shortId())}],e.competency)for(var n=0;n<e.competency.length;n++)t[e.competency[n]]=[{"@value":this.getCTID(e.competency[n])}];return t},registryURLs:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;if("true"!==this.queryParams.ceasnDataFields)return null;var t={};if(t[e.shortId()]=[{"@id":this.ceasnRegistryUriTransform(e.shortId())}],e.competency)for(var n=0;n<e.competency.length;n++)t[e.competency[n]]=[{"@id":this.ceasnRegistryUriTransform(e.competency[n])}];return t},conceptCtids:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;var t=this;if("true"!==this.queryParams.ceasnDataFields)return null;var n={};n[e.shortId()]=[{"@value":this.getCTID(e.shortId())}];var r=function e(r){for(var o=0;o<r.length;o++){n[r[o]]=[{"@value":t.getCTID(r[o])}];var a=EcConcept.getBlocking(r[o]);a["skos:narrower"]&&e(a["skos:narrower"])}};return e["skos:hasTopConcept"]&&r(e["skos:hasTopConcept"]),n},conceptRegistryURLs:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;var t=this;if("true"!==this.queryParams.ceasnDataFields)return null;var n={},r=function e(r){for(var o=0;o<r.length;o++){n[r[o]]=[{"@value":t.ceasnRegistryUriTransform(r[o])}];var a=EcConcept.getBlocking(r[o]);a["skos:narrower"]&&e(a["skos:narrower"])}};return e["skos:hasTopConcept"]&&r(e["skos:hasTopConcept"]),n}},methods:{spitEvent:function(e,t,n){var r=this.framework?this.framework:this.$store.state.editor.framework,o=this.$store.state.editor.selectedCompetency,a={message:e,changed:t,selectedFramework:null==r?null:r.shortId(),selectedCompetency:null==o?null:o.shortId(),selectedFrameworkObject:null==r?null:JSON.parse(r.toJson()),selectedCompetencyObject:null==o?null:JSON.parse(o.toJson()),selectedFrameworkName:null==r?null:null==r.getName?r["dcterms:title"]:r.getName(),selectedCompetencyName:null==o?null:null==o.getName?o["skos:prefLabel"]:o.getName(),visiblePage:n};this.queryParams&&"true"===this.queryParams.ceasnDataFields&&(null!=r&&null!=r.getGuid&&(r.getGuid().startsWith("ce-")?a.selectedFrameworkCtid=null==r?null:r.getGuid():r.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?a.selectedFrameworkCtid=null==r?null:"ce-"+r.getGuid():a.selectedFrameworkCtid="ce-"+new UUID(3,"nil",r.shortId()).format()),null!=o&&null!=o.getGuid&&(o.getGuid().startsWith("ce-")?a.selectedCompetencyCtid=null==o?null:o.getGuid():o.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?a.selectedCompetencyCtid=null==o?null:"ce-"+o.getGuid():a.selectedCompetencyCtid="ce-"+new UUID(3,"nil",this.framework.shortId()+o.shortId()).format())),appLog(a),null!=parent&&this.queryParams&&null!=this.queryParams.origin&&""!==this.queryParams.origin&&parent.postMessage(a,this.queryParams.origin)},setDefaultLanguage:function(){var e;e=this.framework&&this.framework["ceasn:inLanguage"]?EcArray.isArray(this.framework["ceasn:inLanguage"])?this.framework["ceasn:inLanguage"][0]:this.framework["ceasn:inLanguage"]:this.framework&&this.framework["schema:inLanguage"]?EcArray.isArray(this.framework["schema:inLanguage"])?this.framework["schema:inLanguage"][0]:this.framework["schema:inLanguage"]:this.framework&&this.framework["dcterms:language"]?this.framework["dcterms:language"]:navigator.language||navigator.userLanguage?navigator.language||navigator.userLanguage:"en",this.$store.commit("editor/defaultLanguage",e)},get:function(e,t,n,r,o){var a=EcRemote.urlAppend(e,t);a=EcRemote.upgradeHttpToHttps(a);var i=null;if("undefined"===typeof httpStatus){if(i=new XMLHttpRequest,i.open("GET",a,EcRemote.async),null!=n)for(var c=EcObject.keys(n),s=0;s<c.length;s++)i.setRequestHeader(c[s],n[c[s]]);var u=i;i.onreadystatechange=function(){4===u.readyState&&200===u.status&&(null!=r?r(u.responseText):4===u.readyState&&null!=o&&o(u.status+" "+u.responseText))},i.onload=function(){200!==i.status&&o(i.status)},i.onerror=function(){o("Failed while sending request.")}}null!=i&&EcRemote.async&&(i["timeout"]=EcRemote.timeout),"undefined"!==typeof httpStatus?null!=r&&r(JSON.stringify(httpGet(a))):i.send()},resolveNameFromUrl:function(e){this.get(e,null,null,(function(e){var t=null;if(e){if("<"===e[0])return;if(e=JSON.parse(e),e["ceterms:name"]?t=e["ceterms:name"]:e["ceasn:competencyText"]?t=e["ceasn:competencyText"]:e["name"]?t=e["name"]:e["schema:name"]?t=e["schema:name"]:e["title"]?t=e["title"]:e["skos:prefLabel"]?t=e["skos:prefLabel"]:e["title"]?t=e["title"]:e["@graph"]&&e["@graph"][0]&&(e["@graph"][0]["ceterms:name"]?t=e["@graph"][0]["ceterms:name"]:e["@graph"][0]["name"]?t=e["@graph"][0]["name"]:e["@graph"][0]["schema:name"]?t=e["@graph"][0]["schema:name"]:e["@graph"][0]["title"]?t=e["@graph"][0]["title"]:e["@graph"][0]["skos:prefLabel"]&&(t=e["@graph"][0]["skos:prefLabel"])),t=Thing.getDisplayStringFrom(t),EcObject.isObject(t)){var n=Object.keys(t);t=t[n[0]]}}return t}),(function(e){appLog(e)}))},conditionalDelete:function(e,t){var n=this;(function(e,t){Task.asyncImmediate((function(r){void 0!==t&&null!=t||(t=0),null!=e&&void 0!==e||appLog("ID is undefined."),t<5?EcFramework.search(window.repo,'"'+e+'"',(function(o){if(o.length<=0){appLog("No references found for "+e+"... deleting.");var a=EcRepository.getBlocking(e);window.repo.deleteRegistered(a,(function(e){"Level"===a.type&&n.$store.commit("editor/refreshLevels",!0),r()}),(function(e){appLog(e),r()}))}else appLog(o.length+" references found for "+e+"... Not deleting. Will see again in another second."),r(),setTimeout((function(){n.conditionalDelete(e,t+1)}),1e3)}),appError,{}):r()}))})(e,t)},selectButton:function(e){var t=[],n=EcRemote.async;EcRemote.async=!1,e||(e=this.selectedArray);for(var r=0;r<e.length;r++){if("true"===this.queryParams.selectVerbose&&!0!==this.$store.getters["editor/conceptMode"])if("ctdlasn"===this.queryParams.selectExport)a=!1===EcRepository.shouldTryUrl(e[r])&&-1===e[r].indexOf(window.repo.selectedServer)?window.repo.selectedServer+"ceasn/"+EcCrypto.md5(e[r]):e[r].replace("/data/","/ceasn/"),this.get(a,null,null,(function(e){t.push(JSON.parse(e))}),(function(e){appLog(e)}));else t.push(JSON.parse(EcCompetency.getBlocking(e[r]).toJson()));else"true"===this.queryParams.selectVerbose?t.push(JSON.parse(EcConcept.getBlocking(e[r]).toJson())):t.push(e[r])}if("true"===this.queryParams.selectRelations&&this.framework.relation)for(r=0;r<this.framework.relation.length;r++){var o=EcAlignment.getBlocking(this.framework.relation[r]);EcArray.has(e,o.target)&&("true"===this.queryParams.selectVerbose?t.push(JSON.parse(rld.toJson())):t.push(o.shortId()))}var a,i=this.framework;"ctdlasn"===this.queryParams.selectExport&&!0!==this.$store.getters["editor/conceptMode"]&&(null!=this.framework&&(a=!1===EcRepository.shouldTryUrl(this.framework.id)&&-1===this.framework.id.indexOf(window.repo.selectedServer)?window.repo.selectedServer+"ceasn/"+EcCrypto.md5(this.framework.shortId()):this.framework.id.replace("/data/","/ceasn/"),this.get(a,null,null,(function(e){e=JSON.parse(e),e["@graph"]&&(i=e["@graph"][0])}),(function(e){appLog(e)}))));var c={message:"selected",selected:t,type:!0===this.$store.getters["editor/conceptMode"]?"Concept":"Competency",selectedFramework:i};c=JSON.parse(JSON.stringify(c)),appLog(c),parent.postMessage(c,this.queryParams.origin),EcRemote.async=n},addLevel:function(e,t){var n=this,r=this.framework?this.framework:this.$store.getters["editor/framework"],o=r.level?r.level.slice():null;if(t){t=t[0];var a=EcRepository.getBlocking(t);a.competency?EcArray.isArray(a.competency)||(a.competency=[a.competency]):a.competency=[],a.competency.push(e)}else a=new EcLevel,null!=this.queryParams.newObjectEndpoint?a.generateShortId(this.queryParams.newObjectEndpoint):a.generateId(window.repo.selectedServer),a["schema:dateCreated"]=(new Date).toISOString(),a.name="New Level",a.competency=e;r["schema:dateModified"]=(new Date).toISOString(),window.repo.saveTo(a,(function(){r.addLevel(a.shortId());var e=[];t||e.push({operation:"addNew",id:a.shortId()}),e.push({operation:"update",id:r.shortId(),fieldChanged:["level"],initialValue:[o],changedValue:[r.level]}),n.$store.commit("editor/addEditsToUndo",e),n.$store.commit("editor/framework",r),!0===n.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[r.id]&&(r=EcEncryptedValue.toEncryptedValue(r)),window.repo.saveTo(r,(function(){n.$store.commit("lode/setIsAddingProperty",!1),n.$store.commit("editor/refreshLevels",!0)}),appError)}),appError)},saveCheckedLevels:function(e,t,n){var r=[];EcArray.isArray(e)?r=e:r.push(EcRemoteLinkedData.trimVersionFromUrl(e["@id"]));for(var o=this.framework.level?this.framework.level.slice():null,a=!1,i=[],c=this,s=0;s<n.length;s++)if(this.framework.level||(this.framework.level=[]),-1!==t.indexOf(n[s].val)){var u=EcLevel.getBlocking(n[s].val),d=JSON.parse(JSON.stringify(u.competency));EcArray.isArray(u.competency)||(u.competency=null==u.competency?[]:[u.competency]);var l=!1;for(var m in r)-1===u.competency.indexOf(r[m])&&(u.competency.push(r[m]),l=!0);l&&(i.push({operation:"update",id:u.shortId(),fieldChanged:["competency"],initialValue:[d],changedValue:[u.competency]}),window.repo.saveTo(u,(function(){c.$store.commit("editor/refreshLevels",!0)}),appError)),-1===this.framework.level.indexOf(u.shortId())&&(this.framework.addLevel(u.shortId()),a=!0)}else{u=EcLevel.getBlocking(n[s].val),d=JSON.parse(JSON.stringify(u.competency));var p=!1;for(var f in r)u.competency&&-1!==u.competency.indexOf(r[f])&&(EcArray.setRemove(u.competency,r[f]),p=!0);p&&(i.push({operation:"update",id:u.shortId(),fieldChanged:["competency"],initialValue:[d],changedValue:[u.competency]}),window.repo.saveTo(u,(function(){c.$store.commit("editor/refreshLevels",!0)}),appError)),(!u.competency||u.competency&&0===u.competency.length)&&-1!==this.framework.level.indexOf(u.shortId())&&(EcArray.setRemove(this.framework.level,u.shortId()),a=!0)}a&&(i.push({operation:"update",id:this.framework.shortId(),fieldChanged:["level"],initialValue:[o],changedValue:[this.framework.level]}),this.saveFramework()),this.$store.commit("editor/addEditsToUndo",i),this.$store.commit("lode/setAddingChecked",[]),this.$store.commit("lode/setIsAddingProperty",!1)},saveFramework:function(){this.framework["schema:dateModified"]=(new Date).toISOString();var e=this.framework;this.$store.commit("editor/framework",e),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[e.id]&&(e=EcEncryptedValue.toEncryptedValue(e)),window.repo.saveTo(e,(function(){}),appError)},removeLevelFromFramework:function(e){var t=this.framework.level?this.framework.level.slice():null;this.framework.removeLevel(e);var n=EcRepository.getBlocking(e);this.$store.commit("editor/addEditsToUndo",[{operation:"delete",obj:n},{operation:"update",id:this.framework.shortId(),fieldChanged:[this.framework.level],initialValue:[t],changedValue:[this.framework.level]}]),this.conditionalDelete(e),this.saveFramework(),this.$store.commit("editor/refreshLevels",!0)},addRelationsToFramework:function(e,t,n){n.length>0&&(e=EcRepository.getBlocking(e),this.addAlignments(n,e,t))},addAlignments:function(e,t,n,r){if("true"===this.$store.getters["editor/queryParams"].concepts)return this.addConceptAlignments(e,t,n);if("ceasn:skillEmbodied"===n||"ceasn:abilityEmbodied"===n||"ceasn:knowledgeEmbodied"===n||"ceasn:taskEmbodied"===n)return this.addRelationAsCompetencyField(e,t,n,r);for(var o=this.$store.state.editor.framework,a=[],i=o.relation?o.relation.slice():null,c=0;c<e.length;c++){var s=new EcAlignment;if(null!=this.$store.getters["editor/queryParams"].newObjectEndpoint?s.generateShortId(this.$store.getters["editor/queryParams"].newObjectEndpoint):s.generateId(window.repo.selectedServer),a.push({operation:"addNew",id:s.shortId()}),s["schema:dateCreated"]=(new Date).toISOString(),s.target=EcRemoteLinkedData.trimVersionFromUrl(e[c]),t.id?s.source=t.shortId():s.source=EcRemoteLinkedData.trimVersionFromUrl(t["@id"]),s.target===s.source)return;if(s.relationType=n,"broadens"===s.relationType){var u=s.target;s.target=s.source,s.source=u,s.relationType="narrows"}if(EcIdentityManager.ids.length>0&&s.addOwner(EcIdentityManager.ids[0].ppk.toPk()),o.owner&&o.owner.length>0)for(var d=0;d<o.owner.length;d++){var l=o.owner[d];s.addOwner(EcPk.fromPem(l))}if(o.reader&&o.reader.length>0)for(d=0;d<o.reader.length;d++){var m=o.reader[d];s.addReader(EcPk.fromPem(m))}if(!0===this.$store.state.editor.private&&(s=EcEncryptedValue.toEncryptedValue(s)),window.repo.saveTo(s,(function(){}),appError),"Concept"===t.type){null==o.relation&&(o.relation=[]);var p=!0,f=0;while(p&&f<o.relation.length)EcRemoteLinkedData.trimVersionFromUrl(o.relation[f]).equals(s.id)&&(p=!1),f++;p&&o.relation.push(s.id)}else o.addRelation(s.id)}a.push({operation:"update",id:o.shortId(),fieldChanged:["relation"],initialValue:[i],changedValue:[o.relation]}),this.$store.commit("editor/addEditsToUndo",a),this.$store.commit("editor/framework",o),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[o.id]&&(o=EcEncryptedValue.toEncryptedValue(o)),window.repo.saveTo(o,(function(){}),appError)},addRelationAsCompetencyField:function(e,t,n,r){for(var o=t[n]?t[n].slice():null,a=0;a<e.length;a++)null==t[n]&&(t[n]=[]),t[n].push(e[a]);this.$store.commit("editor/addEditsToUndo",[{operation:"update",id:t.shortId(),fieldChanged:[n],initialValue:[o],changedValue:[t[n]]}]),t["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[t.id]&&(t=EcEncryptedValue.toEncryptedValue(t)),window.repo.saveTo(t,(function(){}),appError)},removeRelationFromFramework:function(e,t,n){var r=this,o=this.framework.relation?this.framework.relation.slice():null,a=[];(new EcAsyncHelper).each(this.framework.relation,(function(o,i){EcAlignment.get(o,(function(o){"broadens"===t?o.target===e&&o.source===n&&"narrows"===o.relationType?(r.framework.removeRelation(o.shortId()),a.push({operation:"delete",obj:o}),r.conditionalDelete(o.shortId()),i()):i():o.source===e&&o.target===n&&o.relationType===t?(r.framework.removeRelation(o.shortId()),a.push({operation:"delete",obj:o}),r.conditionalDelete(o.shortId()),i()):i()}),i)}),(function(){var e=r.framework;a.push({operation:"update",id:e.shortId(),fieldChanged:["relation"],initialValue:[o],changedValue:[e.relation]}),r.$store.commit("editor/framework",e),r.$store.commit("editor/addEditsToUndo",a),!0===r.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[e.id]&&(e=EcEncryptedValue.toEncryptedValue(e)),window.repo.saveTo(e,(function(){}),appError)}))},ceasnRegistryUriTransform:function(e){var t=this.queryParams.newObjectEndpoint;if(null==t)return e;if(e.startsWith(t))return e;var n=this.getCTID(e);return-1!==t.indexOf("ce-")&&(n=n.substring(3)),t+n},getCTID:function(e){var t=null,n=EcRemoteLinkedData.trimVersionFromUrl(e).split("/");return t=n[n.length-1],e=EcRemoteLinkedData.trimVersionFromUrl(e),t.matches("^(ce-)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")||(t=new UUID(3,"nil",e).format()),-1===t.indexOf("ce-")&&(t="ce-"+t),t},canViewCommentsCurrentFramework:function(){var e=this.$store.state.user.loggedOnPerson;return!(!e||!e.id||""===e.id)},canAddCommentsCurrentFramework:function(){var e=this.$store.state.user.loggedOnPerson;return!(!e||!e.id||""===e.id)},toPrettyDateString:function(e){try{var t=new Date(e);return o()(t,"mm/dd/yy, h:MM:ss TT")}catch(n){return"unknown"}}}}},9:function(e,t){},"9c0c":function(e,t,n){},b3be:function(e,t,n){},c1db:function(e,t,n){},ce62:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ce62"},d0e4:function(e,t,n){"use strict";var r=n("c1db"),o=n.n(r);o.a}});
//# sourceMappingURL=app.5f61f606.js.map