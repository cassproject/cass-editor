{"version":3,"sources":["webpack:///./src/views/conceptScheme/ConceptHierarchy.vue","webpack:///src/views/conceptScheme/ConceptHierarchy.vue","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?21d9","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?546b","webpack:///./src/views/conceptScheme/ConceptHierarchy.vue?dbf1","webpack:///./src/mixins/competencyEdits.js"],"names":["render","_vm","this","_c","_self","staticClass","class","dragging","canEdit","view","queryParams","select","attrs","directives","name","rawName","value","selectAll","expression","domProps","Array","isArray","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_e","expanded","selectButtonText","$emit","selectedArray","_v","_s","multipleSelected","addingNode","_m","addConceptOrChildText","canCopyOrCut","deleteSelected","loading","onClickCreateNew","copyClick","cutClick","canPaste","pasteClick","cancelImport","$store","dispatch","openFramework","path","query","hierarchy","_b","isDraggable","beginDrag","endDrag","model","callback","dragOptions","_l","item","index","key","obj","id","subview","children","profile","highlightList","newFramework","container","properties","shiftKey","arrowKey","hasLargeNumberOfItems","onCreateNewNode","handleMountingNode","add","move","onDraggableCheck","staticRenderFns","props","Object","containerType","String","repo","selectMode","Boolean","containerTypeGet","viewOnly","type","default","doneDragging","data","structure","once","controlOnStart","filter","dragIcon","delay","disabled","ghostClass","chosenClass","dragClass","scrollSensitivity","forceFallback","components","HierarchyNode","draggable","mixins","common","competencyEdits","computed","length","getters","addAnother","me","appLog","precache","EcConcept","search","shortId","results","multiget","success","computeHierarchy","appError","size","canEditAny","recomputeHierarchy","framework","watch","handler","deep","commit","val","mounted","singleSelect","window","addEventListener","keydown","keyup","beforeDestroy","removeEventListener","methods","e","indexOf","ctrlKey","parentId","previousSiblingId","startTime","_this","setTimeout","_computeHierarchy","_asyncToGenerator","_regeneratorRuntime","mark","_callee","i","c","wrap","_context","prev","next","abrupt","r","undefined","get","sent","push","addChildren","stop","apply","arguments","_addChildren","_callee2","j","subC","_context2","_x","_x2","_x3","event","originalEvent","foo","to","oldIndex","newIndex","toId","toLast","from","_move","_callee4","fromId","fromContainerId","toContainerId","removeOldRelations","property","initialValue","fromIndex","toIndex","moveComp","fromContainer","fromProperty","fromProperty2","toContainer","toProperty","toProperty2","fromPropInitialValue","fromProp2InitialValue","toPropInitialValue","toProp2InitialValue","_context4","EcRepository","t0","splice","EcArray","operation","fieldChanged","Date","toISOString","state","editor","private","EcEncryptedValue","encryptOnSaveMap","toEncryptedValue","saveTo","t1","t2","setRemove","_callee3","_context3","_x4","_x5","_x6","_x7","_x8","_x9","_add","_callee5","containerId","previousSibling","owner","reader","parent","_context5","newObjectEndpoint","generateShortId","generateId","selectedServer","EcIdentityManager","ids","addOwner","ppk","toPk","EcPk","fromPem","addReader","setDefaultLanguage","defaultLanguage","multiput","JSON","parse","toJson","_x10","_x11","objId","setAdd","deleteObject","_openFramework","_callee6","f","_context6","EcConceptScheme","$router","params","frameworkId","_onClickCreateNew","_callee7","_context7","_deleteSelected","_callee8","_context8","deleteConcept","thing","deleteConceptInner","_deleteConceptInner","_callee9","editsToUndo","concept","_concept","_context9","spitEvent","deleteRegistered","stringify","_x12","component","removeObject","thisFramework","initialCompetencies","competency","initialRelations","relation","initialLevels","level","removeCompetency","conditionalDelete","importType","frameworkToSave","removeLevel","changedValue"],"mappings":"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","file":"js/chunk-7c7254fa.ab1b6954.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"lode__hierarchy\",class:{'is-dragging': _vm.dragging}},[_c('div',{staticClass:\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\"},[((_vm.canEdit && _vm.view !== 'import') || _vm.queryParams.select)?_c('div',{staticClass:\"column is-narrow\",attrs:{\"id\":\"check-radio-all-column\"}},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectAll),expression:\"selectAll\"}],staticClass:\"is-checkradio\",attrs:{\"id\":\"selectAllCheckbox\",\"type\":\"checkbox\",\"name\":\"selectAllCheckbox\"},domProps:{\"checked\":Array.isArray(_vm.selectAll)?_vm._i(_vm.selectAll,null)>-1:(_vm.selectAll)},on:{\"change\":function($event){var $$a=_vm.selectAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectAll=$$c}}}}),_c('label',{attrs:{\"for\":\"selectAllCheckbox\"}})])]):_vm._e(),_c('div',{staticClass:\"column is-narrow\"},[(_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=false}}},[_c('i',{staticClass:\"fa fa-caret-down has-text-primary is-size-2\"})]):(!_vm.expanded)?_c('div',{staticClass:\"icon is-vcentered\",on:{\"click\":function($event){_vm.expanded=true}}},[_c('i',{staticClass:\"fa fa-caret-right has-text-primary is-size-2\"})]):_c('div',{staticClass:\"icon is-vcentered\"},[_c('i',{staticClass:\"fa fa-circle is-size-6 has-text-light\"})]),(_vm.selectButtonText)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('select-button-click', _vm.selectedArray)}}},[_vm._v(\" \"+_vm._s(_vm.selectButtonText)+\" \")]):_vm._e()]),_c('div',{staticClass:\"column is-narrow\"},[_c('div',{staticClass:\"buttons\"},[(_vm.multipleSelected && !_vm.addingNode && _vm.view !== 'import' && _vm.canEdit)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){return _vm.$emit('edit-multiple-event')}}},[_vm._m(0),_c('span',[_vm._v(\" Edit multiple \")])]):_vm._e(),(!_vm.addingNode && _vm.canEdit && !_vm.multipleSelected)?_c('div',{staticClass:\"button is-outlined is-primary\",on:{\"click\":function($event){_vm.addingNode = true;}}},[_vm._m(1),_c('span',[_vm._v(\" \"+_vm._s(_vm.addConceptOrChildText)+\" \")])]):_vm._e(),(!_vm.addingNode && _vm.canEdit && !_vm.multipleSelected && _vm.canCopyOrCut)?_c('div',{staticClass:\"button is-outlined is-danger\",on:{\"click\":_vm.deleteSelected}},[_vm._m(2),_c('span',[_vm._v(\" delete item \")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-dark\",on:{\"click\":function($event){_vm.addingNode = false;}}},[_vm._m(3),_c('span',[_vm._v(\"cancel\")])]):_vm._e(),(_vm.addingNode)?_c('div',{staticClass:\"button is-outlined is-primary\",class:{'is-loading': _vm.loading},on:{\"click\":_vm.onClickCreateNew}},[_vm._m(4),_c('span',[_vm._v(\" create new \")])]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canCopyOrCut ? 'is-primary' : 'is-disabled',attrs:{\"disabled\":!_vm.canCopyOrCut,\"title\":\"Copy concept\"},on:{\"click\":_vm.copyClick}},[_vm._m(5)]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canCopyOrCut ? 'is-primary' : 'is-disabled',attrs:{\"title\":\"Cut concept\",\"disabled\":!_vm.canCopyOrCut},on:{\"click\":_vm.cutClick}},[_vm._m(6)]):_vm._e(),(_vm.view === 'framework' || _vm.view === 'concept')?_c('div',{staticClass:\"button is-outlined\",class:_vm.canPaste ? 'is-primary' : 'is-disabled',attrs:{\"disabled\":!_vm.canPaste,\"title\":\"Paste concept\"},on:{\"click\":_vm.pasteClick}},[_vm._m(7)]):_vm._e()])]),(_vm.view === 'import')?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\"buttons is-right\"},[_c('div',{staticClass:\"button is-light is-pulled-right is-dark is-outlined\",on:{\"click\":_vm.cancelImport}},[_c('span',[_vm._v(\" Cancel \")]),_vm._m(8)]),_c('div',{staticClass:\"button is-dark is-outlined is-pulled-right\",on:{\"click\":function($event){return _vm.$store.dispatch('app/clearImport')}}},[_c('span',[_vm._v(\" import again \")]),_vm._m(9)]),_c('div',{staticClass:\"button is-dark is-outlined is-pulled-right\",on:{\"click\":_vm.openFramework}},[_c('span',[_vm._v(\"view in editor\")]),_vm._m(10)]),_c('router-link',{staticClass:\"button is-primary is-outlined is -pulled-right\",attrs:{\"to\":{path: '/concepts', query: _vm.queryParams}}},[_c('span',[_vm._v(\" Done \")]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-home\"})])])],1)])]):_vm._e()]),(_vm.hierarchy)?[_c('draggable',_vm._b({staticClass:\"lode__hierarchy-ul\",attrs:{\"tag\":\"ul\",\"disabled\":_vm.canEdit !== true || !_vm.isDraggable,\"group\":{ name: 'test' },\"handle\":\".handle\"},on:{\"start\":_vm.beginDrag,\"end\":_vm.endDrag},model:{value:(_vm.hierarchy),callback:function ($$v) {_vm.hierarchy=$$v},expression:\"hierarchy\"}},'draggable',_vm.dragOptions,false),_vm._l((_vm.hierarchy),function(item,index){return _c('HierarchyNode',{key:item.obj.id,staticClass:\"lode__hierarchy-li\",attrs:{\"depth\":1,\"view\":_vm.view,\"subview\":_vm.subview,\"obj\":item.obj,\"dragging\":_vm.dragging,\"canEdit\":_vm.canEdit,\"hasChild\":item.children,\"profile\":_vm.profile,\"highlightList\":_vm.highlightList,\"selectAll\":_vm.selectAll,\"newFramework\":_vm.newFramework,\"index\":index,\"frameworkEditable\":_vm.canEdit,\"selectedArray\":_vm.selectedArray,\"parentStructure\":_vm.hierarchy,\"parent\":_vm.container,\"properties\":_vm.properties,\"expandAll\":_vm.expanded==true,\"propagateParentChecked\":\"false\",\"shiftKey\":_vm.shiftKey,\"arrowKey\":_vm.arrowKey,\"largeNumberOfItems\":_vm.hasLargeNumberOfItems},on:{\"create-new-node-event\":_vm.onCreateNewNode,\"mounting-node\":_vm.handleMountingNode,\"add\":_vm.add,\"begin-drag\":_vm.beginDrag,\"move\":_vm.move,\"select\":_vm.select,\"draggable-check\":_vm.onDraggableCheck}})}),1)]:_vm._e()],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-cog\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-plus\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-copy\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas handle fa-cut\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-paste\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-times-circle\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-redo-alt\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-edit\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div\n        class=\"lode__hierarchy\"\n        :class=\"{'is-dragging': dragging}\">\n        <div\n            class=\"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless\">\n            <!-- CONTROLS FOR SELECT: ENABLED MULTI EDIT  -->\n            <div\n                v-if=\"(canEdit && view !== 'import') || queryParams.select\"\n                id=\"check-radio-all-column\"\n                class=\"column is-narrow\">\n                <div\n                    class=\"field\">\n                    <input\n                        class=\"is-checkradio\"\n                        id=\"selectAllCheckbox\"\n                        type=\"checkbox\"\n                        name=\"selectAllCheckbox\"\n                        v-model=\"selectAll\">\n                    <label for=\"selectAllCheckbox\" />\n                </div>\n            </div>\n            <!-- CONTROLS FOR EXPAND  -->\n            <div class=\"column is-narrow\">\n                <div\n                    v-if=\"expanded\"\n                    class=\"icon is-vcentered\"\n                    @click=\"expanded=false\">\n                    <i class=\"fa fa-caret-down has-text-primary is-size-2\" />\n                </div>\n                <div\n                    v-else-if=\"!expanded\"\n                    class=\"icon is-vcentered\"\n                    @click=\"expanded=true\">\n                    <i class=\"fa fa-caret-right has-text-primary is-size-2\" />\n                </div>\n                <div\n                    v-else\n                    class=\"icon is-vcentered\">\n                    <i class=\"fa fa-circle is-size-6 has-text-light\" />\n                </div>\n                <div\n                    v-if=\"selectButtonText\"\n                    @click=\"$emit('select-button-click', selectedArray)\"\n                    class=\"button is-outlined is-primary\">\n                    {{ selectButtonText }}\n                </div>\n            </div>\n            <!-- MULTI EDIT BUTTONS -->\n            <div class=\"column is-narrow\">\n                <div\n                    class=\"buttons\">\n                    <div\n                        v-if=\"multipleSelected && !addingNode && view !== 'import' && canEdit\"\n                        @click=\"$emit('edit-multiple-event')\"\n                        class=\"button is-outlined is-primary\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-cog\" />\n                        </span>\n                        <span>\n                            Edit multiple\n                        </span>\n                    </div>\n                    <!-- if multiple are selected allow for edit multiple -->\n                    <div\n                        @click=\"addingNode = true;\"\n                        v-if=\"!addingNode && canEdit && !multipleSelected\"\n                        class=\"button is-outlined is-primary\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-plus-circle\" />\n                        </span>\n                        <span>\n                            {{ addConceptOrChildText }}\n                        </span>\n                    </div>\n                    <!-- delete item -->\n                    <div\n                        v-if=\"!addingNode && canEdit && !multipleSelected && canCopyOrCut\"\n                        @click=\"deleteSelected\"\n                        class=\"button is-outlined is-danger\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-plus-circle\" />\n                        </span>\n                        <span>\n                            delete item\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"addingNode\"\n                        @click=\"addingNode = false;\"\n                        class=\"button is-outlined is-dark \">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-times\" />\n                        </span>\n                        <span>cancel</span>\n                    </div>\n                    <div\n                        v-if=\"addingNode\"\n                        @click=\"onClickCreateNew\"\n                        :class=\"{'is-loading': loading}\"\n                        class=\"button is-outlined is-primary \">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-plus\" />\n                        </span>\n                        <span>\n                            create new\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"view === 'framework' || view === 'concept'\"\n                        :disabled=\"!canCopyOrCut\"\n                        title=\"Copy concept\"\n                        :class=\"canCopyOrCut ? 'is-primary' : 'is-disabled'\"\n                        class=\"button is-outlined\"\n                        @click=\"copyClick\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-copy\" />\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"view === 'framework' || view === 'concept'\"\n                        title=\"Cut concept\"\n                        :disabled=\"!canCopyOrCut\"\n                        class=\"button is-outlined\"\n                        :class=\"canCopyOrCut ? 'is-primary' : 'is-disabled'\"\n                        @click=\"cutClick\">\n                        <span class=\"icon\">\n                            <i class=\"fas handle fa-cut\" />\n                        </span>\n                    </div>\n                    <div\n                        v-if=\"view === 'framework' || view === 'concept'\"\n                        :disabled=\"!canPaste\"\n                        class=\"button is-outlined \"\n                        @click=\"pasteClick\"\n                        :class=\"canPaste ? 'is-primary' : 'is-disabled'\"\n                        title=\"Paste concept\">\n                        <span class=\"icon\">\n                            <i class=\"fa fa-paste\" />\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <!-- IMPORT WORKFLOW BUTTONS -->\n            <div\n                class=\"column\"\n                v-if=\"view === 'import'\">\n                <div class=\"buttons is-right\">\n                    <!-- import details options -->\n                    <div\n                        class=\"buttons is-right\">\n                        <!-- cancel button -->\n                        <div\n                            @click=\"cancelImport\"\n                            class=\" button is-light is-pulled-right is-dark is-outlined\">\n                            <span>\n                                Cancel\n                            </span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-times-circle\" />\n                            </span>\n                        </div>\n                        <!--  start over -->\n                        <div\n                            @click=\"$store.dispatch('app/clearImport')\"\n                            class=\"button is-dark is-outlined is-pulled-right\">\n                            <span>\n                                import again\n                            </span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-redo-alt\" />\n                            </span>\n                        </div>\n                        <!-- open in editor -->\n                        <div\n                            @click=\"openFramework\"\n                            class=\"button is-dark is-outlined is-pulled-right\">\n                            <span>view in editor</span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-edit\" />\n                            </span>\n                        </div>\n                        <!--  home -->\n                        <router-link\n                            class=\"button is-primary is-outlined is -pulled-right\"\n                            :to=\"{path: '/concepts', query: queryParams}\">\n                            <span>\n                                Done\n                            </span>\n                            <span class=\"icon\">\n                                <i class=\"fa fa-home\" />\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <template\n            v-if=\"hierarchy\">\n            <draggable\n                v-bind=\"dragOptions\"\n                v-model=\"hierarchy\"\n                tag=\"ul\"\n                class=\"lode__hierarchy-ul\"\n                :disabled=\"canEdit !== true || !isDraggable\"\n                :group=\"{ name: 'test' }\"\n                @start=\"beginDrag\"\n                handle=\".handle\"\n                @end=\"endDrag\">\n                <HierarchyNode\n                    :depth=\"1\"\n                    :view=\"view\"\n                    @create-new-node-event=\"onCreateNewNode\"\n                    :subview=\"subview\"\n                    @mounting-node=\"handleMountingNode\"\n                    v-for=\"(item, index) in hierarchy\"\n                    :key=\"item.obj.id\"\n                    :obj=\"item.obj\"\n                    class=\"lode__hierarchy-li\"\n                    :dragging=\"dragging\"\n                    :canEdit=\"canEdit\"\n                    :hasChild=\"item.children\"\n                    :profile=\"profile\"\n                    :highlightList=\"highlightList\"\n                    :selectAll=\"selectAll\"\n                    :newFramework=\"newFramework\"\n                    :index=\"index\"\n                    :frameworkEditable=\"canEdit\"\n                    :selectedArray=\"selectedArray\"\n                    @add=\"add\"\n                    @begin-drag=\"beginDrag\"\n                    @move=\"move\"\n                    @select=\"select\"\n                    :parentStructure=\"hierarchy\"\n                    :parent=\"container\"\n                    @draggable-check=\"onDraggableCheck\"\n                    :properties=\"properties\"\n                    :expandAll=\"expanded==true\"\n                    propagateParentChecked=\"false\"\n                    :shiftKey=\"shiftKey\"\n                    :arrowKey=\"arrowKey\"\n                    :largeNumberOfItems=\"hasLargeNumberOfItems\" />\n            </draggable>\n        </template>\n    </div>\n</template>\n<script>\n\nimport common from '@/mixins/common.js';\nimport competencyEdits from '@/mixins/competencyEdits.js';\nvar hierarchyTimeout;\nexport default {\n    name: 'ConceptHierarchy',\n    props: {\n        container: Object,\n        containerType: String,\n        repo: Object,\n        profile: Object,\n        highlightList: Array,\n        selectMode: Boolean,\n        selectAll: Boolean,\n        containerTypeGet: String,\n        viewOnly: Boolean,\n        newFramework: Boolean,\n        properties: String,\n        view: {\n            type: String,\n            default: 'framework'\n        },\n        subview: {\n            type: String,\n            default: ''\n        },\n        doneDragging: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data: function() {\n        return {\n            structure: [],\n            once: true,\n            dragging: false,\n            controlOnStart: false,\n            filter: 'showAll',\n            dragIcon: 'fa-arrows-alt',\n            dragOptions: {\n                delay: 100,\n                disabled: false,\n                ghostClass: 'ghost-drag',\n                chosenClass: 'chosen-drag',\n                dragClass: 'drag',\n                scrollSensitivity: 200,\n                forceFallback: true\n            },\n            multipleSelected: false,\n            addingNode: false,\n            selectedArray: [],\n            selectButtonText: null,\n            expanded: true,\n            hasLargeNumberOfItems: false,\n            isDraggable: true,\n            shiftKey: false,\n            arrowKey: null,\n            addConceptOrChildText: \"Add Concept\",\n            loading: false\n        };\n    },\n    components: {\n        HierarchyNode: () => import('@/lode/components/HierarchyNode.vue'),\n        draggable: () => import('vuedraggable')\n    },\n    mixins: [common, competencyEdits],\n    computed: {\n        canCopyOrCut: function() {\n            if (this.selectedArray && this.selectedArray.length === 1) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        canPaste: function() {\n            if ((this.$store.getters['editor/copyId'] !== null || this.$store.getters['editor/cutId'] !== null) && this.$store.getters['editor/nodeInFocus'] !== null) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        queryParams: function() {\n            return this.$store.getters['editor/queryParams'];\n        },\n        addAnother: function() {\n            return this.$store.getters['editor/addAnother'];\n        },\n        hierarchy: function() {\n            var me = this;\n            if (this.container == null) return null;\n            if (!this.once) return this.structure;\n            appLog(\"Computing hierarchy.\");\n            var precache = [];\n            if (this.container[\"skos:hasTopConcept\"] != null) {\n                precache = precache.concat(this.container[\"skos:hasTopConcept\"]);\n            }\n            if (precache.length > 0) {\n                if (this.container[\"skos:hasTopConcept\"] != null) {\n                    EcConcept.search(this.repo, \"skos\\\\:inScheme:\\\"\" + this.container.shortId() + \"\\\"\", function(results) {\n                        if (results.length > 200) {\n                            me.hasLargeNumberOfItems = true;\n                        }\n                        if (me.hasLargeNumberOfItems) {\n                            me.expanded = false;\n                        }\n                        me.repo.multiget(precache, function(success) {\n                            me.computeHierarchy();\n                        }, appError);\n                    }, null, {size: 10000});\n                } else {\n                    this.repo.multiget(precache, function(success) {\n                        me.computeHierarchy();\n                    }, appError);\n                }\n            } else {\n                me.computeHierarchy();\n            }\n            return this.structure;\n        },\n        // True if the current client can edit this object.\n        canEdit: function() {\n            if (this.viewOnly === true) {\n                return false;\n            }\n            return this.canEditAny(this.container);\n        },\n        recomputeHierarchy: function() {\n            return this.$store.getters['editor/recomputeHierarchy'];\n        },\n        framework() {\n            return this.$store.getters['editor/framework'];\n        }\n    },\n    watch: {\n        container: {\n            handler() {\n                this.once = true;\n            },\n            deep: true\n        },\n        selectedArray: function() {\n            if (this.selectedArray.length > 1) {\n                this.multipleSelected = true;\n            } else {\n                this.multipleSelected = false;\n            }\n            if (this.selectedArray.length === 1) {\n                this.addConceptOrChildText = \"Add Child\";\n            } else {\n                this.addConceptOrChildText = \"Add Concept\";\n            }\n            this.$emit('selected-array', this.selectedArray);\n        },\n        // Concepts can't just depend on fields on the container object like frameworks can for reactivity\n        recomputeHierarchy: function() {\n            if (this.recomputeHierarchy) {\n                this.once = true;\n                this.$store.commit('editor/recomputeHierarchy', false);\n            }\n        },\n        doneDragging: function() {\n            if (this.doneDragging) {\n                this.dragging = false;\n            }\n        },\n        addAnother: function(val) {\n            if (val) {\n                this.onClickCreateNew();\n                this.$store.commit('editor/addAnother', false);\n            }\n        }\n    },\n    mounted: function() {\n        if (this.queryParams) {\n            if (this.queryParams.singleSelect) {\n                this.selectButtonText = this.queryParams.singleSelect;\n            }\n            if (this.queryParams.select) {\n                if (this.queryParams.select !== \"\" && this.queryParams.select !== \"select\") {\n                    this.selectButtonText = this.queryParams.select;\n                }\n            }\n        }\n        window.addEventListener(\"keydown\", this.keydown);\n        window.addEventListener(\"keyup\", this.keyup);\n    },\n    beforeDestroy: function() {\n        window.removeEventListener('keyup', this.keyup);\n        window.removeEventListener('keydown', this.keydown);\n    },\n    methods: {\n        cutClick: function() {\n            if (this.selectedArray && this.selectedArray.length === 1) {\n                this.$store.commit('editor/cutId', this.selectedArray[0]);\n            }\n            this.$store.commit('editor/copyId', null);\n            this.$store.commit('editor/paste', false);\n        },\n        copyClick: function() {\n            if (this.selectedArray && this.selectedArray.length === 1) {\n                this.$store.commit('editor/copyId', this.selectedArray[0]);\n            }\n            this.$store.commit('editor/cutId', null);\n            this.$store.commit('editor/paste', false);\n        },\n        pasteClick: function() {\n            this.$store.commit('editor/paste', true);\n        },\n        keydown(e) {\n            if (this.canEdit) {\n                if (e.shiftKey) {\n                    this.shiftKey = true;\n                }\n                if (e.key.indexOf(\"Arrow\") !== -1 && e.shiftKey) {\n                    this.arrowKey = e.key;\n                }\n                if (e.key === \"x\" && e.ctrlKey) {\n                    if (this.selectedArray && this.selectedArray.length === 1) {\n                        this.$store.commit('editor/cutId', this.selectedArray[0]);\n                    }\n                    this.$store.commit('editor/copyId', null);\n                    this.$store.commit('editor/paste', false);\n                }\n                if (e.key === \"c\" && e.ctrlKey) {\n                    if (this.selectedArray && this.selectedArray.length === 1) {\n                        this.$store.commit('editor/copyId', this.selectedArray[0]);\n                    }\n                    this.$store.commit('editor/cutId', null);\n                    this.$store.commit('editor/paste', false);\n                }\n                if (e.key === \"v\" && e.ctrlKey) {\n                    this.$store.commit('editor/paste', true);\n                }\n            }\n        },\n        keyup(e) {\n            if (!e.shiftKey) {\n                this.shiftKey = false;\n            }\n            if (e.key.indexOf(\"Arrow\") !== -1) {\n                this.arrowKey = null;\n            }\n        },\n        onCreateNewNode: function(parentId, previousSiblingId) {\n            this.add(parentId, previousSiblingId);\n        },\n        /*\n         * when a child node is mounted it emits an event\n         * and a timeout is started\n         */\n        handleMountingNode: function() {\n            this.startTime();\n        },\n        /*\n         * each mount resets the timeout\n         * if the timeout length is met (no new nodes)\n         * the done loading event is triggered\n         */\n        startTime: function() {\n            hierarchyTimeout = setTimeout(() => {\n                this.$emit('done-loading-nodes');\n            }, 1000);\n        },\n        computeHierarchy: async function() {\n            let structure = [];\n            if (this.container == null) { return r; }\n            if (this.container[\"skos:hasTopConcept\"] !== null && this.container[\"skos:hasTopConcept\"] !== undefined) {\n                for (var i = 0; i < this.container[\"skos:hasTopConcept\"].length; i++) {\n                    var c = await EcConcept.get(this.container[\"skos:hasTopConcept\"][i]);\n                    if (c) {\n                        structure.push({\"obj\": c, \"children\": []});\n                        if (c[\"skos:narrower\"]) {\n                            this.addChildren(structure, c, i);\n                        }\n                    }\n                }\n            }\n            this.structure = structure;\n            this.once = false;\n        },\n        addChildren: async function(structure, c, i) {\n            for (var j = 0; j < c[\"skos:narrower\"].length; j++) {\n                var subC = await EcConcept.get(c[\"skos:narrower\"][j]);\n                structure[i].children.push({\"obj\": subC, \"children\": []});\n                if (subC && subC[\"skos:narrower\"]) {\n                    this.addChildren(structure[i].children, subC, j);\n                }\n            }\n        },\n        // WARNING: The Daemon of OBO lingers in these here drag and move methods. The library moves the objects, and OBO will then come get you!\n        beginDrag: function(event) {\n            this.dragging = true;\n            if (event !== undefined) {\n                this.controlOnStart = event.originalEvent.ctrlKey || event.originalEvent.shiftKey;\n            }\n        },\n        endDrag: function(foo) {\n            if (foo.to.id === 'framework_drag') {\n                this.dragging = false;\n                return;\n            }\n            appLog(foo.oldIndex, foo.newIndex);\n            var toId = null;\n            var toLast = false;\n            if (this.shiftKey) {\n                this.controlOnStart = true;\n            }\n            if (foo.from.id === foo.to.id) {\n                if (foo.newIndex + 1 < this.hierarchy.length) {\n                    toId = this.hierarchy[foo.newIndex + 1].obj.shortId();\n                } else if (foo.newIndex === this.hierarchy.length - 1) {\n                    toLast = true;\n                }\n            } else {\n                if (foo.to.children[foo.newIndex] === undefined) {\n                    toId = foo.to.id;\n                } else {\n                    if (foo.newIndex + 1 < foo.to.children.length) {\n                        toId = foo.to.children[foo.newIndex + 1].id;\n                    }\n                }\n            }\n            this.move(\n                this.hierarchy[foo.oldIndex].obj.shortId(),\n                toId,\n                foo.from.id,\n                foo.to.id,\n                !this.controlOnStart, toLast);\n        },\n        move: async function(fromId, toId, fromContainerId, toContainerId, removeOldRelations, toLast) {\n            this.once = true;\n            var me = this;\n            if (fromContainerId === toContainerId) {\n                var container = toContainerId ? await EcRepository.get(toContainerId) : this.container;\n                var property = \"skos:narrower\";\n                if (container.type === \"ConceptScheme\") {\n                    container = this.container;\n                    property = \"skos:hasTopConcept\";\n                }\n                var initialValue = container[property] ? container[property].slice() : null;\n                var fromIndex = container[property].indexOf(fromId);\n                container[property].splice(fromIndex, 1);\n                if (toId == null || toId === undefined) {\n                    if (!EcArray.isArray(container[property])) {\n                        container[property] = [];\n                    }\n                    container[property].push(fromId);\n                } else {\n                    if (toLast) {\n                        container[property].push(fromId);\n                    } else {\n                        var toIndex = container[property].indexOf(toId);\n                        container[property].splice(toIndex, 0, fromId);\n                    }\n                }\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: container.shortId(), fieldChanged: [property], initialValue: [initialValue]}]);\n                container[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[container.id] !== true) {\n                    container = await EcEncryptedValue.toEncryptedValue(container);\n                }\n                this.repo.saveTo(container, function() {\n                    me.computeHierarchy();\n                }, appError);\n            } else {\n                var moveComp = await EcConcept.get(fromId);\n                var fromContainer = fromContainerId ? await EcRepository.get(fromContainerId) : this.container;\n                var fromProperty = \"skos:narrower\";\n                var fromProperty2 = \"skos:broader\";\n                var toContainer = toContainerId ? await EcRepository.get(toContainerId) : this.container;\n                var toProperty = \"skos:narrower\";\n                var toProperty2 = \"skos:broader\";\n                if (fromContainer.type === \"ConceptScheme\") {\n                    fromContainer = this.container;\n                    fromProperty = \"skos:hasTopConcept\";\n                    fromProperty2 = \"skos:topConceptOf\";\n                }\n                if (toContainer.type === \"ConceptScheme\") {\n                    toContainer = this.container;\n                    toProperty = \"skos:hasTopConcept\";\n                    toProperty2 = \"skos:topConceptOf\";\n                }\n                var fromIndex = fromContainer[fromProperty].indexOf(fromId);\n                var fromPropInitialValue = fromContainer[fromProperty].slice();\n                var fromProp2InitialValue = moveComp[fromProperty2] ? moveComp[fromProperty2].slice() : null;\n                var toPropInitialValue = toContainer[toProperty] ? toContainer[toProperty].slice() : null;\n                var toProp2InitialValue = moveComp[toProperty2] ? moveComp[toProperty2].slice() : null;\n                if (removeOldRelations) {\n                    fromContainer[fromProperty].splice(fromIndex, 1);\n                }\n                if (fromContainerId && moveComp[fromProperty2]) {\n                    if (removeOldRelations) {\n                        EcArray.setRemove(moveComp[fromProperty2], fromContainerId);\n                    }\n                    if (moveComp[fromProperty2].length === 0) {\n                        delete moveComp[fromProperty2];\n                    }\n                } else {\n                    delete moveComp[fromProperty2];\n                }\n                fromContainer[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[fromContainer.id] !== true) {\n                    fromContainer = await EcEncryptedValue.toEncryptedValue(fromContainer);\n                }\n                this.repo.saveTo(fromContainer, async function() {\n                    if (toId == null || toId === undefined) {\n                        if (!EcArray.isArray(toContainer[toProperty])) {\n                            toContainer[toProperty] = [];\n                        }\n                        toContainer[toProperty].push(fromId);\n                    } else {\n                        var toIndex = toContainer[toProperty].indexOf(toId);\n                        toContainer[toProperty].splice(toIndex, 0, fromId);\n                    }\n                    if (toContainer.type === \"ConceptScheme\") {\n                        moveComp[toProperty2] = toContainerId;\n                    } else {\n                        if (!EcArray.isArray(moveComp[toProperty2])) {\n                            moveComp[toProperty2] = [];\n                        }\n                        if (toContainerId) {\n                            moveComp[toProperty2].push(toContainerId);\n                        }\n                    }\n                    me.$store.commit('editor/addEditsToUndo', [\n                        {operation: \"update\", id: fromContainer.shortId(), fieldChanged: [fromProperty], initialValue: [fromPropInitialValue]},\n                        {operation: \"update\", id: toContainer.shortId(), fieldChanged: [toProperty], initialValue: [toPropInitialValue]},\n                        {operation: \"update\", id: moveComp.shortId(), fieldChanged: [fromProperty2, toProperty2], initialValue: [fromProp2InitialValue, toProp2InitialValue]}\n                    ]);\n                    toContainer[\"schema:dateModified\"] = new Date().toISOString();\n                    moveComp[\"schema:dateModified\"] = new Date().toISOString();\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[toContainer.id] !== true) {\n                        toContainer = await EcEncryptedValue.toEncryptedValue(toContainer);\n                    }\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[moveComp.id] !== true) {\n                        moveComp = await EcEncryptedValue.toEncryptedValue(moveComp);\n                    }\n                    me.repo.saveTo(toContainer, function() {\n                        me.repo.saveTo(moveComp, appLog, appError);\n                        me.computeHierarchy();\n                    }, appLog);\n                }, appError);\n            }\n            this.dragging = false;\n        },\n        add: async function(containerId, previousSibling) {\n            var me = this;\n            var c = new EcConcept();\n            if (this.queryParams.newObjectEndpoint) {\n                c.generateShortId(this.queryParams.newObjectEndpoint);\n            } else {\n                c.generateId(this.repo.selectedServer);\n            }\n            c[\"schema:dateCreated\"] = new Date().toISOString();\n            c[\"schema:dateModified\"] = new Date().toISOString();\n            if (EcIdentityManager.default.ids != null && EcIdentityManager.default.ids.length > 0) {\n                c.addOwner(EcIdentityManager.default.ids[0].ppk.toPk());\n            }\n            if (this.container.owner && this.container.owner.length > 0) {\n                for (var j = 0; j < this.container.owner.length; j++) {\n                    var owner = this.container.owner[j];\n                    c.addOwner(EcPk.fromPem(owner));\n                }\n            }\n            if (this.container.reader && this.container.reader.length > 0) {\n                for (var j = 0; j < this.container.reader.length; j++) {\n                    var reader = this.container.reader[j];\n                    r.addReader(EcPk.fromPem(reader));\n                }\n            }\n            this.setDefaultLanguage();\n            c[\"skos:prefLabel\"] = {\"@language\": this.$store.state.editor.defaultLanguage, \"@value\": \"New Concept\"};\n            c[\"skos:inScheme\"] = this.container.shortId();\n            if (containerId === this.container.shortId()) {\n                var initialValue = this.container[\"skos:hasTopConcept\"] ? this.container[\"skos:hasTopConcept\"].slice() : null;\n                if (!EcArray.isArray(this.container[\"skos:hasTopConcept\"])) {\n                    this.container[\"skos:hasTopConcept\"] = [];\n                }\n                if (previousSibling == null || previousSibling === undefined) {\n                    this.container[\"skos:hasTopConcept\"].push(c.shortId());\n                } else {\n                    // Insert immediately after the sibling\n                    var index = this.container[\"skos:hasTopConcept\"].indexOf(previousSibling);\n                    this.container[\"skos:hasTopConcept\"].splice(index + 1, 0, c.shortId());\n                }\n                c[\"skos:topConceptOf\"] = this.container.shortId();\n                me.$store.commit('editor/addEditsToUndo', [\n                    {operation: \"addNew\", id: c.shortId()},\n                    {operation: \"update\", id: this.container.shortId(), fieldChanged: [\"skos:hasTopConcept\"], initialValue: [initialValue]}\n                ]);\n                this.container[\"schema:dateModified\"] = new Date().toISOString();\n                c[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true) {\n                    c = await EcEncryptedValue.toEncryptedValue(c);\n                    if (EcEncryptedValue.encryptOnSaveMap[me.container.id] !== true) {\n                        me.container = await EcEncryptedValue.toEncryptedValue(me.container);\n                    }\n                }\n                try {\n                    await this.repo.multiput([c, me.container]);\n                    me.once = true;\n                } catch (e) {\n                    appError(e);\n                }\n            } else {\n                c[\"skos:broader\"] = [containerId];\n                var parent = await EcConcept.get(containerId);\n                var initialValue = parent[\"skos:narrower\"] ? parent[\"skos:narrower\"].slice() : null;\n                if (!EcArray.isArray(parent[\"skos:narrower\"])) {\n                    parent[\"skos:narrower\"] = [];\n                }\n                if (previousSibling == null || previousSibling === undefined) {\n                    parent[\"skos:narrower\"].push(c.shortId());\n                } else {\n                    // Insert immediately after the sibling\n                    var index = parent[\"skos:narrower\"].indexOf(previousSibling);\n                    parent[\"skos:narrower\"].splice(index + 1, 0, c.shortId());\n                }\n                me.$store.commit('editor/addEditsToUndo', [\n                    {operation: \"addNew\", id: c.shortId()},\n                    {operation: \"update\", id: parent.shortId(), fieldChanged: [\"skos:narrower\"], initialValue: [initialValue]}\n                ]);\n                this.container[\"schema:dateModified\"] = new Date().toISOString();\n                c[\"schema:dateModified\"] = new Date().toISOString();\n                parent[\"schema:dateModified\"] = new Date().toISOString();\n                if (this.$store.state.editor.private === true) {\n                    c = await EcEncryptedValue.toEncryptedValue(c);\n                    if (EcEncryptedValue.encryptOnSaveMap[parent.id] !== true) {\n                        parent = await EcEncryptedValue.toEncryptedValue(parent);\n                    }\n                    if (EcEncryptedValue.encryptOnSaveMap[me.container.id] !== true) {\n                        me.container = await EcEncryptedValue.toEncryptedValue(me.container);\n                    }\n                }\n                try {\n                    await this.repo.multiput([c, parent, me.container]);\n                    me.once = true;\n                } catch (e) {\n                    appError(e);\n                }\n            }\n            this.$store.commit(\"editor/newCompetency\", c.shortId());\n            appLog(\"Added node: \", JSON.parse(c.toJson()));\n        },\n        select: function(objId, checked) {\n            if (checked) {\n                EcArray.setAdd(this.selectedArray, objId);\n            } else {\n                EcArray.setRemove(this.selectedArray, objId);\n            }\n        },\n        onDraggableCheck: function(checked) {\n            this.isDraggable = checked;\n        },\n        cancelImport: function() {\n            this.deleteObject(this.container);\n            this.$store.dispatch('app/clearImport');\n        },\n        openFramework: async function() {\n            var f = await EcConceptScheme.get(this.container.shortId());\n            this.$store.commit('editor/framework', f);\n            this.$router.push({name: \"conceptScheme\", params: {frameworkId: this.container.id}});\n        },\n        onClickCreateNew: async function() {\n            let parent = this.container.shortId();\n            if (this.selectedArray.length === 1) {\n                parent = this.selectedArray[0];\n            }\n\n            this.loading = true;\n            try {\n                await this.add(parent, null);\n            } catch (e) {\n                appError(e);\n            }\n            this.loading = false;\n            this.addingNode = false;\n        },\n        deleteSelected: async function() {\n            let item = await EcRepository.get(this.selectedArray[0]);\n            this.deleteConcept(item);\n            this.selectedArray.splice(0, this.selectedArray.length);\n        },\n        deleteConcept: function(thing) {\n            appLog(\"deleting \" + thing.id);\n            this.deleteConceptInner(thing);\n\n            this.framework[\"schema:dateModified\"] = new Date().toISOString();\n            this.$store.commit('editor/selectedCompetency', null);\n        },\n        deleteConceptInner: async function(c) {\n            var me = this;\n            let editsToUndo = [];\n            if (c[\"skos:broader\"] != null) {\n                for (var i = 0; i < c[\"skos:broader\"].length; i++) {\n                    try {\n                        let concept = await EcConcept.get(c[\"skos:broader\"][i]);\n                        var initialValue = concept[\"skos:narrower\"].slice();\n                        EcArray.setRemove(concept[\"skos:narrower\"], c.shortId());\n                        concept[\"schema:dateModified\"] = new Date().toISOString();\n                        editsToUndo.push({operation: \"update\", id: concept.shortId(), fieldChanged: [\"skos:narrower\"], initialValue: [initialValue]});\n                        if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[concept.id] !== true) {\n                            concept = await EcEncryptedValue.toEncryptedValue(concept);\n                        }\n                        await repo.saveTo(concept);\n                        me.$store.commit('editor/framework', me.framework);\n                    } catch (e) {\n                        appError(e);\n                    }\n                }\n            }\n            if (c[\"skos:narrower\"] != null) {\n                for (var i = 0; i < c[\"skos:narrower\"].length; i++) {\n                    try {\n                        let concept = await EcConcept.get(c[\"skos:narrower\"][i]);\n                        me.deleteConceptInner(concept);\n                    } catch (e) {\n                        appError(e);\n                    }\n                }\n            }\n            if (c[\"skos:topConceptOf\"] != null) {\n                try {\n                    var initialValue = this.framework[\"skos:hasTopConcept\"].slice();\n                    EcArray.setRemove(this.framework[\"skos:hasTopConcept\"], c.shortId());\n                    editsToUndo.push({operation: \"update\", id: this.framework.shortId(), fieldChanged: [\"skos:hasTopConcept\"], initialValue: [initialValue]});\n                    var framework = this.framework;\n                    framework[\"schema:dateModified\"] = new Date().toISOString();\n                    if (this.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                        framework = await EcEncryptedValue.toEncryptedValue(framework);\n                    }\n                    await repo.saveTo(framework);\n                    me.$store.commit('editor/framework', me.framework);\n                } catch (e) {\n                    appError(e);\n                }\n            }\n            this.spitEvent(\"conceptDeleted\", c.shortId(), \"editFrameworkPage\");\n            editsToUndo.push({operation: \"delete\", obj: c});\n            repo.deleteRegistered(c, function() {\n                me.$store.commit('editor/framework', me.framework);\n                me.$store.commit('editor/addEditsToUndo', JSON.parse(JSON.stringify(editsToUndo)));\n                editsToUndo.splice(0, editsToUndo.length);\n            }, appError);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n    @import './../../scss/variables.scss';\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConceptHierarchy.vue?vue&type=template&id=739a7bff&\"\nimport script from \"./ConceptHierarchy.vue?vue&type=script&lang=js&\"\nexport * from \"./ConceptHierarchy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConceptHierarchy.vue?vue&type=style&index=0&id=739a7bff&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConceptHierarchy.vue?vue&type=style&index=0&id=739a7bff&prod&lang=scss&\"","import common from '@/mixins/common.js';\nexport default {\n    mixins: [common],\n    methods: {\n        removeObject: function(thing) {\n            // Remove from container but don't delete\n            appLog(\"removing \" + thing.id);\n            var me = this;\n            var thisFramework = this.$store.getters['editor/framework'];\n            var initialCompetencies = thisFramework.competency ? thisFramework.competency.slice() : null;\n            var initialRelations = thisFramework.relation ? thisFramework.relation.slice() : null;\n            var initialLevels = thisFramework.level ? thisFramework.level.slice() : null;\n            thisFramework[\"schema:dateModified\"] = new Date().toISOString();\n            thisFramework.removeCompetency(thing.shortId(), async function() {\n                var framework = me.framework;\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels]}]);\n                if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[f.id] !== true) {\n                    framework = await EcEncryptedValue.toEncryptedValue(framework);\n                }\n                window.repo.saveTo(framework, function() {\n                    me.$store.commit('editor/framework', thisFramework);\n                }, appError);\n            }, appLog);\n        },\n        deleteObject: function(thing) {\n            appLog(\"deleting \" + thing.id);\n            var me = this;\n            var framework = this.$store.getters['editor/framework'];\n            if (thing.shortId() === framework.shortId()) {\n                // delete framework\n                window.repo.deleteRegistered(framework, function(success) {\n                    me.spitEvent(\"frameworkDeleted\", framework.shortId(), \"editFrameworkSection\");\n                    // Delete the framework, delete all non-used stuff.\n                    if (framework.competency != null) {\n                        for (var i = 0; i < framework.competency.length; i++) {\n                            me.conditionalDelete(framework.competency[i]);\n                        }\n                    }\n                    if (framework.relation != null) {\n                        for (var i = 0; i < framework.relation.length; i++) {\n                            me.conditionalDelete(framework.relation[i]);\n                        }\n                    }\n                    if (framework.level != null) {\n                        for (var i = 0; i < framework.level.length; i++) {\n                            me.conditionalDelete(framework.level[i]);\n                        }\n                    }\n                    me.$store.commit('editor/framework', null);\n                    if (me.importType) {\n                        // Calling function from import page\n                        me.$store.commit('app/importFramework', null);\n                    } else {\n                        me.$router.push({name: \"frameworks\"});\n                    }\n                }, appLog);\n            } else {\n                // Delete competency and relations\n                var initialCompetencies = framework.competency ? framework.competency.slice() : null;\n                var initialRelations = framework.relation ? framework.relation.slice() : null;\n                var initialLevels = framework.level ? framework.level.slice() : null;\n                this.$store.commit('editor/selectedCompetency', thing);\n                framework[\"schema:dateModified\"] = new Date().toISOString();\n                framework.removeCompetency(thing.shortId(), async function() {\n                    framework.removeLevel(thing.shortId());\n                    me.$store.commit('editor/addEditsToUndo', [\n                        {operation: \"delete\", obj: thing},\n                        {operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels], changedValue: [framework.competency, framework.relation, framework.level]}\n                    ]);\n                    me.conditionalDelete(thing.shortId());\n                    me.spitEvent(\"competencyDeleted\", thing.shortId(), \"editFrameworkSection\");\n                    me.$store.commit('editor/selectedCompetency', null);\n                    var frameworkToSave = framework;\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                        frameworkToSave = await EcEncryptedValue.toEncryptedValue(framework);\n                    }\n                    window.repo.saveTo(frameworkToSave, function() {\n                        me.$store.commit('editor/framework', framework);\n                    }, appError);\n                }, appLog);\n            }\n        }\n    }\n};"],"sourceRoot":""}