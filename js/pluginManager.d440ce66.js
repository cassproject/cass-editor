(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pluginManager"],{"0cfa":function(t,i,s){"use strict";var a=s("8766"),e=s.n(a);e.a},"39b2":function(t,i,s){"use strict";var a=s("a2c0"),e=s.n(a);e.a},"55c5":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"plugin-manager"}},[s("div",{staticClass:"modal",class:[{"is-active":t.pluginManagerBusy}]},[s("div",{staticClass:"modal-background"}),t._m(0)]),s("div",{staticClass:"modal",class:[{"is-active":t.showConfirmDeletePluginModal}]},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head has-background-primary"},[t._m(1),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancelPluginDelete}})]),s("section",{staticClass:"modal-card-body"},[t._v(" Are you sure you wish to remove the plugin "),s("b",[t._v("'"+t._s(t.pluginToDelete.url)+"'")]),t._v("? ")]),s("footer",{staticClass:"modal-card-foot"},[s("div",{staticClass:"buttons is-spaced"},[s("button",{staticClass:"button is-dark is-outlined",on:{click:t.cancelPluginDelete}},[t._v(" Cancel ")]),s("button",{staticClass:"button is-outlined is-primary",on:{click:t.deletePlugin}},[t._v(" Remove ")])])])])]),t.pluginManagerBusy?t._e():s("div",{staticClass:"container"},[t._m(2),t.pluginManagerViewMode.equals("list")?s("div",{staticClass:"section"},[s("h4",{staticClass:"header is-size-3"},[t._v(" Plugins ")]),0===t.pluginList.length?s("div",[s("p",[t._v("No plugins are available.")])]):t._e(),t.pluginList.length>0?s("div",{staticClass:"table-container"},[s("table",{staticClass:"table is-hoverable is-fullwidth"},[t._m(3),s("tbody",t._l(t.pluginList,(function(i){return s("plugin-list-item",{key:JSON.stringify(i),attrs:{id:i.id,url:i.url,"is-curated":i.isCurated,"is-owned":i.isOwned},on:{"enable-plugin":t.enablePlugin,"disable-plugin":t.disablePlugin,"show-delete":t.showPluginDelete,"show-details":t.showPluginDetails}})})),1)])]):t._e(),s("div",{staticClass:"buttons is-right"},[s("div",{staticClass:"button is-outlined is-primary",attrs:{title:"Add New Plugin"},on:{click:t.addNewPlugin}},[t._m(4),s("span",[t._v(" add new plugin ")])])])]):t._e(),t.pluginManagerViewMode.equals("detail")?s("div",[s("plugin-details",{attrs:{plugin:t.currentPlugin,readOnly:t.currentPluginIsReadOnly},on:{save:t.saveCurrentPlugin,cancel:t.cancelEditCurrentPlugin,back:t.backFromEditCurrentPlugin}})],1):t._e()])])},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"modal-content has-text-centered"},[s("span",{staticClass:"icon is-large has-text-center has-text-link"},[s("i",{staticClass:"fas fa-2x fa-spinner is-info fa-pulse"})])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("p",{staticClass:"modal-card-title"},[s("span",{staticClass:"title has-text-white"},[t._v(" Remove Plugin? ")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"section"},[s("h3",{staticClass:"title is-size-1"},[t._v(" Plugin Management ")]),s("p",{staticClass:"description"},[t._v(" Plugins provide the capability to add additional CaSS related tools in order to customize your UI. ")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("thead",[s("tr",[s("th",[t._v(" location ")]),s("th",{attrs:{title:"Curated/Managed by the CaSS Project"}},[t._v(" curated? ")]),s("th",[t._v(" enabled ")]),s("th")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-plus"})])}],n=s("b85c"),l=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("tr",[s("th",[s("b",[t._v(t._s(t.url))])]),s("td",[t.isCurated?s("span",{staticClass:"icon has-text-primary"},[s("i",{staticClass:"fa fa-check"})]):t._e()]),s("td",[s("div",{staticClass:"field"},[s("div",{staticClass:"control is-size-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isPluginEnabled,expression:"isPluginEnabled"}],staticClass:"switch is-outlined",attrs:{id:t.id+"pluginEnabledSwitch",type:"checkbox",name:t.id+"pluginEnabledSwitch"},domProps:{checked:Array.isArray(t.isPluginEnabled)?t._i(t.isPluginEnabled,null)>-1:t.isPluginEnabled},on:{change:function(i){var s=t.isPluginEnabled,a=i.target,e=!!a.checked;if(Array.isArray(s)){var n=null,l=t._i(s,n);a.checked?l<0&&(t.isPluginEnabled=s.concat([n])):l>-1&&(t.isPluginEnabled=s.slice(0,l).concat(s.slice(l+1)))}else t.isPluginEnabled=e}}}),s("label",{attrs:{for:t.id+"pluginEnabledSwitch"}})])])]),s("td",[t.isOwned?s("div",{staticClass:"button is-outlined is-small is-primary",attrs:{title:"Manage plugin"},on:{click:function(i){return t.$emit("show-details",t.id)}}},[t._m(0)]):t._e(),t.isOwned?s("div",{staticClass:"button is-outlined is-small is-danger delete-btn",attrs:{title:"Delete plugin"},on:{click:function(i){return t.$emit("show-delete",t.id)}}},[t._m(1)]):t._e(),t.isOwned?t._e():s("div",{staticClass:"button is-outlined is-small is-primary",attrs:{title:"View plugin"},on:{click:function(i){return t.$emit("show-details",t.id)}}},[t._m(2)])])])},u=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-cog"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-trash"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-eye"})])}],r=s("0162"),c={name:"PluginListItem",mixins:[r["a"]],props:{id:{type:String,default:""},url:{type:String,default:""},isCurated:{type:Boolean,default:!1},isOwned:{type:Boolean,default:!1}},computed:{isPluginEnabled:{get:function(){return this.getIsPluginEnabled(this.id)},set:function(t){t?this.$emit("enable-plugin",this.id):this.$emit("disable-plugin",this.id)}}}},o=c,d=(s("39b2"),s("2877")),g=Object(d["a"])(o,l,u,!1,null,"3c4bcd9f",null),f=g.exports,h=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-3"},[s("nav",{class:t.panelClass},[s("p",{staticClass:"panel-heading"},[t._v(" Actions ")]),t.readOnly?s("div",{staticClass:"panel-block"},[s("div",{staticClass:"buttons is-fullwidth is-right"},[s("div",{staticClass:"button is-outlined is-primary",on:{click:function(i){return t.$emit("back")}}},[t._m(0),s("span",[t._v("back")])])])]):t._e(),t.readOnly?t._e():s("div",{staticClass:"panel-block"},[s("div",{staticClass:"button is-fullwidth is-outlined is-dark",on:{click:function(i){return t.$emit("cancel")}}},[t._m(1),s("span",[t._v("cancel")])])]),t.readOnly?t._e():s("div",{staticClass:"panel-block"},[s("div",{staticClass:"button is-fullwidth is-outlined is-primary",on:{click:t.validateCurrentPluginAndEmitSave}},[t._m(2),s("span",[t._v("save plugin")])])])])]),s("div",{staticClass:"column is-9"},[s("div",{staticClass:"section box px-4 py-4"},[s("h3",{staticClass:"is-size-3 title"},[t._v(" Plugin details ")]),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Location: ")]),t.readOnly?s("div",[t._v(" "+t._s(t.plugin.url)+" ")]):t._e(),t.readOnly?t._e():s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.plugin.url,expression:"plugin.url"}],staticClass:"input",attrs:{type:"url"},domProps:{value:t.plugin.url},on:{input:function(i){i.target.composing||t.$set(t.plugin,"url",i.target.value)}}})])]),t.pluginInvalid?s("div",{staticClass:"errorColor"},[s("p",[t._v("Plugin is invalid:")]),t.pluginUrlInvalid?s("p",[t._v(" *A valid URL is required for a plugin ")]):t._e()]):t._e()]),s("div",{staticClass:"section box px-4 py-4"},[s("h3",{staticClass:"is-size-3 title"},[t._v(" Manifest information ")]),s("div",{staticClass:"field"},[t.manifestRequestBusy?s("div",[t._m(3)]):t._e(),t.manifestRequestBusy?t._e():s("div",[t.manifestLoaded?t._e():s("div",{staticClass:"manifestNotLoaded"},[t._m(4),s("br"),s("div",{staticClass:"buttons is-fullwidth is-left"},[s("div",{staticClass:"button is-outlined is-primary",on:{click:t.loadManifestData}},[t._m(5),s("span",[t._v("load manifest data")])])])]),t.manifestLoaded?s("div",[t.manifestError?s("div",[s("p",{staticClass:"errorColor"},[s("i",{staticClass:"fa fa-exclamation-triangle is-primary"}),t._v(" Manifest load error: "+t._s(t.manifestData.error)+" ")]),s("br"),s("div",{staticClass:"buttons is-fullwidth is-left"},[s("div",{staticClass:"button is-outlined is-primary",on:{click:t.loadManifestData}},[t._m(6),s("span",[t._v("retry")])])])]):t._e(),t.manifestError?t._e():s("div",{staticClass:"columns is-centered is-multiline"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Name: ")]),s("div",[t._v(" "+t._s(t.manifestData.name)+" ")])])]),s("div",{staticClass:"column is-8"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Scope: ")]),s("div",[t._v(" "+t._s(t.manifestData.scope)+" ")])])]),s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Shortcuts: ")]),s("div",[s("table",{staticClass:"table is-hoverable is-fullwidth"},[t._m(7),s("tbody",t._l(t.manifestData.shortcuts,(function(i,a){return s("tr",{key:a},[s("td",[s("b",[t._v(t._s(i.launchName))])]),s("td",[t._v(" "+t._s(i.launchLocation)+" ")]),s("td",[t._v(" "+t._s(i.launchCategory)+" ")]),s("td",[t._v(" "+t._s(i.launchUrl)+" ")]),s("td",[s("ul",t._l(i.queryParams,(function(i){return s("li",{key:i},[t._v(" "+t._s(i.name)+"="+t._s(i.value)+" ")])})),0)])])})),0)])])])])])]):t._e()])])])])])])},p=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-arrow-left"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-arrow-left"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-save"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon is-large has-text-center has-text-link"},[s("i",{staticClass:"fas fa-2x fa-spinner is-info fa-pulse"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("p",[s("i",{staticClass:"fa fa-exclamation-triangle is-primary"}),t._v(" Manifest data not loaded")])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-sync-alt"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-sync-alt"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("thead",[s("tr",[s("th",[t._v(" name ")]),s("th",[t._v(" location ")]),s("th",[t._v(" category/screen ")]),s("th",[t._v(" url ")]),s("th",[t._v(" query params ")]),s("th")])])}],v={mixins:[r["a"]],name:"PluginDetails",props:{plugin:{type:Object},readOnly:{type:Boolean,default:!0}},data:function(){return{panelClass:"panel",manifestLoaded:!1,manifestError:!1,manifestRequestBusy:!1,manifestData:{},pluginInvalid:!1,pluginUrlInvalid:!1}},methods:{loadManifestDataComplete:function(){this.manifestData=this.pluginManifestData[this.plugin.url],this.manifestData.loaded||(this.manifestError=!0),this.manifestLoaded=!0,this.manifestRequestBusy=!1},loadManifestData:function(){if(this.isValidUrl(this.plugin.url)){this.manifestRequestBusy=!0;var t=[];t.push(this.plugin.url),this.loadManifestDataForPluginUrlList(t,this.loadManifestDataComplete)}else appLog("invalid URL")},validatePluginFields:function(){this.isValidUrl(this.plugin.url)||(this.pluginInvalid=!0,this.pluginUrlInvalid=!0)},validateCurrentPluginAndEmitSave:function(){this.pluginInvalid=!1,this.pluginUrlInvalid=!1,this.validatePluginFields(),this.pluginInvalid||this.$emit("save")}},computed:{},mounted:function(){}},m=v,_=(s("0cfa"),Object(d["a"])(m,h,p,!1,null,"645e5b53",null)),C=_.exports,b=s("6d79"),P=s("59b1"),w={mixins:[b["a"],r["a"],P["a"]],props:{view:{default:"",type:String}},name:"PluginManager",components:{PluginListItem:f,PluginDetails:C},data:function(){return{pluginManagerBusy:!1,pluginManagerViewMode:"list",currentPlugin:{},showConfirmDeletePluginModal:!1,pluginToDelete:{}}},computed:{currentPluginIsReadOnly:function(){return!this.currentPlugin||!this.currentPlugin.isOwned||!this.currentPlugin.isOwned}},methods:{showListView:function(){this.pluginManagerViewMode="list"},showDetailView:function(){this.pluginManagerViewMode="detail"},backFromEditCurrentPlugin:function(){this.showListView()},cancelEditCurrentPlugin:function(){this.buildManagerPluginList(),this.showListView()},saveCurrentPlugin:function(){this.pluginManagerBusy=!0,this.addLocalPlugin(this.currentPlugin.url),this.setPluginAsEnabled(this.currentPlugin.url),this.currentPlugin={},this.buildManagerPluginList(),this.showListView(),this.$store.commit("app/pluginLastUpdate",Date.now())},deletePlugin:function(){this.pluginManagerBusy=!0,this.setPluginAsDisabled(this.pluginToDelete.url),this.removeLocalPlugin(this.pluginToDelete.url),this.pluginToDelete={},this.showConfirmDeletePluginModal=!1,this.buildManagerPluginList(),this.$store.commit("app/pluginLastUpdate",Date.now())},cancelPluginDelete:function(){this.pluginToDelete={},this.showConfirmDeletePluginModal=!1},setPluginToDelete:function(t){this.pluginToDelete=this.getPluginById(t)},showPluginDelete:function(t){this.setPluginToDelete(t),this.showConfirmDeletePluginModal=!0},enablePlugin:function(t){this.setPluginAsEnabled(t),this.$store.commit("app/pluginLastUpdate",Date.now())},disablePlugin:function(t){this.setPluginAsDisabled(t),this.$store.commit("app/pluginLastUpdate",Date.now())},disableAllPlugins:function(){this.setAllPluginsAsDisabled(),this.buildManagerPluginList(),this.$store.commit("app/pluginLastUpdate",Date.now())},getPluginById:function(t){var i,s=Object(n["a"])(this.pluginList);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.id.equals(t))return a}}catch(e){s.e(e)}finally{s.f()}return null},setCurrentPlugin:function(t){this.currentPlugin=this.getPluginById(t)},showPluginDetails:function(t){this.setCurrentPlugin(t),this.showDetailView()},generateNewPluginObject:function(){var t={id:"newPluginId",url:"",isCurated:!1,isOwned:!0};return t},addNewPlugin:function(){this.currentPlugin=this.generateNewPluginObject(),this.showDetailView()},buildPluginListFinished:function(){this.pluginManagerBusy=!1},buildManagerPluginList:function(){this.pluginManagerBusy=!0,this.buildPluginList(this.buildPluginListFinished)}},updated:function(){},mounted:function(){this.buildManagerPluginList()}},y=w,D=(s("a0fe"),Object(d["a"])(y,a,e,!1,null,"63bd7296",null));i["default"]=D.exports},8766:function(t,i,s){},a0fe:function(t,i,s){"use strict";var a=s("a3c1"),e=s.n(a);e.a},a2c0:function(t,i,s){},a3c1:function(t,i,s){}}]);
//# sourceMappingURL=pluginManager.d440ce66.js.map