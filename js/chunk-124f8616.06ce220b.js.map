{"version":3,"sources":["webpack:///./src/components/modalContent/DeleteDirectoryConfirm.vue?af24","webpack:///./src/components/modalContent/DeleteDirectoryConfirm.vue?510f","webpack:///src/components/modalContent/DeleteDirectoryConfirm.vue","webpack:///./src/components/modalContent/DeleteDirectoryConfirm.vue?94e7","webpack:///./src/components/modalContent/DeleteDirectoryConfirm.vue","webpack:///./src/mixins/cassUtil.js","webpack:///./src/components/modalContent/ModalTemplate.vue?fb9b","webpack:///./src/components/modalContent/ModalTemplate.vue?5c89","webpack:///src/components/modalContent/ModalTemplate.vue","webpack:///./src/components/modalContent/ModalTemplate.vue?1175","webpack:///./src/components/modalContent/ModalTemplate.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","closeModal","slot","staticClass","_v","_s","directory","name","directives","rawName","value","expression","domProps","$event","target","composing","typedInName","deleteDirectory","staticRenderFns","component","cassUtil","data","methods","getOrganizationByEcPk","ecPkPem","ecPk","paramObj","EcOrganization","window","o","groupPpkSet","gPpk","successCallback","failureCallback","getOrganizationEcPk","orgObj","getPersonEcPk","personFingerprint","generateProbablePersonFingerprintFromShortId","personObj","pkPem","EcPk","addAllOwnersFromObjectToObject","fromObj","toObj","setDefaultBrowserConfigId","localStorage","removeDefaultBrowserConfig","getDefaultBrowserConfigId","getBooleanValue","val","addAllIdentityPksAsOwners","EcIdentityManager","i","obj","isObjectOwnerless","doesAnyIdentityOwnObject","personShortId","isPersonIdAnObjectOwner","ownerPkPem","ownerFingerprint","isPersonIdAnObjectReader","readerPkPem","readerFingerprint","areAnyIdentitiesThisPerson","isPersonalIdentityAnObjectOwner","personalIdentPkPem","getPersonalIdentityPk","buildEcAlignmentsFromRemoteLinkedData","ecaa","ecrld","eca","computed","amLoggedIn","class","active","size","content","type","fontColor","_t","$store","commit","$emit","_e"],"mappings":"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","file":"js/chunk-124f8616.06ce220b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteDirectoryConfirm.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteDirectoryConfirm.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-template',{attrs:{\"active\":true,\"type\":\"danger\"},on:{\"close\":_vm.closeModal}},[_c('template',{slot:\"modal-header\"},[_c('span',{staticClass:\"title has-text-white\"},[_vm._v(\" Are you sure? \")])]),_c('template',{slot:\"modal-body\"},[_c('h3',{staticClass:\"title is-size-4\"},[_c('span',{},[_vm._v(\"Delete the following directory\")])]),_c('p',{staticClass:\"py-2\"},[_vm._v(\" \"+_vm._s(_vm.directory.name)+\" \")]),_c('p',[_vm._v(\" You are about to delete the above directory. \"),_c('b',[_vm._v(\"This action is not reversable.\")]),_vm._v(\" Deleting this directory will delete all of its contents and make it unavailable to others who might be using it. \")]),_c('div',{staticClass:\"py-2\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"label\"},[_c('label',[_vm._v(\"Type the name of the directory to enable this action.\")])]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.typedInName),expression:\"typedInName\"}],staticClass:\"input\",domProps:{\"value\":(_vm.typedInName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.typedInName=$event.target.value}}})])])])]),_c('template',{slot:\"modal-foot\"},[_c('div',{staticClass:\"buttons is-spaced\"},[_c('button',{staticClass:\"button is-dark is-outlined\",on:{\"click\":_vm.closeModal}},[_vm._v(\" Cancel \")]),_c('button',{staticClass:\"button is-outlined is-danger\",attrs:{\"disabled\":_vm.typedInName !== _vm.directory.name},on:{\"click\":function($event){return _vm.deleteDirectory(_vm.directory)}}},[_vm._v(\" Delete Directory \")])])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <modal-template\n        :active=\"true\"\n        type=\"danger\"\n        @close=\"closeModal\">\n        <template slot=\"modal-header\">\n            <span class=\"title has-text-white\">\n                Are you sure?\n            </span>\n        </template>\n        <template slot=\"modal-body\">\n            <h3 class=\"title is-size-4\">\n                <span class=\"\">Delete the following directory</span>\n            </h3>\n            <p\n                class=\"py-2\">\n                {{ directory.name }}\n            </p>\n            <p>\n                You are about to delete the above directory. <b>This action is not reversable.</b>\n                Deleting this directory will delete all of its\n                contents and make it unavailable to others who might be using it.\n            </p>\n            <div class=\"py-2\">\n                <div class=\"field\">\n                    <div class=\"label\">\n                        <label>Type the name of the directory to enable this action.</label>\n                    </div>\n                    <div class=\"control\">\n                        <input\n                            v-model=\"typedInName\"\n                            class=\"input\">\n                    </div>\n                </div>\n            </div>\n        </template>\n        <template slot=\"modal-foot\">\n            <div class=\"buttons is-spaced\">\n                <button\n                    class=\"button is-dark is-outlined\"\n                    @click=\"closeModal\">\n                    Cancel\n                </button>\n                <button\n                    :disabled=\"typedInName !== directory.name\"\n                    class=\"button is-outlined is-danger\"\n                    @click=\"deleteDirectory(directory)\">\n                    Delete Directory\n                </button>\n            </div>\n        </template>\n    </modal-template>\n</template>\n\n<script>\nimport ModalTemplate from './ModalTemplate.vue';\n\nimport {cassUtil} from '../../mixins/cassUtil';\nimport common from '@/mixins/common.js';\n\nexport default {\n    mixins: [cassUtil, common],\n    name: 'DeleteDirectory',\n    components: {\n        ModalTemplate\n    },\n    data() {\n        return {\n            typedInName: '',\n            loggedInPersonEcPk: {},\n            commentToSave: {},\n            commentIsBusy: false,\n            numDirectories: 1,\n            repo: window.repo\n        };\n    },\n    methods: {\n        deleteDirectory: function(obj) {\n            appLog(\"deleting \" + obj.id);\n            var me = this;\n            this.repo.search(\"(directory:\\\"\" + obj.shortId() + \"\\\" OR parentDirectory:\\\"\" + obj.shortId() + \"\\\")\", function() {}, function(success) {\n                new EcAsyncHelper().each(success, function(obj, done) {\n                    if (obj.type === 'Framework') {\n                        me.deleteFramework(obj, done);\n                    } else if (obj.type === 'CreativeWork') {\n                        me.repo.deleteRegistered(obj, appLog, appError);\n                        done();\n                    } else if (obj.type === \"Directory\") {\n                        me.numDirectories++;\n                        me.deleteDirectory(obj);\n                        done();\n                    }\n                }, function(objs) {\n                    me.repo.deleteRegistered(obj, function(success) {\n                        appLog(success);\n                        me.numDirectories--;\n                        if (me.numDirectories === 0) {\n                            me.$store.dispatch('app/refreshDirectories');\n                            me.$store.commit('app/refreshSearch', true);\n                            if (me.$route.name !== \"frameworks\") {\n                                me.$router.push({name: \"frameworks\"});\n                            }\n                            me.$store.commit('app/rightAsideObject', null);\n                            me.$store.commit('app/closeRightAside');\n                            me.$store.commit('app/refreshSearch', true);\n                            me.$store.commit('app/closeModal');\n                        }\n                    }, function(error) {\n                        appError(error);\n                        me.numDirectories--;\n                        if (me.numDirectories === 0) {\n                            if (me.$route.name !== \"frameworks\") {\n                                me.$router.push({name: \"frameworks\"});\n                            }\n                            me.$store.commit('app/rightAsideObject', null);\n                            me.$store.commit('app/closeRightAside');\n                            me.$store.commit('app/refreshSearch', true);\n                            me.$store.commit('app/closeModal');\n                        }\n                    });\n                });\n            }, appError);\n        },\n        deleteFramework: function(framework, callback) {\n            let me = this;\n            this.repo.deleteRegistered(framework, function(success) {\n                me.spitEvent(\"frameworkDeleted\", framework.shortId(), \"directoryPage\");\n                // Delete the framework, delete all non-used stuff.\n                if (framework.competency != null) {\n                    for (var i = 0; i < framework.competency.length; i++) {\n                        me.conditionalDelete(framework.competency[i]);\n                    }\n                }\n                if (framework.relation != null) {\n                    for (var i = 0; i < framework.relation.length; i++) {\n                        me.conditionalDelete(framework.relation[i]);\n                    }\n                }\n                if (framework.level != null) {\n                    for (var i = 0; i < framework.level.length; i++) {\n                        me.conditionalDelete(framework.level[i]);\n                    }\n                }\n                callback();\n            }, appLog);\n        },\n        closeModal: function() {\n            this.$store.commit('app/closeModal');\n        }\n    },\n    computed: {\n        loggedInPerson: function() {\n            return this.$store.state.user.loggedOnPerson;\n        },\n        directory: function() {\n            return this.$store.getters['app/rightAsideObject'];\n        }\n    },\n    mounted: function() {\n    }\n};\n</script>\n\n<style lang=\"scss\">\n    @import './../../scss/variables.scss';\n\n    .comment-modal__details {\n        margin-left: 0rem;\n        .comment-modal__details__header {\n            font-size: 1rem;\n            font-weight: 500;\n        }\n        .comment-modal__details__framework {\n            font-size: 1rem;\n        }\n        .comment-modal__details__competency {\n            font-size: 1rem;\n            padding-bottom: .5rem;\n        }\n    }\n    .commentReply {\n        margin-top: 1rem;\n        margin-bottom: 1rem;\n        font-style: italic;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteDirectoryConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteDirectoryConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteDirectoryConfirm.vue?vue&type=template&id=350007fb&\"\nimport script from \"./DeleteDirectoryConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteDirectoryConfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DeleteDirectoryConfirm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const cassUtil = {\n    name: 'cassUtil',\n    data: () => ({\n    }),\n    methods: {\n        getOrganizationByEcPk(ecPk, successCallback, failureCallback) {\n            let ecPkPem = ecPk.toPem();\n            let paramObj = {};\n            paramObj.size = 10000;\n            EcOrganization.search(window.repo, '',\n                async function(ecoa) {\n                    for (let o of ecoa) {\n                        try {\n                            let groupPpkSet = await o.getOrgKeys();\n                            for (let gPpk of groupPpkSet) {\n                                if (gPpk && gPpk.toPk().toPem().equals(ecPkPem)) {\n                                    successCallback(o);\n                                    return;\n                                }\n                            }\n                        } catch (e) {\n                            // TODO Problem with EcOrganization update and creating encrypted value when only a reader...\n                            // Anticipated workaround....login as group owner and save it.\n                            // console.error(\"TODO...fix this...needs FRITZ input!!!!: \" + e.toString());\n                            failureCallback(e.toString());\n                        }\n                    }\n                    successCallback(null);\n                },\n                function(err) {\n                    failureCallback(err);\n                },\n                paramObj);\n        },\n        async getOrganizationEcPk(orgObj) {\n            try {\n                return (await orgObj.getCurrentOrgKey()).toPk();\n                // let orgEvPpk = new EcEncryptedValue();\n                // orgEvPpk.copyFrom(orgObj[this.GROUP_PPK_KEY]);\n                // let orgPpk = EcPpk.fromPem(orgEvPpk.decryptIntoString());\n                // return orgPpk.toPk();\n            } catch (e) {\n                // TODO Problem with EcOrganization update and creating encrypted value when only a reader...\n                // Anticipated workaround....login as group owner and save it.\n                return null;\n            }\n        },\n        getPersonEcPk(personObj) {\n            let personFingerprint = this.generateProbablePersonFingerprintFromShortId(personObj.shortId());\n            if (personObj.owner) {\n                for (let pkPem of personObj.owner) {\n                    let ecPk = EcPk.fromPem(pkPem);\n                    if (personFingerprint.equals(ecPk.fingerprint())) return ecPk;\n                }\n            }\n            return null;\n        },\n        addAllOwnersFromObjectToObject(fromObj, toObj) {\n            if (fromObj && fromObj.owner) {\n                for (let pkPem of fromObj.owner) {\n                    let ecPk = EcPk.fromPem(pkPem);\n                    toObj.addOwner(ecPk);\n                }\n            }\n        },\n        setDefaultBrowserConfigId(configId) {\n            localStorage.setItem(\"cassAuthoringToolDefaultBrowserConfigId\", configId);\n        },\n        removeDefaultBrowserConfig() {\n            localStorage.removeItem(\"cassAuthoringToolDefaultBrowserConfigId\");\n        },\n        getDefaultBrowserConfigId() {\n            return localStorage.getItem(\"cassAuthoringToolDefaultBrowserConfigId\");\n        },\n        getBooleanValue(val) {\n            if (typeof val === 'boolean') return val;\n            else if (typeof val === 'string') {\n                if (val.equalsIgnoreCase('true')) return true;\n                else return false;\n            } else return false;\n        },\n        addAllIdentityPksAsOwners(obj) {\n            // let isEcrld = (obj instanceOf EcRemoteLinkedData);\n            if (EcIdentityManager && EcIdentityManager.default.ids && EcIdentityManager.default.ids.length > 0) {\n                for (let i = 0; i < EcIdentityManager.default.ids.length; i++) {\n                    obj.addOwner(EcIdentityManager.default.ids[i].ppk.toPk());\n                }\n            }\n        },\n        isObjectOwnerless(obj) {\n            if (!obj.owner || obj.owner.length === 0) return true;\n            else return false;\n        },\n        doesAnyIdentityOwnObject(obj) {\n            if (!EcIdentityManager || !EcIdentityManager.default.ids || EcIdentityManager.default.ids.length <= 0) return false;\n            else {\n                for (let i = 0; i < EcIdentityManager.default.ids.length; i++) {\n                    if (obj.hasOwner(EcIdentityManager.default.ids[i].ppk.toPk())) return true;\n                }\n                return false;\n            }\n        },\n        generateProbablePersonFingerprintFromShortId(personShortId) {\n            return personShortId.substring(personShortId.lastIndexOf(\"/\") + 1);\n        },\n        isPersonIdAnObjectOwner(personShortId, obj) {\n            if (!obj.owner || obj.owner.length === 0) return false;\n            let personFingerprint = this.generateProbablePersonFingerprintFromShortId(personShortId);\n            for (let ownerPkPem of obj.owner) {\n                let ownerFingerprint = EcPk.fromPem(ownerPkPem).fingerprint();\n                if (ownerFingerprint.equals(personFingerprint)) return true;\n            }\n            return false;\n        },\n        isPersonIdAnObjectReader(personShortId, obj) {\n            if (!obj.reader || obj.reader.length === 0) return false;\n            let personFingerprint = this.generateProbablePersonFingerprintFromShortId(personShortId);\n            for (let readerPkPem of obj.reader) {\n                let readerFingerprint = EcPk.fromPem(readerPkPem).fingerprint();\n                if (readerFingerprint.equals(personFingerprint)) return true;\n            }\n            // return obj.hasReader(EcPk.fromPem(pkPem));\n            return false;\n        },\n        areAnyIdentitiesThisPerson(personObj) {\n            let personFingerprint = personObj.getFingerprint();\n            if (EcIdentityManager && EcIdentityManager.default.ids && EcIdentityManager.default.ids.length > 0) {\n                for (let i = 0; i < EcIdentityManager.default.ids.length; i++) {\n                    if (EcIdentityManager.default.ids[i].ppk.toPk().fingerprint().equals(personFingerprint)) return true;\n                }\n            }\n            return false;\n        },\n        isPersonalIdentityAnObjectOwner(obj) {\n            if (!obj.owner || obj.owner.length === 0) return false;\n            let personalIdentPkPem = this.getPersonalIdentityPk().toPem();\n            return obj.owner.includes(personalIdentPkPem);\n        },\n        getPersonalIdentityPk() {\n            // assuming that the first identity is the user's personal identity\n            if (EcIdentityManager && EcIdentityManager.default.ids && EcIdentityManager.default.ids.length > 0) {\n                return EcIdentityManager.default.ids[0].ppk.toPk();\n            } else return null;\n        },\n        buildEcAlignmentsFromRemoteLinkedData(ecrlda) {\n            let ecaa = [];\n            for (let ecrld of ecrlda) {\n                let eca = new EcAlignment();\n                eca.copyFrom(ecrld);\n                ecaa.push(eca);\n            }\n            return ecaa;\n        }\n    },\n    computed: {\n        amLoggedIn: function() {\n            if (EcIdentityManager && EcIdentityManager.default.ids && EcIdentityManager.default.ids.length > 0) return true;\n            else return false;\n        }\n    }\n};\n\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal cass-editor___modal\",class:[{'is-active': _vm.active}, 'is-' + _vm.size, 'cass-editor__modal--' + _vm.content],attrs:{\"id\":\"cass-modal\"}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-card\",class:'cass-editor__modal-card--' + _vm.size},[_c('header',{staticClass:\"modal-card-head is-size-4 has-text-weight-bold\",class:['has-background-' + _vm.type, 'has-text-' + _vm.fontColor ]},[_c('p',{staticClass:\"modal-card-title\"},[_vm._t(\"modal-header\")],2),(_vm.canClose)?_c('button',{staticClass:\"delete\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){_vm.$store.commit('app/closeModal'); _vm.$emit('close')}}}):_vm._e()]),_c('div',{staticClass:\"modal-card-body has-text-dark\"},[_vm._t(\"modal-body\")],2),_c('footer',{staticClass:\"modal-card-foot has-background-white\"},[_vm._t(\"modal-foot\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nThe modal template can be used to stylize any modal.\n\nModals that can be triggered from anywhere in the app\nshould be componetized and imported into the DynamicModal.vue\nSo they can be triggered from anywhere in the app using the store/app\n\nModals that are only used in one screen (info on very specific content)\nshould be componentized and imported into the screen that needs it.\n-->\n<template>\n    <div\n        class=\"modal cass-editor___modal\"\n        id=\"cass-modal\"\n        :class=\"[{'is-active': active}, 'is-' + size, 'cass-editor__modal--' + content]\">\n        <div class=\"modal-background\" />\n        <div\n            class=\"modal-card\"\n            :class=\"'cass-editor__modal-card--' + size\">\n            <header\n                class=\"modal-card-head is-size-4 has-text-weight-bold\"\n                :class=\"['has-background-' + type, 'has-text-' + fontColor, ]\">\n                <p class=\"modal-card-title\">\n                    <slot name=\"modal-header\" />\n                </p>\n                <button\n                    v-if=\"canClose\"\n                    class=\"delete\"\n                    @click=\"$store.commit('app/closeModal'); $emit('close')\"\n                    aria-label=\"close\" />\n            </header>\n            <div class=\"modal-card-body has-text-dark\">\n                <slot name=\"modal-body\" />\n            </div>\n            <footer class=\"modal-card-foot has-background-white\">\n                <slot name=\"modal-foot\" />\n            </footer>\n        </div>\n    </div>\n</template>\n\n<script>\nimport '@/scss/modal-template.scss';\nexport default {\n    name: 'ModalTemplate',\n    props: {\n        canClose: {\n            type: Boolean,\n            default: true\n        },\n        active: {\n            type: Boolean,\n            default: false\n        },\n        type: {\n            default: 'primary',\n            type: String\n        },\n        fontColor: {\n            type: String,\n            default: 'white'\n        },\n        size: {\n            type: String,\n            default: 'medium'\n        },\n        content: {\n            defualt: 'default',\n            type: String\n        }\n    },\n    data() {\n        return {\n        };\n    },\n    computed: {\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.cass-editor___modal{\n    z-index: 1000;\n}\n.modal-card.cass-editor__modal-card--small{\n    max-width: 600px;\n    min-height: 200px;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalTemplate.vue?vue&type=template&id=1c4e04a7&\"\nimport script from \"./ModalTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalTemplate.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}