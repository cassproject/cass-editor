{"version":3,"sources":["webpack:///./src/views/framework/Framework.vue?b922","webpack:///./src/views/framework/Framework.vue?baa2","webpack:///src/views/framework/Framework.vue","webpack:///./src/views/framework/Framework.vue?c10e","webpack:///./src/views/framework/Framework.vue","webpack:///./src/mixins/competencyEdits.js","webpack:///./src/mixins/getLevelsAndRelations.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","showRightAside","slot","properties","on","onOpenExportModal","changeProperties","staticClass","_b","canEdit","name","model","value","callback","$$v","frameworkDrag","expression","dragOptions","dynamicThingComponent","tag","class","parentObjectClass","framework","shortId","split","pop","repo","newFramework","queryParams","view","frameworkProfile","deleteObject","removeObject","$event","onEditNode","onDoneEditingNode","scopedSlots","_u","key","fn","competency","length","_v","_s","_e","Date","timestamp","lastModified","$moment","format","proxy","hierarchyIsdoneLoading","competencyExportOptions","highlightCompetency","competencyProfile","onEditMultiple","exportObject","handleSearch","onSelectButtonClick","selectedArrayEvent","preloadRelations","staticRenderFns","component","methods","thing","appLog","id","me","thisFramework","$store","getters","initialCompetencies","slice","initialRelations","relation","initialLevels","level","toISOString","removeCompetency","commit","operation","fieldChanged","initialValue","state","editor","private","EcEncryptedValue","encryptOnSaveMap","f","toEncryptedValue","saveTo","appError","deleteRegistered","success","spitEvent","i","conditionalDelete","importType","$router","push","removeLevel","obj","changedValue","frameworkToSave","data","levels","relations","alignments","watch","refreshLevels","updateLevels","relationArray","updateRelations","refreshAlignments","updateAlignments","computed","importFramework","EcAsyncHelper","each","levelId","done","EcLevel","get","comp","EcArray","isArray","j","levelIds","relationId","EcAlignment","a","source","target","relationType","reciprocalRelation","ceasnDataFields","indexOf","type","reciprocal","relationIds","relationObject","compId","search","searchWithParams","size","resources","resourceType","educationalAlignment","alignmentType","url","compIds"],"mappings":"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","file":"js/framework.f3065c09.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Framework.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Framework.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"framework\"}},[_c('main-layout',{attrs:{\"rightActive\":_vm.showRightAside,\"simple\":true}},[_c('template',{slot:\"top\"},[_c('FrameworkEditorToolbar',{attrs:{\"properties\":_vm.properties},on:{\"show-export-modal\":_vm.onOpenExportModal,\"change-properties\":_vm.changeProperties}})],1),_c('template',{slot:\"body\"},[_c('div',{staticClass:\"framework-content\",attrs:{\"id\":\"framework-content\"}},[_c('div',{staticClass:\"framework-body columns is-multiline is-gapless is-paddingless is-marginless\"},[_c('div',{staticClass:\"column is-12\"},[_c('div',{staticClass:\"container is-paddingless\"},[_c('draggable',_vm._b({attrs:{\"tag\":\"div\",\"id\":\"framework_drag\",\"disabled\":_vm.canEdit !== true,\"group\":{ name: 'test' },\"handle\":\".handle\"},model:{value:(_vm.frameworkDrag),callback:function ($$v) {_vm.frameworkDrag=$$v},expression:\"frameworkDrag\"}},'draggable',_vm.dragOptions,false),[_c(_vm.dynamicThingComponent,{tag:\"Component\",class:[_vm.dynamicThingComponent === 'Thing' ? _vm.parentObjectClass: ''],attrs:{\"id\":'scroll-' + _vm.framework.shortId().split('/').pop(),\"obj\":_vm.framework,\"repo\":_vm.repo,\"newFramework\":_vm.newFramework,\"parentNotEditable\":_vm.queryParams.view==='true',\"profile\":_vm.frameworkProfile,\"properties\":_vm.properties},on:{\"delete-object\":_vm.deleteObject,\"remove-object\":_vm.removeObject,\"edit-node-event\":function($event){return _vm.onEditNode()},\"done-editing-node-event\":function($event){return _vm.onDoneEditingNode()}},scopedSlots:_vm._u([{key:\"frameworkDetails\",fn:function(){return [_c('div',{staticClass:\"lode__framework__info-bar\"},[(_vm.framework.competency && _vm.framework.competency.length == 1)?_c('span',{staticClass:\"tag is-medium-grey has-text-dark\"},[_vm._v(\" \"+_vm._s(_vm.framework.competency.length)+\" item \")]):(_vm.framework.competency && _vm.framework.competency.length > 1)?_c('span',{staticClass:\"tag is-medium-grey has-text-dark\"},[_vm._v(\" \"+_vm._s(_vm.framework.competency.length)+\" items \")]):_vm._e(),(_vm.timestamp)?_c('span',{staticClass:\"tag is-medium-grey has-text-dark\",attrs:{\"title\":new Date(_vm.timestamp)}},[_vm._v(\" Last modified \"+_vm._s(_vm.lastModified)+\" \")]):_vm._e(),(_vm.framework['schema:dateCreated'])?_c('span',{staticClass:\"tag is-medium-grey has-text-dark\",attrs:{\"title\":new Date(_vm.framework['schema:dateCreated'])}},[_vm._v(\" Created \"+_vm._s(_vm.$moment(_vm.framework['schema:dateCreated']).format(\"MMM D YYYY\"))+\" \")]):_vm._e(),(_vm.framework['Approved'])?_c('span',{staticClass:\"tag is-medium-grey has-text-dark\",attrs:{\"title\":_vm.framework['Approved']}},[_vm._v(\" Approved \")]):_vm._e(),(_vm.framework['Published'])?_c('span',{staticClass:\"tag is-medium-grey has-text-dark\",attrs:{\"title\":_vm.framework['Published']}},[_vm._v(\"Published\")]):_vm._e()])]},proxy:true}])})],1),(!_vm.hierarchyIsdoneLoading)?_c('div',{staticClass:\"section\"},[_c('ul',{staticClass:\"processing-list\"},[_c('li'),_c('li'),_c('ul',[_c('li'),_c('li'),_c('li'),_c('ul',[_c('li'),_c('li'),_c('li'),_c('ul',[_c('li'),_c('li')])])]),_c('li'),_c('li'),_c('ul',[_c('li'),_c('li')])])]):_vm._e(),_c('Hierarchy',{class:{'is-hidden': !_vm.hierarchyIsdoneLoading},attrs:{\"container\":_vm.framework,\"containerType\":\"Framework\",\"containerTypeGet\":\"EcFramework\",\"containerNodeProperty\":\"competency\",\"containerEdgeProperty\":\"relation\",\"nodeType\":\"EcCompetency\",\"edgeType\":\"EcAlignment\",\"edgeRelationProperty\":\"relationType\",\"edgeRelationLiteral\":\"narrows\",\"edgeSourceProperty\":\"source\",\"edgeTargetProperty\":\"target\",\"viewOnly\":_vm.queryParams.view === 'true',\"repo\":_vm.repo,\"exportOptions\":_vm.competencyExportOptions,\"highlightList\":_vm.highlightCompetency,\"profile\":_vm.competencyProfile,\"newFramework\":_vm.newFramework,\"properties\":_vm.properties},on:{\"delete-object\":_vm.deleteObject,\"edit-multiple-event\":_vm.onEditMultiple,\"remove-object\":_vm.removeObject,\"export-object\":_vm.exportObject,\"search-things\":function($event){return _vm.handleSearch($event)},\"select-button-click\":_vm.onSelectButtonClick,\"selected-array\":_vm.selectedArrayEvent,\"done-loading-nodes\":_vm.preloadRelations}})],1)])])])]),_c('template',{slot:\"right\"},[(_vm.showRightAside)?_c('RightAside'):_vm._e()],1),(_vm.scrolled)?_c('div',{staticClass:\"extra-space-for-scroll\"}):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"framework\">\r\n        <main-layout\r\n            :rightActive=\"showRightAside\"\r\n            :simple=\"true\">\r\n            <!-- begin framework -->\r\n            <template slot=\"top\">\r\n                <FrameworkEditorToolbar\r\n                    :properties=\"properties\"\r\n                    @show-export-modal=\"onOpenExportModal\"\r\n                    @change-properties=\"changeProperties\" />\r\n            </template>\r\n            <template slot=\"body\">\r\n                <div\r\n                    class=\"framework-content\"\r\n                    id=\"framework-content\">\r\n                    <div class=\"framework-body columns is-multiline is-gapless is-paddingless is-marginless\">\r\n                        <div class=\"column is-12\">\r\n                            <!-- loading section -- dummy content to show while loading dome elemnts -->\r\n                            <div\r\n                                class=\"container is-paddingless\">\r\n                                <draggable\r\n                                    v-bind=\"dragOptions\"\r\n                                    v-model=\"frameworkDrag\"\r\n                                    tag=\"div\"\r\n                                    id=\"framework_drag\"\r\n                                    :disabled=\"canEdit !== true\"\r\n                                    :group=\"{ name: 'test' }\"\r\n                                    handle=\".handle\">\r\n                                    <Component\r\n                                        :class=\"[dynamicThingComponent === 'Thing' ? parentObjectClass: '']\"\r\n                                        :is=\"dynamicThingComponent\"\r\n                                        :id=\"'scroll-' + framework.shortId().split('/').pop()\"\r\n                                        :obj=\"framework\"\r\n                                        :repo=\"repo\"\r\n                                        :newFramework=\"newFramework\"\r\n                                        :parentNotEditable=\"queryParams.view==='true'\"\r\n                                        :profile=\"frameworkProfile\"\r\n                                        @delete-object=\"deleteObject\"\r\n                                        @remove-object=\"removeObject\"\r\n                                        @edit-node-event=\"onEditNode()\"\r\n                                        @done-editing-node-event=\"onDoneEditingNode()\"\r\n                                        :properties=\"properties\">\r\n                                        <template #frameworkDetails>\r\n                                            <div class=\"lode__framework__info-bar\">\r\n                                                <span\r\n                                                    class=\"tag is-medium-grey has-text-dark\"\r\n                                                    v-if=\"framework.competency && framework.competency.length == 1\">\r\n                                                    {{ framework.competency.length }} item\r\n                                                </span>\r\n                                                <span\r\n                                                    class=\"tag is-medium-grey has-text-dark\"\r\n                                                    v-else-if=\"framework.competency && framework.competency.length > 1\">\r\n                                                    {{ framework.competency.length }} items\r\n                                                </span>\r\n                                                <span\r\n                                                    class=\"tag is-medium-grey has-text-dark\"\r\n                                                    v-if=\"timestamp\"\r\n                                                    :title=\"new Date(timestamp)\">\r\n                                                    Last modified {{ lastModified }}\r\n                                                </span>\r\n                                                <span\r\n                                                    class=\"tag is-medium-grey has-text-dark\"\r\n                                                    v-if=\"framework['schema:dateCreated']\"\r\n                                                    :title=\"new Date(framework['schema:dateCreated'])\">\r\n                                                    Created {{ $moment(framework['schema:dateCreated']).format(\"MMM D YYYY\") }}\r\n                                                </span>\r\n                                                <span\r\n                                                    class=\"tag is-medium-grey has-text-dark\"\r\n                                                    v-if=\"framework['Approved']\"\r\n                                                    :title=\"framework['Approved']\">\r\n                                                    Approved\r\n                                                </span>\r\n                                                <span\r\n                                                    class=\"tag is-medium-grey has-text-dark\"\r\n                                                    v-if=\"framework['Published']\"\r\n                                                    :title=\"framework['Published']\">Published</span>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Component>\r\n                                </draggable>\r\n                                <div\r\n                                    class=\"section\"\r\n                                    v-if=\"!hierarchyIsdoneLoading\">\r\n                                    <ul class=\"processing-list\">\r\n                                        <li />\r\n                                        <li />\r\n                                        <ul>\r\n                                            <li />\r\n                                            <li />\r\n                                            <li />\r\n                                            <ul>\r\n                                                <li />\r\n                                                <li />\r\n                                                <li />\r\n                                                <ul>\r\n                                                    <li />\r\n                                                    <li />\r\n                                                </ul>\r\n                                            </ul>\r\n                                        </ul>\r\n                                        <li />\r\n                                        <li />\r\n                                        <ul>\r\n                                            <li />\r\n                                            <li />\r\n                                        </ul>\r\n                                    </ul>\r\n                                </div>\r\n                                <Hierarchy\r\n                                    :class=\"{'is-hidden': !hierarchyIsdoneLoading}\"\r\n                                    :container=\"framework\"\r\n                                    containerType=\"Framework\"\r\n                                    containerTypeGet=\"EcFramework\"\r\n                                    containerNodeProperty=\"competency\"\r\n                                    containerEdgeProperty=\"relation\"\r\n                                    nodeType=\"EcCompetency\"\r\n                                    edgeType=\"EcAlignment\"\r\n                                    edgeRelationProperty=\"relationType\"\r\n                                    edgeRelationLiteral=\"narrows\"\r\n                                    edgeSourceProperty=\"source\"\r\n                                    edgeTargetProperty=\"target\"\r\n                                    :viewOnly=\"queryParams.view === 'true'\"\r\n                                    :repo=\"repo\"\r\n                                    :exportOptions=\"competencyExportOptions\"\r\n                                    :highlightList=\"highlightCompetency\"\r\n                                    :profile=\"competencyProfile\"\r\n                                    :newFramework=\"newFramework\"\r\n                                    @delete-object=\"deleteObject\"\r\n                                    @edit-multiple-event=\"onEditMultiple\"\r\n                                    @remove-object=\"removeObject\"\r\n                                    @export-object=\"exportObject\"\r\n                                    @search-things=\"handleSearch($event)\"\r\n                                    @select-button-click=\"onSelectButtonClick\"\r\n                                    :properties=\"properties\"\r\n                                    @selected-array=\"selectedArrayEvent\"\r\n                                    @done-loading-nodes=\"preloadRelations\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n            <template slot=\"right\">\r\n                <RightAside v-if=\"showRightAside\" />\r\n            </template>\r\n            <div\r\n                v-if=\"scrolled\"\r\n                class=\"extra-space-for-scroll\" />\r\n        </main-layout>\r\n    </div>\r\n</template>\r\n<script>\r\nimport MainLayout from '@/layouts/MainLayout.vue';\r\nimport common from '@/mixins/common.js';\r\nimport getLevelsAndRelations from '@/mixins/getLevelsAndRelations.js';\r\nimport exports from '@/mixins/exports.js';\r\nimport competencyEdits from '@/mixins/competencyEdits.js';\r\nimport ctdlasnProfile from '@/mixins/ctdlasnProfile.js';\r\nimport t3Profile from '@/mixins/t3Profile.js';\r\nimport tlaProfile from '@/mixins/tlaProfile.js';\r\nimport saveAs from 'file-saver';\r\nimport debounce from 'lodash/debounce';\r\n\r\nexport default {\r\n    name: \"Framework\",\r\n    props: {\r\n        profileOverride: Object\r\n    },\r\n    components: {\r\n        MainLayout,\r\n        FrameworkButtons: () => import('@/components/FrameworkButtons.vue'),\r\n        Hierarchy: () => import('@/lode/components/lode/Hierarchy.vue'),\r\n        Thing: () => import('@/lode/components/lode/Thing.vue'),\r\n        ThingEditing: () => import('@/lode/components/lode/ThingEditing.vue'),\r\n        FrameworkEditorToolbar: () => import('@/components/framework/EditorToolbar.vue'),\r\n        RightAside: () => import('@/components/framework/RightAside.vue'),\r\n        draggable: () => import('vuedraggable')\r\n    },\r\n    mixins: [common, exports, competencyEdits, ctdlasnProfile, t3Profile, tlaProfile, getLevelsAndRelations],\r\n    data: function() {\r\n        return {\r\n            scrolled: false,\r\n            hierarchyIsdoneLoading: false,\r\n            parentObjectClass: 'parent-object',\r\n            showVersionHistory: false,\r\n            showEditMultiple: false,\r\n            showClipboardSuccessModal: false,\r\n            showComments: false,\r\n            repo: window.repo,\r\n            frameworkExportLink: null,\r\n            frameworkExportGuid: null,\r\n            competencyExportOptions: [\r\n                {name: \"CASS (JSON-LD)\", value: \"jsonld\"},\r\n                {name: \"CASS (RDF Quads)\", value: \"rdfQuads\"},\r\n                {name: \"CASS (RDF+JSON)\", value: \"rdfJson\"},\r\n                {name: \"CASS (RDF+XML)\", value: \"rdfXml\"},\r\n                {name: \"CASS (Turtle)\", value: \"turtle\"},\r\n                {name: \"Credential Engine ASN (JSON-LD)\", value: \"ctdlasnJsonld\"},\r\n                {name: \"IMS Global CASE (JSON)\", value: \"case\"}\r\n            ],\r\n            frameworkExportOptions: [\r\n                {name: \"Achievement Standards Network (RDF+JSON)\", value: \"asn\"},\r\n                {name: \"CASS (JSON-LD)\", value: \"jsonld\"},\r\n                {name: \"CaSS (RDF Quads)\", value: \"rdfQuads\"},\r\n                {name: \"CaSS (RDF+JSON)\", value: \"rdfJson\"},\r\n                {name: \"CaSS (RDF+XML)\", value: \"rdfXml\"},\r\n                {name: \"CaSS (Turtle)\", value: \"turtle\"},\r\n                {name: \"Credential Engine ASN (JSON-LD)\", value: \"ctdlasnJsonld\"},\r\n                {name: \"Credential Engine ASN (CSV)\", value: \"ctdlasnCsv\"},\r\n                {name: \"Table (CSV)\", value: \"csv\"},\r\n                {name: \"IMS Global CASE (JSON)\", value: \"case\"}\r\n            ],\r\n            highlightCompetency: null,\r\n            editingFramework: false,\r\n            properties: \"primary\",\r\n            config: null,\r\n            selectedArray: [],\r\n            configSetOnFramework: false,\r\n            gotInitialLevelsRelationsAndAlignments: false,\r\n            dragOptions: {\r\n                scroll: true,\r\n                delay: 0,\r\n                swapThreshold: 0.25,\r\n                emptyInsertThreshold: 4,\r\n                invertedSwapThreshold: 0.25,\r\n                invertSwap: true,\r\n                disabled: false,\r\n                animation: 0,\r\n                ghostClass: 'ghost-drag',\r\n                chosenClass: 'chosen-drag',\r\n                dragClass: 'drag',\r\n                scrollSensitivity: 30,\r\n                scrollSpeed: 5,\r\n                forceFallback: true\r\n            },\r\n            frameworkDrag: [],\r\n            configHasAlignments: false,\r\n            configHasLevels: false\r\n        };\r\n    },\r\n    computed: {\r\n        newFramework: function() {\r\n            return this.$store.getters['editor/newFramework'] === this.framework.shortId();\r\n        },\r\n        queryParams: function() {\r\n            return this.$store.getters['editor/queryParams'];\r\n        },\r\n        showRightAside: function() {\r\n            return this.$store.getters['app/showRightAside'];\r\n        },\r\n        dynamicThingComponent: function() {\r\n            if (this.editingFramework || (this.framework && this.$store.getters['editor/newFramework'] === this.framework.shortId())) {\r\n                return 'ThingEditing';\r\n            } else {\r\n                return 'Thing';\r\n            }\r\n        },\r\n        framework: function() {\r\n            return this.$store.getters['editor/framework'];\r\n        },\r\n        timestamp: function() {\r\n            if (this.framework.getTimestamp()) {\r\n                return this.framework.getTimestamp();\r\n            } else if (this.framework[\"schema:dateModified\"]) {\r\n                return this.framework[\"schema:dateModified\"];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n        lastModified: function() {\r\n            if (this.framework == null) return \"Unknown.\";\r\n            if (this.timestamp) {\r\n                return this.$moment(this.timestamp).format(\"MMM D YYYY\");\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n        shortId: function() {\r\n            if (this.framework) {\r\n                return this.framework.shortId();\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n        loggedIn: function() {\r\n            if (EcIdentityManager.ids && EcIdentityManager.ids.length > 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        commentScrollTo: function() {\r\n            return this.$store.getters['editor/commentScrollTo'];\r\n        },\r\n        frameworkProfile: function() {\r\n            if (this.$store.state.editor.t3Profile === true) {\r\n                return this.t3FrameworkProfile;\r\n            }\r\n            if (this.queryParams.ceasnDataFields === \"true\" && ((this.config && !this.configSetOnFramework) || !this.config)) {\r\n                return this.ctdlAsnFrameworkProfile;\r\n            }\r\n            if (this.queryParams.tlaProfile === \"true\" && ((this.config && !this.configSetOnFramework) || !this.config)) {\r\n                return this.tlaFrameworkProfile;\r\n            }\r\n            if (this.config) {\r\n                return this.config.frameworkConfig;\r\n            }\r\n            return {\r\n                \"http://schema.org/name\": {\r\n                    \"@id\": \"http://schema.org/name\",\r\n                    \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                    \"http://schema.org/domainIncludes\":\r\n                    [{\"@id\": \"https://schema.cassproject.org/0.4/Framework\"}],\r\n                    \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://www.w3.org/2000/01/rdf-schema#langString\"}],\r\n                    \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                    [{\"@language\": \"en\", \"@value\": \"The name of the framework. One name per language.\"}],\r\n                    \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Framework Name\"}],\r\n                    \"heading\": \"General\",\r\n                    \"isRequired\": \"true\",\r\n                    \"onePerLanguage\": \"true\"\r\n                },\r\n                \"http://schema.org/description\": {\r\n                    \"@id\": \"http://schema.org/description\",\r\n                    \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                    \"http://schema.org/domainIncludes\":\r\n                    [{\"@id\": \"https://schema.cassproject.org/0.4/Framework\"}],\r\n                    \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://www.w3.org/2000/01/rdf-schema#langString\"}],\r\n                    \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                    [{\"@language\": \"en\", \"@value\": \"The description of the framework. One description per language\"}],\r\n                    \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Description\"}],\r\n                    \"heading\": \"General\",\r\n                    \"onePerLanguage\": \"true\"\r\n                },\r\n                \"@id\": {\r\n                    \"@id\": \"https://schema.cassproject.org/0.4/Framework/id\",\r\n                    \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                    \"http://schema.org/domainIncludes\":\r\n                    [{\"@id\": \"https://schema.cassproject.org/0.4/Framework\"}],\r\n                    \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://schema.org/URL\"}],\r\n                    \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                    [{\"@language\": \"en\", \"@value\": \"The URL of the framework.\"}],\r\n                    \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Framework URL\"}],\r\n                    \"readOnly\": \"true\",\r\n                    \"max\": 1,\r\n                    \"heading\": \"Keys\"\r\n                },\r\n                \"headings\": [\"General\", \"Keys\"],\r\n                \"primaryProperties\": [\r\n                    \"http://schema.org/name\",\r\n                    \"http://schema.org/description\"\r\n                ],\r\n                \"secondaryProperties\": [\"@id\"],\r\n                \"tertiaryProperties\": []\r\n            };\r\n        },\r\n        competencyProfile: function() {\r\n            if (this.$store.state.editor.t3Profile === true) {\r\n                return this.t3CompetencyProfile;\r\n            }\r\n            if (this.queryParams.ceasnDataFields === \"true\" && ((this.config && !this.configSetOnFramework) || !this.config)) {\r\n                return this.ctdlAsnCompetencyProfile;\r\n            }\r\n            if (this.queryParams.tlaProfile === \"true\" && ((this.config && !this.configSetOnFramework) || !this.config)) {\r\n                return this.tlaCompetencyProfile;\r\n            }\r\n            if (this.config) {\r\n                var profile = JSON.parse(JSON.stringify(this.config.competencyConfig));\r\n                var compKeys = EcObject.keys(profile);\r\n                for (var i = 0; i < compKeys.length; i++) {\r\n                    let key = compKeys[i];\r\n                    if (profile[key] && profile[key][\"http://schema.org/rangeIncludes\"] && profile[key][\"http://schema.org/rangeIncludes\"][0][\"@id\"] === \"https://schema.cassproject.org/0.4/skos/Concept\") {\r\n                        profile[key][\"noTextEditing\"] = 'true';\r\n                    }\r\n                }\r\n                if (this.config.levelsConfig) {\r\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n                    this.configHasLevels = true;\r\n                    var me = this;\r\n                    var key = EcObject.keys(this.config.levelsConfig);\r\n                    key = key[0];\r\n                    profile.secondaryProperties.push(key);\r\n                    profile[key] = JSON.parse(JSON.stringify(this.config.levelsConfig[key]));\r\n                    profile[key][\"http://schema.org/rangeIncludes\"] = [{\"@id\": \"https://schema.cassproject.org/0.4/Level\"}];\r\n                    profile[key][\"valuesIndexed\"] = function() { return me.levels; };\r\n                    if (!profile[key][\"options\"]) {\r\n                        profile[key][\"noTextEditing\"] = 'true';\r\n                        profile[key][\"add\"] = function(selectedCompetency, levelId) { me.addLevel(selectedCompetency, levelId); };\r\n                        profile[key][\"save\"] = function() { me.saveFramework(); };\r\n                        profile[key][\"remove\"] = function(competency, levelId) { me.removeLevelFromFramework(levelId); };\r\n                    } else {\r\n                        profile[key][\"add\"] = \"checkedOptions\";\r\n                        profile[key][\"save\"] = function(selectedCompetency, checkedOptions, allOptions) { me.saveCheckedLevels(selectedCompetency, checkedOptions, allOptions); };\r\n                    }\r\n                }\r\n                var relationshipsHeading = null;\r\n                if (this.config.relationshipConfig) {\r\n                    var keys = EcObject.keys(this.config.relationshipConfig);\r\n                    var relationshipsPriority;\r\n                    if (profile[\"relationshipsPriority\"] && profile[\"relationshipsPriority\"].length > 0) {\r\n                        relationshipsPriority = profile[\"relationshipsPriority\"] + \"Properties\";\r\n                    } else {\r\n                        relationshipsPriority = \"secondaryProperties\";\r\n                    }\r\n                    if (profile[\"relationshipsHeading\"] && profile[\"relationshipsHeading\"].length > 0) {\r\n                        if (profile[\"headings\"] && !EcArray.has(profile[\"headings\"], profile[\"relationshipsHeading\"])) {\r\n                            profile[\"headings\"].push(profile[\"relationshipsHeading\"]);\r\n                        }\r\n                        relationshipsHeading = profile[\"relationshipsHeading\"];\r\n                    }\r\n                    for (var i = 0; i < keys.length; i++) {\r\n                        let key = keys[i];\r\n                        var me = this;\r\n                        profile[relationshipsPriority].push(key);\r\n                        profile[key] = JSON.parse(JSON.stringify(this.config.relationshipConfig[key]));\r\n                        profile[key][\"http://schema.org/rangeIncludes\"] = [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}];\r\n                        profile[key][\"valuesIndexed\"] = function() { return me.relations[key]; };\r\n                        profile[key][\"noTextEditing\"] = 'true';\r\n                        profile[key][\"remove\"] = function(source, target) { me.removeRelationFromFramework(source, key, target); };\r\n                        profile[key][\"add\"] = function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, key, values); };\r\n                        profile[key][\"save\"] = function() {};\r\n                        if (relationshipsHeading) {\r\n                            profile[key][\"heading\"] = relationshipsHeading;\r\n                        }\r\n                    }\r\n                }\r\n                if (this.config.alignConfig) {\r\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n                    this.configHasAlignments = true;\r\n                    var keys = EcObject.keys(this.config.alignConfig);\r\n                    for (let i = 0; i < this.config.alignConfig.length; i++) {\r\n                        let key = this.config.alignConfig[i] + \" (resource)\";\r\n                        let me = this;\r\n                        profile[\"tertiaryProperties\"].push(key);\r\n                        profile[key] = {};\r\n                        profile[key][\"@id\"] = key;\r\n                        profile[key][\"@type\"] = [\"http://www.w3.org/2000/01/rdf-schema#Property\"];\r\n                        profile[key][\"http://schema.org/rangeIncludes\"] = [{\"@id\": \"http://schema.org/URL\"}];\r\n                        profile[key][\"http://www.w3.org/2000/01/rdf-schema#label\"] = [{\"@language\": \"en\", \"@value\": key}];\r\n                        profile[key][\"http://www.w3.org/2000/01/rdf-schema#comment\"] = [{\"@language\": \"en\", \"@value\": key}];\r\n                        profile[key][\"valuesIndexed\"] = function() { return me.alignments[key]; };\r\n                        profile[key][\"remove\"] = function(competency, id) { return me.removeResourceAlignment(id); };\r\n                        profile[key][\"add\"] = function(selectedCompetencyId, values) { return me.addResourceAlignments(selectedCompetencyId, key, values); };\r\n                        profile[key][\"save\"] = function() {};\r\n                        profile[key][\"update\"] = function(value) { return me.updateResourceAlignments(key, value); };\r\n                        if (relationshipsHeading) {\r\n                            profile[key][\"heading\"] = relationshipsHeading;\r\n                        }\r\n                        profile[key][\"resource\"] = true;\r\n                    }\r\n                }\r\n                return profile;\r\n            }\r\n            if (this.profileOverride) {\r\n                return this.profileOverride;\r\n            } else {\r\n                var me = this;\r\n                return {\r\n                    \"http://schema.org/name\": {\r\n                        \"@id\": \"http://schema.org/name\",\r\n                        \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                        \"http://schema.org/domainIncludes\":\r\n                        [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://www.w3.org/2000/01/rdf-schema#langString\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"The name of the competency. One name per language.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Name\"}],\r\n                        \"heading\": \"General\",\r\n                        \"isRequired\": \"true\",\r\n                        \"onePerLanguage\": \"true\"\r\n                    },\r\n                    \"http://schema.org/description\": {\r\n                        \"@id\": \"http://schema.org/description\",\r\n                        \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                        \"http://schema.org/domainIncludes\":\r\n                        [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://www.w3.org/2000/01/rdf-schema#langString\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"The description of the competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Description\"}],\r\n                        \"heading\": \"General\"\r\n                    },\r\n                    \"@id\": {\r\n                        \"@id\": \"https://schema.cassproject.org/0.4/Competency/id\",\r\n                        \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                        \"http://schema.org/domainIncludes\":\r\n                        [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://schema.org/URL\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"The URL of the competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"URL\"}],\r\n                        \"readOnly\": \"true\",\r\n                        \"max\": 1,\r\n                        \"heading\": \"Keys\"\r\n                    },\r\n                    \"https://schema.cassproject.org/0.4/scope\": {\r\n                        \"@id\": \"https://schema.cassproject.org/0.4/scope\",\r\n                        \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                        \"http://schema.org/domainIncludes\":\r\n                        [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"http://schema.org/Text\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"The scope of the competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Scope\"}],\r\n                        \"heading\": \"General\"\r\n                    },\r\n                    \"https://schema.cassproject.org/0.4/Level\": {\r\n                        \"@id\": \"https://schema.cassproject.org/0.4/Level\",\r\n                        \"@type\": [\"http://www.w3.org/2000/01/rdf-schema#Property\"],\r\n                        \"http://schema.org/domainIncludes\":\r\n                        [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [\r\n                            {\"@language\": \"en\",\r\n                                \"@value\":\r\n                        \"When an individual's performance in a competency can be measured, a level specifies milestones that an individual can reach, creating fine-grained distinction between the proficient and the adept.\"}\r\n                        ],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Level\"}],\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Level\"}],\r\n                        \"valuesIndexed\": function() { return me.levels; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency) { me.addLevel(selectedCompetency); },\r\n                        \"remove\": function(competency, levelId) { me.removeLevelFromFramework(levelId); },\r\n                        \"save\": function() { me.saveFramework(); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"narrows\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"A sub-competency relationship which has relevance to this competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Narrows\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"narrows\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"narrows\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"narrows\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"broadens\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"Covers other relevant competencies not found in this competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Broadens\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"broadens\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"broadens\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"broadens\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"isEquivalentTo\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"Represents same capability in all aspects to another competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Equivalent To\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"isEquivalentTo\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"isEquivalentTo\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"isEquivalentTo\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"requires\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"Another competency is prerequisite for this.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Requires\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"requires\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"requires\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"requires\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"isEnabledBy\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"A recommended option that speeds up acquisition of this competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Is Enabled By\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"isEnabledBy\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"isEnabledBy\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"isEnabledBy\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"isRelatedTo\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"This competency has some degree of overlap with another.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Is Related To\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"isRelatedTo\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"isRelatedTo\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"isRelatedTo\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"desires\": {\r\n                        \"http://schema.org/rangeIncludes\": [{\"@id\": \"https://schema.cassproject.org/0.4/Competency\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#comment\":\r\n                        [{\"@language\": \"en\", \"@value\": \"Recommended, assumed, or expected competency not essential to acquisition of this competency.\"}],\r\n                        \"http://www.w3.org/2000/01/rdf-schema#label\": [{\"@language\": \"en\", \"@value\": \"Desires\"}],\r\n                        \"valuesIndexed\": function() { return me.relations[\"desires\"]; },\r\n                        \"noTextEditing\": \"true\",\r\n                        \"add\": function(selectedCompetency, values) { me.addRelationsToFramework(selectedCompetency, \"desires\", values); },\r\n                        \"save\": function() {},\r\n                        \"remove\": function(source, target) { me.removeRelationFromFramework(source, \"desires\", target); },\r\n                        \"heading\": \"Connections\"\r\n                    },\r\n                    \"headings\": [\"General\", \"Connections\", \"Keys\"],\r\n                    \"primaryProperties\": [\r\n                        \"http://schema.org/name\",\r\n                        \"http://schema.org/description\"\r\n                    ],\r\n                    \"secondaryProperties\": [\r\n                        \"@id\",\r\n                        \"https://schema.cassproject.org/0.4/scope\",\r\n                        \"https://schema.cassproject.org/0.4/Level\"\r\n                    ],\r\n                    \"tertiaryProperties\": [\r\n                        \"narrows\",\r\n                        \"broadens\",\r\n                        \"isEquivalentTo\",\r\n                        \"requires\",\r\n                        \"isEnabledBy\",\r\n                        \"isRelatedTo\",\r\n                        \"desires\"\r\n                    ]\r\n                };\r\n            }\r\n        },\r\n        defaultFrameworkConfiguration: function() {\r\n            return this.$store.getters['editor/framework'] ? this.$store.getters['editor/framework'].configuration : null;\r\n        },\r\n        canEdit: function() {\r\n            if (this.queryParams.view === 'true') {\r\n                return false;\r\n            }\r\n            return this.framework.canEditAny(EcIdentityManager.getMyPks());\r\n        }\r\n    },\r\n    created: function() {\r\n        // Set configuration create() happens before mount, make sure framework exists in case\r\n        // the page was being refreshed and no longer exists.\r\n        if (this.framework !== null) {\r\n            this.getConfiguration();\r\n            this.refreshPage();\r\n            this.spitEvent('viewChanged');\r\n        }\r\n    },\r\n    mounted: function() {\r\n        if (!this.framework) {\r\n            this.$router.push({name: \"frameworks\"});\r\n        }\r\n        this.$store.commit('app/objForShareModal', this.object);\r\n        let documentBody = document.getElementsByClassName('cass--main-layout--body')[0];\r\n        documentBody.addEventListener('scroll', debounce(this.scrollFunction, 20, {'immediate': true}));\r\n        if (!this.framework.competency || this.framework.competency.length === 0) {\r\n            this.hierarchyIsdoneLoading = true;\r\n        }\r\n    },\r\n    beforeDestroy() {\r\n        if (this.queryParams && this.queryParams.private !== 'true') {\r\n            this.$store.commit('editor/private', false);\r\n        }\r\n    },\r\n    watch: {\r\n        shortId: function() {\r\n            this.refreshPage();\r\n        },\r\n        config: function() {\r\n            this.$store.commit('editor/configuration', this.config);\r\n        },\r\n        commentScrollTo: function() {\r\n            this.$scrollTo(this.commentScrollTo.scrollId);\r\n        },\r\n        defaultFrameworkConfiguration: function() {\r\n            this.getConfiguration();\r\n        },\r\n        frameworkDrag: function() {\r\n            if (this.frameworkDrag.length > 0) {\r\n                let id = EcRemoteLinkedData.trimVersionFromUrl(this.frameworkDrag[0].obj.id);\r\n                this.moveToTopLevel(id);\r\n                this.frameworkDrag = [];\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        handleDoneLoading: function() {\r\n            appLog(\"done loading\");\r\n            this.hierarchyIsdoneLoading = true;\r\n        },\r\n        scrollFunction(e) {\r\n            let documentObject = document.getElementsByClassName('parent-object');\r\n            let scrollValue = e.target.scrollTop;\r\n            if (scrollValue > 0) {\r\n                this.parentObjectClass = 'parent-object scrolled';\r\n                this.scrolled = true;\r\n            } else {\r\n                this.parentObjectClass = 'parent-object';\r\n                this.scrolled = false;\r\n            }\r\n        },\r\n        handleSearch: function(e) {\r\n            this.$store.commit('app/showModal', e);\r\n        },\r\n        getConfiguration: function() {\r\n            var me = this;\r\n            if (this.framework.configuration) {\r\n                var c = EcRepository.getBlocking(this.framework.configuration);\r\n                appLog(\"c is: \", c);\r\n                if (c) {\r\n                    appLog(\"c is: \", c);\r\n                    this.config = c;\r\n                    this.configSetOnFramework = true;\r\n                }\r\n                appLog(\"c is: \", c);\r\n            }\r\n            if (!this.config && localStorage.getItem(\"cassAuthoringToolDefaultBrowserConfigId\")) {\r\n                // If no framework configuration, use browser default\r\n                var c = EcRepository.getBlocking(localStorage.getItem(\"cassAuthoringToolDefaultBrowserConfigId\"));\r\n                if (c) {\r\n                    this.config = c;\r\n                }\r\n            }\r\n            if (!this.config) {\r\n                this.repo.searchWithParams(\"@type:Configuration\", {'size': 10000}, function(c) {\r\n                    if (c.isDefault === \"true\") {\r\n                        me.config = c;\r\n                    }\r\n                }, function() {}, function() {});\r\n            }\r\n        },\r\n        onCancelEditMultiple: function() {\r\n            this.showEditMultiple = false;\r\n        },\r\n        onEditMultiple: function() {\r\n            this.showEditMultiple = true;\r\n            var payload = {\r\n                profile: this.competencyProfile,\r\n                selectedCompetencies: this.selectedArray,\r\n                component: 'MultiEdit'\r\n            };\r\n            this.$store.commit('app/showModal', payload);\r\n        },\r\n        onEditNode: function() {\r\n            this.editingFramework = true;\r\n        },\r\n        onDoneEditingNode: function() {\r\n            this.$store.commit('editor/newFramework', null);\r\n            this.editingFramework = false;\r\n        },\r\n        onOpenComments: function() {\r\n            this.showComments = true;\r\n        },\r\n        onCloseComments: function() {\r\n            this.showComments = false;\r\n        },\r\n        selectedArrayEvent: function(ary) {\r\n            this.selectedArray = ary;\r\n        },\r\n        refreshPage: function() {\r\n            if (!this.framework) {\r\n                appLog(\"no framework to refresh\");\r\n                return;\r\n            }\r\n            if (EcRepository.shouldTryUrl(this.framework.id) === false && this.framework.id.indexOf(this.repo.selectedServer) === -1) {\r\n                this.frameworkExportGuid = EcCrypto.md5(this.framework.shortId());\r\n            } else {\r\n                this.frameworkExportGuid = this.framework.getGuid();\r\n            }\r\n            this.frameworkExportLink = this.repo.selectedServer + \"data/\" + this.frameworkExportGuid;\r\n            this.setDefaultLanguage();\r\n            this.highlightCompetency = [];\r\n            if (this.queryParams.highlightCompetency) {\r\n                if (!EcArray.isArray(this.queryParams.highlightCompetency)) {\r\n                    this.highlightCompetency = [this.queryParams.highlightCompetency];\r\n                } else {\r\n                    this.highlightCompetency = this.queryParams.highlightCompetency;\r\n                }\r\n            }\r\n        },\r\n        exportObject: function(selectedCompetency, exportType) {\r\n            var guid;\r\n            if (EcRepository.shouldTryUrl(selectedCompetency.id) === false && selectedCompetency.id.indexOf(this.repo.selectedServer) === -1) {\r\n                guid = EcCrypto.md5(selectedCompetency.shortId());\r\n            } else {\r\n                guid = selectedCompetency.getGuid();\r\n            }\r\n            var link = this.repo.selectedServer + \"data/\" + guid;\r\n            if (exportType === \"jsonld\") {\r\n                this.exportJsonld(link);\r\n            } else if (exportType === \"rdfQuads\") {\r\n                this.exportRdfQuads(link);\r\n            } else if (exportType === \"rdfJson\") {\r\n                this.exportRdfJson(link);\r\n            } else if (exportType === \"rdfXml\") {\r\n                this.exportRdfXml(link);\r\n            } else if (exportType === \"turtle\") {\r\n                this.exportTurtle(link);\r\n            } else if (exportType === \"ctdlasnJsonld\") {\r\n                this.exportCtdlasnJsonld(link);\r\n            } else if (exportType === \"case\") {\r\n                this.exportCaseItems(guid);\r\n            }\r\n        },\r\n        exportFramework: function(exportType) {\r\n            if (exportType === \"asn\") {\r\n                this.exportAsn(this.frameworkExportLink);\r\n            } else if (exportType === \"jsonld\") {\r\n                this.exportJsonld(this.frameworkExportLink);\r\n            } else if (exportType === \"rdfQuads\") {\r\n                this.exportRdfQuads(this.frameworkExportLink);\r\n            } else if (exportType === \"rdfJson\") {\r\n                this.exportRdfJson(this.frameworkExportLink);\r\n            } else if (exportType === \"rdfXml\") {\r\n                this.exportRdfXml(this.frameworkExportLink);\r\n            } else if (exportType === \"turtle\") {\r\n                this.exportTurtle(this.frameworkExportLink);\r\n            } else if (exportType === \"ctdlasnJsonld\") {\r\n                this.exportCtdlasnJsonld(this.frameworkExportLink);\r\n            } else if (exportType === \"ctdlasnCsv\") {\r\n                this.exportCtdlasnCsv(this.frameworkExportLink);\r\n            } else if (exportType === \"csv\") {\r\n                this.exportCsv();\r\n            } else if (exportType === \"case\") {\r\n                this.exportCasePackages(this.frameworkExportGuid);\r\n            }\r\n        },\r\n        changeProperties: function(type) {\r\n            this.properties = type;\r\n        },\r\n        onSelectButtonClick: function(ids) {\r\n            this.selectButton(ids);\r\n        },\r\n        onOpenExportModal() {\r\n            let params = {};\r\n            var me = this;\r\n            appLog(\"options\", typeof me.frameworkExportOptions);\r\n            params = {\r\n                type: \"export\",\r\n                selectedExportOption: '',\r\n                title: \"Export Framework\",\r\n                exportOptions: me.frameworkExportOptions,\r\n                text: \"Select a file format to export your framework. Files download locally.\",\r\n                onConfirm: (e) => {\r\n                    return me.exportFramework(e);\r\n                }\r\n            };\r\n            // reveal modal\r\n            this.$modal.show(params);\r\n        },\r\n        // Speed up load of secondary properties\r\n        preloadRelations: function() {\r\n            this.handleDoneLoading();\r\n            if (!this.gotInitialLevelsRelationsAndAlignments) {\r\n                if (this.configHasLevels) {\r\n                    this.updateLevels();\r\n                }\r\n                this.updateRelations();\r\n                if (this.configHasAlignments) {\r\n                    this.updateAlignments();\r\n                }\r\n                this.gotInitialLevelsRelationsAndAlignments = true;\r\n            }\r\n        },\r\n        addResourceAlignments: function(selectedCompetencyId, alignmentType, values) {\r\n            let me = this;\r\n            alignmentType = alignmentType.substring(0, alignmentType.indexOf(' '));\r\n            for (let i = 0; i < values.length; i++) {\r\n                let c = new CreativeWork();\r\n                c.generateId(this.repo.selectedServer);\r\n                c.name = values[i][\"name\"];\r\n                c.url = values[i][\"@value\"];\r\n                c.educationalAlignment = new AlignmentObject();\r\n                c.educationalAlignment.targetUrl = selectedCompetencyId;\r\n                c.educationalAlignment.alignmentType = alignmentType;\r\n                if (EcIdentityManager.ids.length > 0) {\r\n                    c.addOwner(EcIdentityManager.ids[0].ppk.toPk());\r\n                }\r\n                this.repo.saveTo(c, function() {\r\n                    let edits = [{operation: \"addNew\", id: c.shortId()}];\r\n                    me.$store.commit('editor/addEditsToUndo', edits);\r\n                    me.$store.commit('editor/refreshAlignments', true);\r\n                }, appError);\r\n            }\r\n        },\r\n        updateResourceAlignments: function(alignmentType, value) {\r\n            let me = this;\r\n            if (value[\"name\"] && value[\"@value\"]) {\r\n                var c = EcRepository.getBlocking(value[\"@id\"]);\r\n                let initialName = c.name;\r\n                let initialUrl = c.url;\r\n                c.name = value[\"name\"];\r\n                c.url = value[\"@value\"];\r\n                this.repo.saveTo(c, function() {\r\n                    let edits = [{operation: \"update\", id: c.shortId(), fieldChanged: [\"name\", \"url\"], initialValue: [initialName, initialUrl], changedValue: [c.name, c.url]}];\r\n                    me.$store.commit('editor/addEditsToUndo', edits);\r\n                    me.$store.commit('editor/refreshAlignments', true);\r\n                }, appError);\r\n            }\r\n        },\r\n        removeResourceAlignment: function(resourceId) {\r\n            let c = EcRepository.getBlocking(resourceId);\r\n            let me = this;\r\n            this.repo.deleteRegistered(c, function() {\r\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"delete\", obj: c}]);\r\n                me.$store.commit('editor/refreshAlignments', true);\r\n            }, appError);\r\n        },\r\n        moveToTopLevel: function(id) {\r\n            var me = this;\r\n            for (var i = 0; i < this.framework.relation.length; i++) {\r\n                var a = EcAlignment.getBlocking(this.framework.relation[i]);\r\n                if (a == null) { continue; }\r\n                if (a.relationType === \"narrows\") {\r\n                    if (a.target == null) continue;\r\n                    if (a.source == null) continue;\r\n                    if (a.source !== id) continue;\r\n                    appLog(\"Identified edge to remove: \", JSON.parse(a.toJson()));\r\n                    this.framework.relation.splice(i--, 1);\r\n                }\r\n                repo.saveTo(this.framework, function() {\r\n                    me.once = true;\r\n                }, function() {});\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @import './../../scss/framework.scss';\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Framework.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Framework.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Framework.vue?vue&type=template&id=70ea229a&\"\nimport script from \"./Framework.vue?vue&type=script&lang=js&\"\nexport * from \"./Framework.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Framework.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    methods: {\n        removeObject: function(thing) {\n            // Remove from container but don't delete\n            appLog(\"removing \" + thing.id);\n            var me = this;\n            var thisFramework = this.$store.getters['editor/framework'];\n            var initialCompetencies = thisFramework.competency ? thisFramework.competency.slice() : null;\n            var initialRelations = thisFramework.relation ? thisFramework.relation.slice() : null;\n            var initialLevels = thisFramework.level ? thisFramework.level.slice() : null;\n            thisFramework[\"schema:dateModified\"] = new Date().toISOString();\n            thisFramework.removeCompetency(thing.shortId(), function() {\n                var framework = me.framework;\n                me.$store.commit('editor/addEditsToUndo', [{operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels]}]);\n                if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[f.id] !== true) {\n                    framework = EcEncryptedValue.toEncryptedValue(framework);\n                }\n                repo.saveTo(framework, function() {\n                    me.$store.commit('editor/framework', thisFramework);\n                }, appError);\n            }, appLog);\n        },\n        deleteObject: function(thing) {\n            appLog(\"deleting \" + thing.id);\n            var me = this;\n            var framework = this.$store.getters['editor/framework'];\n            if (thing.shortId() === framework.shortId()) {\n                // delete framework\n                this.repo.deleteRegistered(framework, function(success) {\n                    me.spitEvent(\"frameworkDeleted\", framework.shortId(), \"editFrameworkSection\");\n                    // Delete the framework, delete all non-used stuff.\n                    if (framework.competency != null) {\n                        for (var i = 0; i < framework.competency.length; i++) {\n                            me.conditionalDelete(framework.competency[i]);\n                        }\n                    }\n                    if (framework.relation != null) {\n                        for (var i = 0; i < framework.relation.length; i++) {\n                            me.conditionalDelete(framework.relation[i]);\n                        }\n                    }\n                    if (framework.level != null) {\n                        for (var i = 0; i < framework.level.length; i++) {\n                            me.conditionalDelete(framework.level[i]);\n                        }\n                    }\n                    me.$store.commit('editor/framework', null);\n                    if (me.importType) {\n                        // Calling function from import page\n                        me.$store.commit('app/importFramework', null);\n                    } else {\n                        me.$router.push({name: \"frameworks\"});\n                    }\n                }, appLog);\n            } else {\n                // Delete competency and relations\n                var initialCompetencies = framework.competency ? framework.competency.slice() : null;\n                var initialRelations = framework.relation ? framework.relation.slice() : null;\n                var initialLevels = framework.level ? framework.level.slice() : null;\n                this.$store.commit('editor/selectedCompetency', thing);\n                framework[\"schema:dateModified\"] = new Date().toISOString();\n                framework.removeCompetency(thing.shortId(), function() {\n                    framework.removeLevel(thing.shortId());\n                    me.$store.commit('editor/addEditsToUndo', [\n                        {operation: \"delete\", obj: thing},\n                        {operation: \"update\", id: framework.shortId(), fieldChanged: [\"competency\", \"relation\", \"level\"], initialValue: [initialCompetencies, initialRelations, initialLevels], changedValue: [framework.competency, framework.relation, framework.level]}\n                    ]);\n                    me.conditionalDelete(thing.shortId());\n                    me.spitEvent(\"competencyDeleted\", thing.shortId(), \"editFrameworkSection\");\n                    me.$store.commit('editor/selectedCompetency', null);\n                    var frameworkToSave = framework;\n                    if (me.$store.state.editor.private === true && EcEncryptedValue.encryptOnSaveMap[framework.id] !== true) {\n                        frameworkToSave = EcEncryptedValue.toEncryptedValue(framework);\n                    }\n                    me.repo.saveTo(frameworkToSave, function() {\n                        me.$store.commit('editor/framework', framework);\n                    }, appError);\n                }, appLog);\n            }\n        }\n    }\n};","export default {\n    data() {\n        return {\n            levels: null,\n            relations: {},\n            alignments: {}\n        };\n    },\n    watch: {\n        refreshLevels: function() {\n            if (this.refreshLevels) {\n                this.updateLevels();\n            }\n        },\n        relationArray: function() {\n            this.updateRelations();\n        },\n        refreshAlignments: function() {\n            if (this.refreshAlignments) {\n                this.updateAlignments();\n            }\n        }\n    },\n    computed: {\n        refreshLevels: function() {\n            return this.$store.getters['editor/refreshLevels'];\n        },\n        relationArray: function() {\n            if (this.framework) {\n                return this.framework.relation;\n            } else if (this.importFramework) {\n                return this.importFramework.relation;\n            }\n        },\n        refreshAlignments: function() {\n            return this.$store.getters['editor/refreshAlignments'];\n        }\n    },\n    methods: {\n        updateLevels: function() {\n            var me = this;\n            // Make reactive when the same level is applied to multiple competencies in the same framework\n            if (this.$store.getters['editor/refreshLevels'] === true) {\n                this.$store.commit('editor/refreshLevels', false);\n            }\n            var levels = {};\n            if (!this.framework) {\n                return;\n            }\n            if (!this.framework.level) {\n                this.levels = null;\n                return;\n            }\n            new EcAsyncHelper().each(this.framework.level, function(levelId, done) {\n                EcLevel.get(levelId, function(level) {\n                    var comp = level.competency;\n                    if (!EcArray.isArray(comp)) {\n                        comp = [comp];\n                    }\n                    for (var j = 0; j < comp.length; j++) {\n                        if (!EcArray.isArray(levels[comp[j]])) {\n                            levels[comp[j]] = [];\n                        }\n                        levels[comp[j]].push({\"@id\": level.shortId()});\n                    }\n                    done();\n                }, done);\n            }, function(levelIds) {\n                me.levels = levels;\n            });\n        },\n        updateRelations: function() {\n            if (!this.framework?.relation && !this.importFramework?.relation) {\n                this.relations = {};\n                this.$store.commit('editor/relations', {});\n                return;\n            }\n            var me = this;\n            var relations = [];\n            new EcAsyncHelper().each((this.framework ? this.framework.relation : this.importFramework.relation), function(relationId, done) {\n                EcAlignment.get(relationId, function(a) {\n                    if (a && a.source && a.target) {\n                        var relation = {};\n                        var relationType = a.relationType;\n                        var reciprocalRelation = null;\n                        if (me.queryParams.ceasnDataFields === \"true\" && relationType === \"narrows\") {\n                            let framework = me.framework;\n                            if (!framework) {\n                                framework = me.importFramework;\n                            }\n                            if (framework.competency.indexOf(a.target) !== -1 && framework.competency.indexOf(a.source) !== -1) {\n                                relationType = \"isChildOf\";\n                                reciprocalRelation = \"hasChild\";\n                            }\n                        }\n                        if (relationType === \"narrows\") {\n                            reciprocalRelation = \"broadens\";\n                        }\n                        relation.type = relationType;\n                        relation.source = a.source;\n                        relation.target = {\"@id\": a.target};\n                        relations.push(relation);\n                        if (reciprocalRelation) {\n                            var reciprocal = {};\n                            reciprocal.type = reciprocalRelation;\n                            reciprocal.source = a.target;\n                            reciprocal.target = {\"@id\": a.source};\n                            relations.push(reciprocal);\n                        }\n                    }\n                    done();\n                }, done);\n            }, function(relationIds) {\n                let relationObject = {};\n                for (let i = 0; i < relations.length; i++) {\n                    let each = relations[i];\n                    if (!relationObject[each.type]) {\n                        relationObject[each.type] = {};\n                    }\n                    if (!relationObject[each.type][each.source]) {\n                        relationObject[each.type][each.source] = [];\n                    }\n                    relationObject[each.type][each.source].push(each.target);\n                }\n                me.relations = relationObject;\n                me.$store.commit('editor/relations', me.relations);\n            });\n        },\n        updateAlignments: function() {\n            var me = this;\n            if (this.$store.getters['editor/refreshAlignments'] === true) {\n                this.$store.commit('editor/refreshAlignments', false);\n            }\n            if (!this.framework) {\n                return;\n            }\n            if (!this.framework.competency) {\n                return;\n            }\n            var alignments = {};\n            new EcAsyncHelper().each(this.framework.competency, function(compId, done) {\n                var search = \"@type:CreativeWork AND educationalAlignment.targetUrl:\\\"\" + compId + \"\\\"\";\n                me.repo.searchWithParams(search, {\n                    size: 25\n                },\n                null,\n                function(resources) {\n                    for (var i = 0; i < resources.length; i++) {\n                        let resourceType = resources[i].educationalAlignment.alignmentType + \" (resource)\";\n                        if (!alignments[resourceType]) {\n                            alignments[resourceType] = {};\n                        }\n                        if (!alignments[resourceType][compId]) {\n                            alignments[resourceType][compId] = [];\n                        }\n                        alignments[resourceType][compId].push({\"@id\": resources[i].shortId(), \"name\": resources[i].name, \"@value\": resources[i].url});\n                    }\n                    done();\n                }, done);\n            }, function(compIds) {\n                me.alignments = alignments;\n            });\n        }\n    }\n};"],"sourceRoot":""}