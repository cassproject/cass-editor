(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function s(e){return c.p+"js/"+({about:"about",directory:"directory",concepts:"concepts",organizations:"organizations",crosswalk:"crosswalk",import:"import",organization:"organization",framework:"framework",conceptScheme:"conceptScheme",progressionModel:"progressionModel",configurationEditor:"configurationEditor",forbidden:"forbidden",internalError:"internalError",login:"login",pluginContainer:"pluginContainer",pluginManager:"pluginManager",sidenav:"sidenav",timeline:"timeline",topbar:"topbar",userGroupEditor:"userGroupEditor",welcome:"welcome"}[e]||e)+"."+{about:"9f886bed","chunk-03583113":"b55464f3","chunk-07b9d536":"279a6c01","chunk-0c8dcbb2":"a0cb05cb","chunk-0d4ad1f5":"2f7e4276","chunk-17f22648":"e9d8ec48","chunk-25eb577f":"98c6cc4d","chunk-261f65bc":"9d9a0d8c","chunk-2d0a4fe9":"e91abe54","chunk-1b29bed6":"9716bf0a",directory:"26c109be","chunk-2d0d5fe2":"47429e55","chunk-2d22bdc1":"d1e420fe",concepts:"1a70b650",organizations:"0d94fdb6","chunk-701cdf0d":"624f9fda","chunk-07ba62a5":"0923afeb","chunk-491a6871":"78c46b92","chunk-855e2d72":"818f3bca",crosswalk:"33256c13",import:"68f4bf4b",organization:"5845e4cd","chunk-2d21ecda":"75c2b213",framework:"43c870a1",conceptScheme:"b96b97d3",progressionModel:"f7fc67d9","chunk-3561f686":"2ce7bea7","chunk-3730d0cd":"e32d9db4","chunk-3f750df5":"d31effa5","chunk-49ab7234":"4ff48860","chunk-4d912b36":"f95db5f4","chunk-5501e146":"c8cc9e45","chunk-5747db49":"c4d6b41d","chunk-5fb9cf9f":"fb19064a","chunk-2d0b2ce8":"8504c897",configurationEditor:"7eb99c5b","chunk-636e5f66":"7f95fd1c","chunk-754d59e3":"fab6658c","chunk-7965c359":"08a59725","chunk-a165d4e4":"6d64d72d","chunk-a8044f92":"3444d5b2","chunk-c717ce28":"23be2a1a",forbidden:"9cbece23",internalError:"5e563196",login:"52dff46c",pluginContainer:"93e95953",pluginManager:"2a8f794a",sidenav:"4bf56b4a",timeline:"c414d184",topbar:"495877b0",userGroupEditor:"ea36a9d8",welcome:"d87da40e","chunk-2d0cbec1":"b9f5ab1a","chunk-4567c15f":"70f0ae8e","chunk-53a5e05a":"9f41ac55","chunk-a61fd456":"d2a12780","chunk-74a95bb3":"0a780ffa","chunk-83807946":"f412f929","chunk-62fb7533":"ef1ad5a0","chunk-4a5f46a6":"0820140f","chunk-4f0df510":"decd4897","chunk-6b291276":"d95c1f61","chunk-9fafba20":"df671dc8","chunk-c8770ed6":"ff64c499","chunk-2d0ddf90":"6095bb4d","chunk-2d0dab46":"18cfeab1","chunk-c77cbcba":"9f54e388","chunk-36d91e99":"abcc45d6","chunk-7c7254fa":"5a40ffb3","chunk-056ed129":"7151bac3","chunk-2d0daac9":"3a886bb3","chunk-2d21eb37":"3e1c154c"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-03583113":1,"chunk-07b9d536":1,"chunk-0c8dcbb2":1,"chunk-0d4ad1f5":1,"chunk-17f22648":1,"chunk-25eb577f":1,"chunk-261f65bc":1,"chunk-1b29bed6":1,directory:1,concepts:1,organizations:1,"chunk-701cdf0d":1,"chunk-07ba62a5":1,"chunk-491a6871":1,"chunk-855e2d72":1,crosswalk:1,import:1,organization:1,framework:1,conceptScheme:1,progressionModel:1,"chunk-3561f686":1,"chunk-3730d0cd":1,"chunk-3f750df5":1,"chunk-49ab7234":1,"chunk-4d912b36":1,"chunk-5501e146":1,"chunk-5747db49":1,"chunk-5fb9cf9f":1,configurationEditor:1,"chunk-636e5f66":1,"chunk-754d59e3":1,"chunk-7965c359":1,"chunk-a165d4e4":1,"chunk-a8044f92":1,"chunk-c717ce28":1,forbidden:1,internalError:1,login:1,pluginContainer:1,pluginManager:1,sidenav:1,timeline:1,userGroupEditor:1,"chunk-4567c15f":1,"chunk-53a5e05a":1,"chunk-a61fd456":1,"chunk-83807946":1,"chunk-62fb7533":1,"chunk-4f0df510":1,"chunk-9fafba20":1,"chunk-c8770ed6":1,"chunk-c77cbcba":1,"chunk-36d91e99":1,"chunk-7c7254fa":1,"chunk-056ed129":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",directory:"directory",concepts:"concepts",organizations:"organizations",crosswalk:"crosswalk",import:"import",organization:"organization",framework:"framework",conceptScheme:"conceptScheme",progressionModel:"progressionModel",configurationEditor:"configurationEditor",forbidden:"forbidden",internalError:"internalError",login:"login",pluginContainer:"pluginContainer",pluginManager:"pluginManager",sidenav:"sidenav",timeline:"timeline",topbar:"topbar",userGroupEditor:"userGroupEditor",welcome:"welcome"}[e]||e)+"."+{about:"31d6cfe0","chunk-03583113":"60471a70","chunk-07b9d536":"60471a70","chunk-0c8dcbb2":"60471a70","chunk-0d4ad1f5":"60471a70","chunk-17f22648":"60471a70","chunk-25eb577f":"73ccae3d","chunk-261f65bc":"6fe35a3d","chunk-2d0a4fe9":"31d6cfe0","chunk-1b29bed6":"cebd8586",directory:"70098fbc","chunk-2d0d5fe2":"31d6cfe0","chunk-2d22bdc1":"31d6cfe0",concepts:"223c9419",organizations:"1d9c1cec","chunk-701cdf0d":"d8e69eab","chunk-07ba62a5":"2c043d12","chunk-491a6871":"bb359785","chunk-855e2d72":"d652b43a",crosswalk:"b12a891a",import:"91080966",organization:"2f85a467","chunk-2d21ecda":"31d6cfe0",framework:"68516d6d",conceptScheme:"75a8af1c",progressionModel:"75a8af1c","chunk-3561f686":"73ccae3d","chunk-3730d0cd":"60471a70","chunk-3f750df5":"60471a70","chunk-49ab7234":"60471a70","chunk-4d912b36":"60471a70","chunk-5501e146":"369d5d3a","chunk-5747db49":"daa4e784","chunk-5fb9cf9f":"d0a47e88","chunk-2d0b2ce8":"31d6cfe0",configurationEditor:"aa42073b","chunk-636e5f66":"60471a70","chunk-754d59e3":"60471a70","chunk-7965c359":"60471a70","chunk-a165d4e4":"60471a70","chunk-a8044f92":"60471a70","chunk-c717ce28":"60471a70",forbidden:"1b0a0109",internalError:"7f0e233f",login:"be292f08",pluginContainer:"ae42be31",pluginManager:"7dbcc073",sidenav:"e0b4a456",timeline:"5ae6be9f",topbar:"31d6cfe0",userGroupEditor:"83fefc67",welcome:"31d6cfe0","chunk-2d0cbec1":"31d6cfe0","chunk-4567c15f":"a478a2a2","chunk-53a5e05a":"09db533f","chunk-a61fd456":"a2bf2d06","chunk-74a95bb3":"31d6cfe0","chunk-83807946":"60471a70","chunk-62fb7533":"60471a70","chunk-4a5f46a6":"31d6cfe0","chunk-4f0df510":"c8484769","chunk-6b291276":"31d6cfe0","chunk-9fafba20":"cc85466d","chunk-c8770ed6":"4b09ece7","chunk-2d0ddf90":"31d6cfe0","chunk-2d0dab46":"31d6cfe0","chunk-c77cbcba":"6bbc8dd3","chunk-36d91e99":"67586f64","chunk-7c7254fa":"c8484769","chunk-056ed129":"c8484769","chunk-2d0daac9":"31d6cfe0","chunk-2d21eb37":"31d6cfe0"}[e]+".css",a=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],p.parentNode.removeChild(p),n(i)},p.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;i.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("56d7")},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},"199c":function(e,t,n){"use strict";(function(e){var r=n("5530"),o=n("b85c"),a=n("c7eb"),i=n("1da1"),s=(n("b64b"),n("e9c4"),n("8a79"),n("2ca0"),n("14d9"),n("b0c0"),n("ac1f"),n("841c"),n("5319"),n("c73d"),n("2f62")),c=n("872c"),u=n("3392"),d=n("9224");t["a"]={mixins:[c["a"]],name:"App",components:{DynamicModal:u["a"]},data:function(){return{navBarActive:!1,repo:window.repo,itemsSaving:0,showNav:!0,GROUP_SEARCH_SIZE:1e4,linkedPerson:null,addAnotherDirectory:!1,appVersion:d["a"]}},$router:function(e,t){e.path!==t.path&&(this.navBarActive=!1)},beforeDestroy:function(){window.removeEventListener("message",this.cappend),window.removeEventListener("message",this.messageListener)},methods:{initializeApp:function(){var t=this;this.appVersion&&(document.title="CaSS Editor "+this.appVersion);var n=window.origin+"/api/";"https://cassproject.github.io"===window.location.origin?n="https://dev.cassproject.org/api/":Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_SELECTEDSERVER&&(n=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_SELECTEDSERVER);var r="https://dev.rest.api.cassproject.org/";this.$store.commit("environment/cassApiLocation",r);var o=this;if(this.$route.query){var s=JSON.parse(JSON.stringify(this.$route.query));for(var c in window.queryParams)s[c]=window.queryParams[c];this.$store.commit("editor/queryParams",s),this.queryParams.server&&(this.queryParams.server.endsWith&&!1===this.queryParams.server.endsWith("/")&&(this.queryParams.server+="/"),n=this.queryParams.server),"true"===this.queryParams.concepts&&(this.$store.commit("editor/conceptMode",!0),this.$store.commit("editor/progressionMode",!1)),"true"===this.queryParams.ceasnDataFields&&(this.$store.commit("featuresEnabled/configurationsEnabled",!1),this.$store.commit("featuresEnabled/userManagementEnabled",!1),this.$store.commit("featuresEnabled/searchByOwnerNameEnabled",!1),this.$store.commit("featuresEnabled/loginEnabled",!1),this.$store.commit("featuresEnabled/pluginsEnabled",!1)),"wait"===this.queryParams.user&&(this.$store.commit("featuresEnabled/shareEnabled",!1),this.$store.commit("featuresEnabled/shareLink",!0)),"true"!==this.queryParams.ownedByMe&&"mine"!==this.queryParams.show||this.$store.commit("featuresEnabled/ownedByMe",!0)}var u=new EcRepository;u.selectedServer=n,u.init(n,(function(){if(appLog("Repository initialized"),0===EcIdentityManager.default.ids.length&&(EcIdentityManager.default.readContacts(),EcIdentityManager.default.readIdentities()),EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0&&o.findLinkedPersonForIdentity(),EcRepository.defaultPlugins&&EcRepository.defaultPlugins.length>0){var e=[];for(var t in EcRepository.defaultPlugins){var n=EcRepository.defaultPlugins[t];n.startsWith("/")&&(n=window.location.origin+n),e.push({id:t,url:n})}o.$store.commit("app/setCuratedPlugins",e)}}),appError,function(){var n=Object(i["a"])(Object(a["a"])().mark((function n(r){var o,i,s,c,d;return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u.fetchServerAdminKeys((function(){}),appError),t.$store.commit("user/repositorySsoOptions",r),null!=r.ssoPublicKey&&null==r.ssoLogin&&(t.$store.commit("featuresEnabled/loginEnabled",!1),t.$store.commit("featuresEnabled/userManagementEnabled",!1)),null!=r.ssoLogin&&t.$store.commit("featuresEnabled/apiLoginEnabled",!0),r.banner&&t.$store.commit("app/setBanner",r.banner),r.motd&&(t.$store.commit("app/setMotd",r.motd),r.motd.message&&t.$store.commit("app/showModal",{component:"MessageOfTheDay"})),r.corsOrigins&&(e.corsOrigins=r.corsOrigins),!(window.EcIdentityManager.default.ids.length>0)){n.next=18;break}return n.prev=8,n.next=11,window.EcPerson.getByPk(u,window.EcIdentityManager.default.ids[0].ppk.toPk());case 11:o=n.sent,null!=o&&(window.EcIdentityManager.default.ids[0].displayName=o.getName()),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](8),window.EcIdentityManager.default.ids[0].displayName="Unknown Person";case 18:if(null==r.ssoAdditionalPublicKeys){n.next=38;break}i=0;case 20:if(!(i<r.ssoAdditionalPublicKeys.length)){n.next=38;break}return s=window.EcPpkFacade.fromPem(r.ssoAdditionalPublicKeys[i]),c=new window.EcIdentity,n.prev=23,n.next=26,window.EcPerson.getByPk(u,s.toPk());case 26:d=n.sent,null!=d&&(c.displayName=d.getName()),n.next=33;break;case 30:n.prev=30,n.t1=n["catch"](23),c.displayName="Unknown Person";case 33:c.ppk=s,window.EcIdentityManager.default.addIdentity(c);case 35:i++,n.next=20;break;case 38:t.$store.dispatch("app/refreshDirectories");case 39:case"end":return n.stop()}}),n,null,[[8,15],[23,30]])})));return function(e){return n.apply(this,arguments)}}()),window.repo=u,this.repo=u;try{window.addEventListener("message",this.cappend,!1)}catch(y){appError(y)}if(this.openWebSocket(u),window.addEventListener?window.addEventListener("message",this.messageListener,!1):window.attachEvent("onmessage",this.messageListener),this.loadIdentity((function(){o.queryParams&&(o.queryParams.frameworkId&&(!0===o.$store.getters["editor/conceptMode"]?EcConceptScheme.get(o.queryParams.frameworkId,(function(e){o.$store.commit("editor/framework",e),o.$store.commit("editor/clearFrameworkCommentData"),o.$store.commit("app/setCanViewComments",o.canViewCommentsCurrentFramework()),o.$store.commit("app/setCanAddComments",o.canAddCommentsCurrentFramework()),o.$router.push({name:"conceptScheme",params:{frameworkId:o.queryParams.frameworkId}})}),appError):!0===o.$store.getters["editor/progressionMode"]?EcConceptScheme.get(o.queryParams.frameworkId,(function(e){o.$store.commit("editor/framework",e),o.$store.commit("editor/clearFrameworkCommentData"),o.$store.commit("app/setCanViewComments",o.canViewCommentsCurrentFramework()),o.$store.commit("app/setCanAddComments",o.canAddCommentsCurrentFramework()),o.$router.push({name:"progressionModel",params:{frameworkId:o.queryParams.frameworkId}})}),appError):EcFramework.get(o.queryParams.frameworkId,(function(e){o.$store.commit("editor/framework",e),o.$store.commit("editor/clearFrameworkCommentData"),o.$store.commit("app/setCanViewComments",o.canViewCommentsCurrentFramework()),o.$store.commit("app/setCanAddComments",o.canAddCommentsCurrentFramework()),o.$router.push({name:"framework",params:{frameworkId:o.queryParams.frameworkId}})}),appError)),o.queryParams.directoryId&&EcDirectory.get(o.queryParams.directoryId,(function(e){o.$store.commit("app/selectDirectory",e),o.$router.push({name:"directory"})}),appError),"import"===o.queryParams.action&&o.$router.push({name:"import"}),"add"===o.queryParams.action&&o.createNew(),"true"!==o.queryParams.ceasnDataFields&&"true"!==o.queryParams.frameworksPage||o.queryParams.action||o.queryParams.frameworkId||("true"===o.queryParams.collections?(o.$store.commit("editor/collectionMode",!0),o.$router.push({name:"collections"})):!0===o.$store.getters["editor/conceptMode"]?o.$router.push({name:"concepts"}):!0===o.$store.getters["editor/progressionMode"]?o.$router.push({name:"progressionLevels"}):"frameworks"!==o.$route.name&&"concepts"!==o.$route.name&&"progressionLevels"!==o.$route.name&&o.$router.push({name:"frameworks"})))})),parent!==window){for(var d=document.getElementsByTagName("head")[0],l=parent.document.getElementsByTagName("*"),p=0;p<l.length;p++)"link"!==l[p].tagName.toLowerCase()&&"style"!==l[p].tagName.toLowerCase()||null!=l[p].attributes.inherit&&d.appendChild(l[p].cloneNode(!0));try{this.importParentStyles()}catch(y){}}if(null!=this.queryParams.css){var m=document.createElement("link");m.type="text/css",m.rel="stylesheet",m.href=this.queryParams.css,document.getElementsByTagName("head")[0].appendChild(m)}for(var f=["https://schema.cassproject.org/0.4","https://schema.cassproject.org/0.4/Directory","https://schema.cassproject.org/0.4/","https://schema.cassproject.org/0.4/Directory/","https://schema.cassproject.org/0.4/skos/ConceptScheme/","https://schema.cassproject.org/0.4/skos/","https://schema.cassproject.org/0.4/Framework/","https://schema.cassproject.org/0.4/skos/ConceptScheme","https://schema.cassproject.org/0.4/skos/Concept","https://schema.cassproject.org/0.4/skos","https://schema.cassproject.org/0.4/Framework","https://schema.cassproject.org/0.4/Competency","https://schema.cassproject.org/0.4/skos/Concept/","https://schema.cassproject.org/0.4/Competency/"],h=function(){var e=b[g];if(void 0===t.$store.state.lode.schemata[e]&&-1===e.indexOf("EncryptedValue")){var n=e.indexOf("schema.cassproject.org"),r=e;-1!==n&&(r=r.substring(n),r=window.location.origin+window.location.pathname+r+"/index.json-ld"),EcRemote.getExpectingObject("",r,function(){var t=Object(i["a"])(Object(a["a"])().mark((function t(n){var r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o.$store.commit("lode/rawSchemata",{id:e,obj:n}),t.prev=1,t.next=4,jsonld.expand(n);case 4:r=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),appError(t.t0);case 10:o.$store.dispatch("lode/schemata",{id:e,obj:r});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),(function(){}))}},g=0,b=f;g<b.length;g++)h();EcRemote.getExpectingString(window.repo.selectedServer,"badge/pk",(function(e){t.$store.commit("editor/setBadgePk",EcPk.fromPem(e))}),appError),setTimeout((function(){null==t.linkedPerson&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0&&o.findLinkedPersonForIdentity()}),1e3)},onSidebarEvent:function(){this.showSideNav=!this.showSideNav},findLinkedPersonForIdentity:function(){appLog("Finding linked person for identity..."),window.EcPerson.getByPk(window.repo,window.EcIdentityManager.default.ids[0].ppk.toPk(),this.findLinkedPersonPersonSearchSuccess,this.findLinkedPersonPersonSearchFailure)},findLinkedPersonPersonSearchSuccess:function(e){EcArray.isArray(e)||(e=[e]),appLog("Linked person person search success: "),appLog(e);var t,n=!1,r=Object(o["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=new EcPerson;i.copyFrom(a),i.getGuid().equals(EcIdentityManager.default.ids[0].ppk.toPk().fingerprint())&&(n=!0,this.$store.commit("user/loggedOnPerson",i),this.linkedPerson=i,appLog("Matching person record found: "),appLog(i))}}catch(s){r.e(s)}finally{r.f()}n&&this.addGroupIdentities()},findLinkedPersonPersonSearchFailure:function(e){appLog("Linked person person search failure: "+e)},searchRepositoryForGroupsSuccess:function(e){var t=this.linkedPerson.shortId();if(e&&e.length>0){var n,r=Object(o["a"])(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.employee&&a.employee.length>0){var i,s=Object(o["a"])(a.employee);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.equals(t)){this.addGroupIdentity(a);break}}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}"frameworks"!==this.$route.name&&"concepts"!==this.$route.name&&"progressionLevels"!==this.$route.name||(this.$store.dispatch("app/refreshDirectories"),this.$store.commit("app/refreshSearch",!0))}},searchRepositoryForGroupsFailure:function(e){appLog("Group search failure: "+e)},addGroupIdentities:function(){appLog("Finding assigned groups...");var e={};e.size=this.GROUP_SEARCH_SIZE,EcOrganization.search(window.repo,"",this.searchRepositoryForGroupsSuccess,this.searchRepositoryForGroupsFailure,e)},addGroupIdentity:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r,o,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getOrgKeys();case 3:for(n=e.sent,appLog("Adding group identities: ("+t.shortId()+") - "+t.getName()+" - ("+n.length+") keys"),r=0;r<n.length;r++)o=n[r],i=new EcIdentity,i.displayName=t.getName()+" - key["+r+"]",i.ppk=o,EcIdentityManager.default.addIdentityQuietly(i);e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}(),saveDirectory:function(e){var t=this,n=new EcDirectory;n.name=e,n.generateId(window.repo.selectedServer),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),n.save((function(e){appLog("Directory saved: "+n.id),t.$store.commit("app/closeModal"),t.$store.dispatch("app/refreshDirectories"),t.addAnotherDirectory?(t.addAnotherDirectory=!1,t.$nextTick((function(){t.$store.commit("app/showModal",{component:"AddDirectory"})}))):t.selectDirectory(n)}),appError,window.repo)},saveDirectoryAndAddAnother:function(e){this.addAnotherDirectory=!0,this.saveDirectory(e)},selectDirectory:function(e){this.$store.commit("app/selectDirectory",e),this.$store.commit("app/rightAsideObject",e),"directory"!==this.$router.currentRoute.name&&this.$router.push({name:"directory"})},cappend:function(e){if("selected"===e.data.message){for(var t=[],n=0;n<e.data.selected.length;n++)e.data.selected[n]["ceasn:exactAlignment"]?t.push(e.data.selected[n]["ceasn:exactAlignment"]):e.data.selected[n]["@id"]?t.push(e.data.selected[n]["@id"]):t.push(e.data.selected[n]);appLog("I got "+e.data.selected.length+" selected items from the iframe"),appLog(e.data.selected)}else if("back"===e.data.message)this.$router.push({name:"framework",params:{frameworkId:this.$store.state.editor.framework.id}});else if("highlightedCompetencies"===e.data.message){if(!e.data.competencies)return;this.queryParams.highlightCompetency=e.data.competencies}else"select"===e.data.message&&"framework"===this.$route.name&&this.queryParams.select&&this.select()},openWebSocket:function(e){var t,n=this;t=null==this.queryParams.webSocketOverride||void 0===this.queryParams.webSocketOverride?new WebSocket(e.selectedServer.replace(/http/,"ws").replace(/api\//,"ws/custom")):new WebSocket(this.queryParams.webSocketOverride),t.onopen=function(){appLog("WebSocket open.")},t.onerror=function(e){appLog(e)},t.onclose=function(t){appLog(t),n.$store.commit("editor/webSocketBackoffIncrease"),setTimeout((function(){n.openWebSocket(e)}),n.$store.state.editor.webSocketBackoff)},t.changedObject=function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var r,o,i,s;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.$store.commit("editor/changedObject",t.shortId()),"Assertion"!==t.type){e.next=9;break}return e.next=4,EcAssertion.get(t.shortId());case 4:return r=e.sent,e.next=7,r.getAssertionDate();case 7:r.assertionDateDecrypted=e.sent,n.$store.commit("editor/addAssertion",r);case 9:if("framework"===n.$route.name||"conceptScheme"===n.$route.name||"progressionModel"===n.$route.name){e.next=11;break}return e.abrupt("return");case 11:if(o=n.$store.state.editor.framework,!(new ConceptScheme).isA(t.getFullType())&&"ConceptScheme"!==t["encryptedType"]){e.next=27;break}if(null==o){e.next=27;break}if(o.shortId()!==t.shortId()){e.next=27;break}if(i=new ConceptScheme,"ConceptScheme"!==t["encryptedType"]){e.next=24;break}return e.t0=i,e.next=20,EcEncryptedValue.fromEncryptedValue(t);case 20:e.t1=e.sent,e.t0.copyFrom.call(e.t0,e.t1),e.next=25;break;case 24:i.copyFrom(t);case 25:n.$store.commit("editor/framework",i),n.spitEvent("frameworkChanged",i.shortId());case 27:if(!(new EcFramework).isA(t.getFullType())&&"Framework"!==t["encryptedType"]){e.next=42;break}if(null==o){e.next=42;break}if(o.shortId()!==t.shortId()){e.next=42;break}if(i=new EcFramework,"Framework"!==t["encryptedType"]){e.next=39;break}return e.t2=i,e.next=35,EcEncryptedValue.fromEncryptedValue(t);case 35:e.t3=e.sent,e.t2.copyFrom.call(e.t2,e.t3),e.next=40;break;case 39:i.copyFrom(t);case 40:n.$store.commit("editor/framework",i),n.spitEvent("frameworkChanged",i.shortId());case 42:if(!(new Concept).isA(t.getFullType())&&"Concept"!==t["encryptedType"]){e.next=58;break}if(null==o){e.next=58;break}if(null==n.$store.state.editor.selectedCompetency){e.next=58;break}if(n.$store.state.editor.selectedCompetency.shortId()!==t.shortId()){e.next=57;break}if(s=new EcConcept,"Concept"!==t["encryptedType"]){e.next=55;break}return e.t4=s,e.next=51,EcEncryptedValue.fromEncryptedValue(t);case 51:e.t5=e.sent,e.t4.copyFrom.call(e.t4,e.t5),e.next=56;break;case 55:s.copyFrom(t);case 56:n.$store.commit("editor/selectedCompetency",s);case 57:n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId());case 58:if(!(new EcCompetency).isA(t.getFullType())&&"Competency"!==t["encryptedType"]){e.next=74;break}if(null==o){e.next=74;break}if(null==n.$store.state.editor.selectedCompetency){e.next=74;break}if(n.$store.state.editor.selectedCompetency.shortId()!==t.shortId()){e.next=73;break}if(s=new EcCompetency,"Competency"!==t["encryptedType"]){e.next=71;break}return e.t6=s,e.next=67,EcEncryptedValue.fromEncryptedValue(t);case 67:e.t7=e.sent,e.t6.copyFrom.call(e.t6,e.t7),e.next=72;break;case 71:s.copyFrom(t);case 72:n.$store.commit("editor/selectedCompetency",s);case 73:n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId());case 74:if(!(new EcLevel).isA(t.getFullType())&&"Level"!==t["encryptedType"]){e.next=90;break}if(null==o){e.next=90;break}if(null==n.$store.state.editor.selectedCompetency){e.next=90;break}if(n.$store.state.editor.selectedCompetency.shortId()!==t.shortId()){e.next=89;break}if(s=new EcLevel,"Level"!==t["encryptedType"]){e.next=87;break}return e.t8=s,e.next=83,EcEncryptedValue.fromEncryptedValue(t);case 83:e.t9=e.sent,e.t8.copyFrom.call(e.t8,e.t9),e.next=88;break;case 87:s.copyFrom(t);case 88:n.$store.commit("editor/selectedCompetency",s);case 89:n.spitEvent("competencyChanged",n.$store.state.editor.selectedCompetency.shortId());case 90:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onmessage=function(e){var r=e.data;if(appLog("Server: "+r),!EcArray.isArray(r)&&r.startsWith("[")&&(r=JSON.parse(r)),EcArray.isArray(r)){for(var o=0;o<r.length;o++)delete EcRepository.cache[r[o]],delete EcRepository.cache[EcRemoteLinkedData.trimVersionFromUrl(r[o])];if(null==n.$store.state.editor.framework)return;n.repo.precache(r,(function(){for(var e=0;e<r.length;e++)EcRepository.get(r[e],t.changedObject,appError)}))}else delete EcRepository.cache[r],delete EcRepository.cache[EcRemoteLinkedData.trimVersionFromUrl(r)],EcRepository.get(r,t.changedObject,appError)}},createNewFramework:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,this.$store.commit("editor/t3Profile",!1),this.setDefaultLanguage(),r=new EcFramework,null!=this.queryParams.newObjectEndpoint?r.generateShortId(this.queryParams.newObjectEndpoint):r.generateId(this.repo.selectedServer),r["schema:dateCreated"]=(new Date).toISOString(),r["schema:dateModified"]=(new Date).toISOString(),t&&(r.directory=t.shortId(),t.owner&&(r.owner=t.owner),t.reader&&(r.reader=t.reader)),EcIdentityManager.default.ids.length>0&&r.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.name={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Framework"},this.$store.commit("editor/newFramework",r.shortId()),"true"===this.queryParams.ceasnDataFields&&(r["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]),o=r,"true"!==this.queryParams.private){e.next=17;break}return e.next=16,EcEncryptedValue.toEncryptedValue(r);case 16:o=e.sent;case 17:this.repo.saveTo(o,(function(){n.$store.commit("editor/framework",r),"framework"!==n.$route.name&&n.$router.push({name:"framework"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createNewCollection:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){var t,n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.$store.commit("editor/t3Profile",!1),this.setDefaultLanguage(),n=new EcFramework,null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),n.name={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Collection"},this.$store.commit("editor/newFramework",n.shortId()),"true"===this.queryParams.ceasnDataFields&&(n["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]),n.subType="Collection",r=n,"true"!==this.queryParams.private){e.next=17;break}return e.next=16,EcEncryptedValue.toEncryptedValue(n);case 16:r=e.sent;case 17:this.repo.saveTo(r,(function(){t.$store.commit("editor/framework",n),"framework"!==t.$route.name&&t.$router.push({name:"framework"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createNewConceptScheme:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){var t,n,r,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.setDefaultLanguage(),n=new EcConceptScheme,null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r="New Taxonomy","true"===this.queryParams.ceasnDataFields&&(r="New Concept Scheme"),n["dcterms:title"]={"@language":this.$store.state.editor.defaultLanguage,"@value":r},"true"===this.queryParams.ceasnDataFields&&(n["dcterms:language"]=[this.$store.state.editor.defaultLanguage]),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),this.$store.commit("editor/newFramework",n.shortId()),o=n,"true"!==this.queryParams.private){e.next=17;break}return e.next=16,EcEncryptedValue.toEncryptedValue(n);case 16:o=e.sent;case 17:this.repo.saveTo(o,(function(){t.$store.commit("editor/framework",n),"conceptScheme"!==t.$route.name&&t.$router.push({name:"conceptScheme"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createNewProgressionModel:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){var t,n,r,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,this.setDefaultLanguage(),n=new EcConceptScheme,null!=this.queryParams.newObjectEndpoint?n.generateShortId(this.queryParams.newObjectEndpoint):n.generateId(this.repo.selectedServer),EcIdentityManager.default.ids.length>0&&n.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r="New Progression Model",n["dcterms:title"]={"@language":this.$store.state.editor.defaultLanguage,"@value":r},"true"===this.queryParams.ceasnDataFields&&(n["schema:inLanguage"]=[this.$store.state.editor.defaultLanguage]),n["schema:dateCreated"]=(new Date).toISOString(),n["schema:dateModified"]=(new Date).toISOString(),this.$store.commit("editor/newFramework",n.shortId()),o=n,"true"!==this.queryParams.private){e.next=16;break}return e.next=15,EcEncryptedValue.toEncryptedValue(n);case 15:o=e.sent;case 16:n.subType="Progression",this.repo.saveTo(o,(function(){t.$store.commit("editor/framework",n),"progressionModel"!==t.$route.name&&t.$router.push({name:"progressionModel"})}),appError);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createNew:function(){this.setDefaultLanguage();var e=this;!0===e.$store.getters["editor/conceptMode"]?this.createNewConceptScheme():!0===e.$store.getters["editor/progressionMode"]?this.createNewProgressionModel():this.createNewFramework()},loadIdentity:function(e){var t;if("self"===this.queryParams.user)EcIdentityManager.default.readIdentities(),EcIdentityManager.default.readContacts(),0===EcIdentityManager.default.ids.length?EcPpk.generateKeyAsync((function(n){t=new EcIdentity,t.ppk=n,t.displayName="You",EcIdentityManager.default.onIdentityChanged=EcIdentityManager.default.saveIdentities,EcIdentityManager.default.addIdentity(t),e()})):e();else if("wait"===this.queryParams.user&&this.inIframe()){var n=this,r=function(r){var o=r.data;if(null==o||""===o||EcObject.isObject(o)||(o=JSON.parse(o)),"identity"===o.action){t=new EcIdentity,t.ppk=EcPpk.fromPem(o.identity),t.displayName=o.name?o.name:"You",EcIdentityManager.default.addIdentity(t),e();var a={action:"response",message:"identityOk"};appLog(a),parent.postMessage(a,n.queryParams.origin)}};window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r);var o={message:"waiting"};appLog(o),parent.postMessage(o,this.queryParams.origin)}else e()},messageListener:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r,o,i,s,c,u,d,l,p,m;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,r=this,null!=n&&""!==n&&!EcObject.isObject(n))try{n=JSON.parse(n)}catch(a){}if(null==n||""===n){e.next=32;break}if("template"!==n.action){e.next=15;break}null!=n.framework&&(EcFramework.template=this.removeNewlines(n.framework)),null!=n.competency&&(EcCompetency.template=this.removeNewlines(n.competency)),null!=n.conceptScheme&&(EcConceptScheme.template=this.removeNewlines(n.conceptScheme)),null!=n.concept&&(EcConcept.template=this.removeNewlines(n.concept)),null!=n.directory&&(EcDirectory.template=this.removeNewlines(n.directory)),o={action:"response",message:"templateOk"},appLog(o),parent.postMessage(o,this.queryParams.origin),e.next=32;break;case 15:if("set"!==n.action){e.next=31;break}if(null==n.id){e.next=20;break}return e.next=19,EcRepository.get(n.id);case 19:i=e.sent;case 20:for(s in delete n.id,delete n.action,n)i[s]=n[s];if(i["schema:dateModified"]=(new Date).toISOString(),!0!==r.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[i.id]){e.next=28;break}return e.next=27,EcEncryptedValue.toEncryptedValue(i);case 27:i=e.sent;case 28:repo.saveTo(i,(function(e){var t={action:"response",message:"setOk"};appLog(t),parent.postMessage(t,r.queryParams.origin)}),(function(e){var t={action:"response",message:"setFail"};appLog(t),parent.postMessage(t,r.queryParams.origin)})),e.next=32;break;case 31:"export"===n.action&&(c=n.schema,p=this.$store.state.editor.framework,null!=this.$store.state.editor.selectedCompetency?(m=this.$store.state.editor.selectedCompetency,!1===EcRepository.shouldTryUrl(m.id)&&-1===m.id.indexOf(this.repo.selectedServer)?(u=this.repo.selectedServer+"data/"+EcCrypto.md5(m.shortId()),d=this.repo.selectedServer+"data/"+EcCrypto.md5(p.shortId()),l=EcCrypto.md5(m.shortId())):(u=m.id,d=p.id,l=m.getGuid())):!1===EcRepository.shouldTryUrl(p.id)&&-1===p.id.indexOf(this.repo.selectedServer)?(u=this.repo.selectedServer+"data/"+EcCrypto.md5(p.shortId()),d=this.repo.selectedServer+"data/"+EcCrypto.md5(p.shortId()),l=EcCrypto.md5(p.shortId())):(u=p.id,d=p.id,l=p.getGuid()),"asn"===c?this.get(d.replace("/data/","/asn/"),null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"asn",format:"rdf+xml",data:t},r.queryParams.origin)})):"cass"===c?this.get(u,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/ld+json",data:t},r.queryParams.origin)})):"cassn4"===c?this.get(u,null,{Accept:"text/n4"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"text/n4",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):"cassrdfxml"===c?this.get(u,null,{Accept:"application/rdf+xml"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"application/rdf+xml",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):"cassturtle"===c?this.get(u,null,{Accept:"text/turtle"},(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"cass",format:"text/turtle",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):"ceasn"===c||"ctdlasn"===c?this.get(d.replace("/data/","/ceasn/"),null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:c,format:"application/ld+json",data:t},r.queryParams.origin)})):"case"===c&&(null==m?this.get(this.repo.selectedServer+"ims/case/v1p0/CFDocuments/"+l,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"case",format:"application/json",data:t},r.queryParams.origin)}),(function(e){appLog(e)})):this.get(this.repo.selectedServer+"ims/case/v1p0/CFItems/"+l,null,null,(function(e){var t=JSON.parse(e);parent.postMessage({action:"response",message:"export",schema:"case",format:"application/json",data:t},r.queryParams.origin)}),(function(e){appLog(e)}))));case 32:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeNewlines:function(e){if(null!=e["owner"])for(var t=0;t<e["owner"].length;t++){var n=e["owner"][t];e["owner"][t]=EcPk.fromPem(n).toPem()}if(null!=e["reader"])for(t=0;t<e["reader"].length;t++){n=e["reader"][t];e["reader"][t]=EcPk.fromPem(n).toPem()}if(null!=e["@owner"])for(t=0;t<e["@owner"].length;t++){n=e["@owner"][t];e["@owner"][t]=EcPk.fromPem(n).toPem()}if(null!=e["@reader"])for(t=0;t<e["@reader"].length;t++){n=e["@reader"][t];e["@reader"][t]=EcPk.fromPem(n).toPem()}return e},attachUrlProperties:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.$store.state.editor.framework,null!=this.$store.state.editor.selectedCompetency&&(n=this.$store.state.editor.selectedCompetency),r=0;case 3:if(!(r<t.length)){e.next=11;break}return e.next=6,EcRepository.get(t[r]);case 6:o=e.sent,o.isAny((new EcConcept).getTypes())&&(EcArray.isArray(n[this.$store.state.editor.selectCompetencyRelation])||(n[this.$store.state.editor.selectCompetencyRelation]=[]),EcArray.setAdd(n[this.$store.state.editor.selectCompetencyRelation],o.shortId()));case 8:r++,e.next=3;break;case 11:if(n["schema:dateModified"]=(new Date).toISOString(),!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[n.id]){e.next=16;break}return e.next=15,EcEncryptedValue.toEncryptedValue(n);case 15:n=e.sent;case 16:this.repo.saveTo(n,(function(){}),appError);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),copyOrLink:function(e,t){"Copy"===e?this.copyCompetencies(t):this.appendCompetencies(t,!0)},copyCompetencies:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r,o,i,s,c,u,d,l,p,m,f,h,g;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={},r=this.$store.state.editor.framework,o=this,i=0;case 4:if(!(i<t.length)){e.next=46;break}return e.next=7,EcRepository.get(t[i]);case 7:if(s=e.sent,null==s||!s.isAny((new EcCompetency).getTypes())){e.next=28;break}if(c=new EcCompetency,c.copyFrom(s),null!=this.queryParams.newObjectEndpoint?c.generateShortId(this.queryParams.newObjectEndpoint):c.generateId(this.repo.selectedServer),c["schema:dateCreated"]=(new Date).toISOString(),c["schema:dateModified"]=(new Date).toISOString(),delete c.owner,EcIdentityManager.default.ids.length>0&&c.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(u=0;u<r.owner.length;u++)d=r.owner[u],c.addOwner(EcPk.fromPem(d));if(r.reader&&r.reader.length>0)for(u=0;u<r.reader.length;u++)l=r.reader[u],c.addReader(EcPk.fromPem(l));if(c["ceasn:derivedFrom"]=s.id,n[c["ceasn:derivedFrom"]]=c,!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[c.id]){e.next=24;break}return e.next=23,EcEncryptedValue.toEncryptedValue(c);case 23:c=e.sent;case 24:this.itemsSaving++,function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){r.addCompetency(e.id),o.$store.commit("editor/framework",r),o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))}(c),e.next=43;break;case 28:if(null==s||!s.isAny((new EcLevel).getTypes())){e.next=43;break}if(p=new EcLevel,p.copyFrom(s),null!=this.queryParams.newObjectEndpoint?p.generateShortId(this.queryParams.newObjectEndpoint):p.generateId(this.repo.selectedServer),p["schema:dateCreated"]=(new Date).toISOString(),p.competency=this.$store.state.editor.selectedCompetency.shortId(),delete p.owner,p["ceasn:derivedFrom"]=s.id,n[p["ceasn:derivedFrom"]]=p,!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[p.id]){e.next=41;break}return e.next=40,EcEncryptedValue.toEncryptedValue(p);case 40:p=e.sent;case 41:this.itemsSaving++,function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){r.addLevel(e.id),o.$store.commit("editor/framework",r),o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))}(p);case 43:i++,e.next=4;break;case 46:i=0;case 47:if(!(i<t.length)){e.next=77;break}return e.next=50,EcRepository.get(t[i]);case 50:if(s=e.sent,null==s||!s.isAny((new EcAlignment).getTypes())){e.next=74;break}if(m=n[s.target],f=n[s.source],"undefined"===typeof m||"undefined"===typeof f){e.next=74;break}if(h=new EcAlignment,h.copyFrom(s),null!=this.queryParams.newObjectEndpoint?h.generateShortId(this.queryParams.newObjectEndpoint):h.generateId(this.repo.selectedServer),h["schema:dateCreated"]=(new Date).toISOString(),h.target=m.shortId(),h.source=f.shortId(),h.relationType=s.relationType,EcIdentityManager.default.ids.length>0&&h.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(u=0;u<r.owner.length;u++)d=r.owner[u],h.addOwner(EcPk.fromPem(d));if(r.reader&&r.reader.length>0)for(u=0;u<r.reader.length;u++)l=r.reader[u],h.addReader(EcPk.fromPem(l));if(h.source===h.target){e.next=74;break}if(r["schema:dateModified"]=(new Date).toISOString(),EcArray.setRemove(t,s.source),!0!==this.$store.state.editor.private){e.next=72;break}return e.next=71,EcEncryptedValue.toEncryptedValue(h);case 71:h=e.sent;case 72:this.itemsSaving++,function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){r.addRelation(e.id),o.$store.commit("editor/framework",r),o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))}(h);case 74:i++,e.next=47;break;case 77:g=this.$store.state.editor.selectedCompetency,i=0;case 79:if(!(i<t.length)){e.next=107;break}return e.next=82,EcRepository.get(t[i]);case 82:if(s=e.sent,null==s||!s.isAny((new EcCompetency).getTypes())){e.next=104;break}if(null==g){e.next=104;break}if(h=new EcAlignment,null!=this.queryParams.newObjectEndpoint?h.generateShortId(this.queryParams.newObjectEndpoint):h.generateId(this.repo.selectedServer),h["schema:dateCreated"]=(new Date).toISOString(),f=n[s.id],h.target=g.shortId(),h.source=f.shortId(),h.relationType=Relation.NARROWS,EcIdentityManager.default.ids.length>0&&h.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),r.owner&&r.owner.length>0)for(u=0;u<r.owner.length;u++)d=r.owner[u],h.addOwner(EcPk.fromPem(d));if(r.reader&&r.reader.length>0)for(u=0;u<r.reader.length;u++)l=r.reader[u],h.addReader(EcPk.fromPem(l));if(h.source===h.target){e.next=104;break}if(this.itemsSaving++,r.addRelation(h.id),r["schema:dateModified"]=(new Date).toISOString(),!0!==this.$store.state.editor.private){e.next=103;break}return e.next=102,EcEncryptedValue.toEncryptedValue(h);case 102:h=e.sent;case 103:(function(e){Task.asyncImmediate((function(t){o.repo.saveTo(e,(function(){o.afterCopy(),t()}),(function(e){appError(e),o.afterCopy(),t()}))}))})(h);case 104:i++,e.next=79;break;case 107:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),afterCopy:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){var t;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.itemsSaving--,0!==this.itemsSaving){e.next=8;break}if(t=this.$store.state.editor.framework,!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[t.id]){e.next=7;break}return e.next=6,EcEncryptedValue.toEncryptedValue(t);case 6:t=e.sent;case 7:this.repo.saveTo(t,(function(){}),appError);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),appendCompetencies:function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t,n){var r,o,s,c,u,d,l,p,m;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.$store.state.editor.selectedCompetency,o=this.$store.state.editor.framework,s=this,c=0;case 4:if(!(c<t.length)){e.next=12;break}return e.next=7,EcRepository.get(t[c]);case 7:u=e.sent,u.isAny((new EcCompetency).getTypes())?o.addCompetency(u.shortId()):u.isAny((new EcLevel).getTypes())&&(o.addLevel(u.shortId()),EcArray.isArray(u.competency)||(u.competency=[u.competency]),u.competency.push(r.shortId()),this.repo.saveTo(u,(function(){}),appError));case 9:c++,e.next=4;break;case 12:c=0;case 13:if(!(c<t.length)){e.next=21;break}return e.next=16,EcRepository.get(t[c]);case 16:u=e.sent,u.isAny((new EcAlignment).getTypes())&&EcArray.has(o.competency,u.source)&&EcArray.has(o.competency,u.target)&&(o.addRelation(u.shortId()),EcArray.setRemove(t,u.source));case 18:c++,e.next=13;break;case 21:c=0;case 22:if(!(c<t.length)){e.next=47;break}return e.next=25,EcRepository.get(t[c]);case 25:if(u=e.sent,!u.isAny((new EcCompetency).getTypes())){e.next=44;break}if(null==r){e.next=44;break}if(d=new EcAlignment,null!=this.queryParams.newObjectEndpoint?d.generateShortId(this.queryParams.newObjectEndpoint):d.generateId(this.repo.selectedServer),d["schema:dateCreated"]=(new Date).toISOString(),d.target=r.shortId(),d.source=u.shortId(),d.relationType=Relation.NARROWS,EcIdentityManager.default.ids.length>0&&d.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),o.owner&&o.owner.length>0)for(l=0;l<o.owner.length;l++)p=o.owner[l],d.addOwner(EcPk.fromPem(p));if(o.reader&&o.reader.length>0)for(l=0;l<o.reader.length;l++)m=o.reader[l],d.addReader(EcPk.fromPem(m));if(d.source===d.target){e.next=44;break}if(o.addRelation(d.id),!0!==this.$store.state.editor.private){e.next=43;break}return e.next=42,EcEncryptedValue.toEncryptedValue(d);case 42:d=e.sent;case 43:this.repo.saveTo(d,(function(){}),appError);case 44:c++,e.next=22;break;case 47:if(!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[o.id]){e.next=51;break}return e.next=50,EcEncryptedValue.toEncryptedValue(o);case 50:o=e.sent;case 51:this.repo.saveTo(o,Object(i["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=s.$store,e.next=3,EcFramework.get(o.id);case 3:e.t1=e.sent,e.t0.commit.call(e.t0,"editor/framework",e.t1);case 5:case"end":return e.stop()}}),e)}))),appError);case 52:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),importParentStyles:function(){for(var e=parent.document.styleSheets,t="",n=0,r=e.length;n<r;++n)if(e[n].cssRules&&null!=e[n].ownerNode.attributes.inherit)for(var o=e[n].cssRules,a=0,i=o.length;a<i;++a)t+=o[a].cssText;var s=document.createElement("style");s.type="text/css";try{s.innerHTML=t}catch(c){}document.getElementsByTagName("head")[0].appendChild(s)},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}}},computed:Object(r["a"])({bannerMessage:function(){return this.$store.getters["app/bannerMessage"]},bannerStyle:function(){return{color:this.$store.getters["app/bannerColor"],"background-color":this.$store.getters["app/bannerBackground"]}},editorClass:function(){return{"ceasn-editor":"true"===this.queryParams.ceasnDataFields,"has-banner":this.$store.getters["app/bannerMessage"]}},showRightAside:function(){return this.$store.getters["app/showRightAside"]},showSideNav:function(){return this.$store.getters["app/showSideNav"]},currentRoute:function(){return this.$route.path},isLoggedIn:function(){return!(!this.loggedInPerson||this.loggedInPerson&&!this.loggedInPerson.name)},currentPathIsLogin:function(){return"login"===this.$route.name}},Object(s["c"])({loggedInPerson:function(e){return e.user.loggedOnPerson},queryParams:function(e){return e.editor.queryParams}})),mounted:function(){},watch:{currentRoute:function(e){this.isLoggedIn||"/users"!==e||this.$router.push({path:"/"})},$route:function(e,t){this.$store.commit("app/closeRightAside"),this.$store.commit("app/closeModal");var n=e;n&&(this.navBarActive=!1),t.name||this.initializeApp(),"concepts"===e.name&&(this.$store.commit("editor/conceptMode",!0),this.$store.commit("editor/progressionMode",!1)),"progressionLevels"===e.name&&(this.$store.commit("editor/progressionMode",!0),this.$store.commit("editor/conceptMode",!1)),"frameworks"===e.name&&(this.$store.commit("editor/conceptMode",!1),this.$store.commit("editor/progressionMode",!1))},loggedInPerson:function(){this.$store.commit("editor/setMe",EcIdentityManager.default.ids[0].ppk.toPk().toPem()),this.$store.commit("editor/setSubject",EcIdentityManager.default.ids[0].ppk.toPk().toPem()),this.$store.commit("editor/setManageAssertions",!1)}}}}).call(this,n("c8ba"))},2:function(e,t){},3:function(e,t){},3392:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[t(e.dynamicModal,{tag:"Component",attrs:{title:e.title,view:"modal",content:e.dynamicModalContent},on:{"create-directory":function(t){return e.$emit("create-directory",t)},"create-another-directory":function(t){return e.$emit("create-another-directory",t)},close:function(t){return e.$emit("app/closeModal")},cancel:function(t){return e.$emit("app/closeModal")}}})],1)},o=[],a=(n("d3b7"),n("3ca3"),n("ddb0"),{name:"DynamicModal",props:{type:{default:"info",type:String},color:{default:"white",type:String}},components:{Share:function(){return n.e("chunk-5501e146").then(n.bind(null,"c24a"))},MultiEdit:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-701cdf0d"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-855e2d72")]).then(n.bind(null,"71a9"))},SearchModal:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-701cdf0d"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-07ba62a5")]).then(n.bind(null,"fbde"))},AddComment:function(){return n.e("chunk-3561f686").then(n.bind(null,"8a30"))},DeleteCommentConfirm:function(){return n.e("chunk-4d912b36").then(n.bind(null,"4d6a"))},DeleteDirectoryConfirm:function(){return n.e("chunk-25eb577f").then(n.bind(null,"5f07"))},SupportedImportDetails:function(){return n.e("chunk-261f65bc").then(n.bind(null,"aaa3"))},Single:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-701cdf0d"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-491a6871")]).then(n.bind(null,"9765"))},AddDirectory:function(){return n.e("chunk-17f22648").then(n.bind(null,"76c6"))},DeleteConfigurationConfirm:function(){return n.e("chunk-3f750df5").then(n.bind(null,"b123"))},FrameworkConfiguration:function(){return Promise.all([n.e("chunk-5fb9cf9f"),n.e("chunk-2d0b2ce8")]).then(n.bind(null,"264b"))},DeleteCompetencyConfirm:function(){return n.e("chunk-0c8dcbb2").then(n.bind(null,"b5c7"))},DeleteFrameworkConfirm:function(){return n.e("chunk-03583113").then(n.bind(null,"c4df"))},DeleteLevelConfirm:function(){return n.e("chunk-7965c359").then(n.bind(null,"9d8f"))},DeleteConceptConfirm:function(){return n.e("chunk-a165d4e4").then(n.bind(null,"26bb"))},DeleteConceptSchemeConfirm:function(){return n.e("chunk-49ab7234").then(n.bind(null,"a6a6"))},RemoveCompetencyConfirm:function(){return n.e("chunk-636e5f66").then(n.bind(null,"2d77"))},ExportOptionsModal:function(){return n.e("chunk-3730d0cd").then(n.bind(null,"03d5"))},RequiredPropertyModal:function(){return n.e("chunk-07b9d536").then(n.bind(null,"1948"))},DuplicateImport:function(){return n.e("chunk-a8044f92").then(n.bind(null,"1a52"))},ImportError:function(){return n.e("chunk-c717ce28").then(n.bind(null,"ef89"))},ShareAssertions:function(){return n.e("chunk-5747db49").then(n.bind(null,"4d343"))},LogoutSuccess:function(){return n.e("chunk-0d4ad1f5").then(n.bind(null,"0dd5"))},MessageOfTheDay:function(){return n.e("chunk-754d59e3").then(n.bind(null,"1d06"))}},data:function(){return{}},computed:{showModal:function(){return this.$store.getters["app/showModal"]},dynamicModalContent:function(){return this.showModal?this.$store.getters["app/dynamicModalContent"]:{}},dynamicModal:function(){return this.dynamicModalContent?this.dynamicModalContent.component:""},title:function(){return this.dynamicModalContent&&this.dynamicModalContent.title?this.dynamicModalContent.title:""}},watch:{}}),i=a,s=(n("5178"),n("2877")),c=Object(s["a"])(i,r,o,!1,null,null,null);t["a"]=c.exports},"3dfd":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{class:e.editorClass,attrs:{id:"app"}},[e.bannerMessage?t("div",{staticClass:"banner",style:e.bannerStyle},[t("span",[e._v(e._s(e.bannerMessage))])]):e._e(),t("DynamicModal",{on:{"create-directory":e.saveDirectory,"create-another-directory":e.saveDirectoryAndAddAnother}}),t("router-view",{class:[{"clear-side-bar":e.showSideNav},{"clear-narrow-side-bar":!e.showSideNav},{"clear-right-aside":e.showRightAside}],on:{"create-new-framework":e.createNewFramework,"create-new-concept-scheme":e.createNewConceptScheme,"create-new-progression-model":e.createNewProgressionModel,"create-new-collection":e.createNewCollection}}),t("router-view",{attrs:{showSideNav:e.showSideNav,name:"sidebar"},on:{"create-new-framework":e.createNewFramework,"create-new-concept-scheme":e.createNewConceptScheme,"create-new-progression-model":e.createNewProgressionModel,"create-new-collection":e.createNewCollection}}),t("vue-progress-bar"),e.bannerMessage?t("div",{staticClass:"banner banner-bot",style:e.bannerStyle},[t("span",[e._v(e._s(e.bannerMessage))])]):e._e()],1)},o=[],a=n("199c"),i=a["a"],s=(n("eeb8"),n("2877")),c=Object(s["a"])(i,r,o,!1,null,null,null);t["a"]=c.exports},4:function(e,t){},"41cb":function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var r=n("2b0e"),o=n("8c4f");r["a"].use(o["a"]),t["a"]=new o["a"]({base:"",scrollBehavior:function(e,t,n){if(e.hash)return{selector:e.hash,offset:{x:0,y:-100}}},routes:[{path:"/",name:"welcome",components:{default:function(){return n.e("welcome").then(n.bind(null,"eec55"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}},alias:"/cass-editor/"},{path:"/frameworks",name:"frameworks",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/collections",name:"collections",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/concepts",name:"concepts",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/progressionLevels",name:"progressionLevels",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("chunk-2d22bdc1"),n.e("concepts")]).then(n.bind(null,"6791"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"ede4"))}},{path:"/legacyLogin",name:"legacyLogin",component:function(){return n.e("login").then(n.bind(null,"d492"))}},{path:"/createAccount",name:"createAccount",component:function(){return n.e("login").then(n.bind(null,"50b5"))}},{path:"/configuration",name:"configuration",components:{default:function(){return Promise.all([n.e("chunk-5fb9cf9f"),n.e("configurationEditor")]).then(n.bind(null,"7bcc"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/users",name:"users",components:{default:function(){return n.e("userGroupEditor").then(n.bind(null,"4a5b"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/pluginManager",name:"pluginManager",components:{default:function(){return n.e("pluginManager").then(n.bind(null,"55c5"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/crosswalk",name:"crosswalk",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-701cdf0d"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("crosswalk")]).then(n.bind(null,"1cfb"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/timeline",name:"timeline",components:{default:function(){return n.e("timeline").then(n.bind(null,"3dd3"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/about",name:"about",components:{default:function(){return n.e("about").then(n.bind(null,"f820"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/framework",name:"framework",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("chunk-2d21ecda"),n.e("framework")]).then(n.bind(null,"2f26"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/import",name:"import",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-701cdf0d"),n.e("chunk-2d0d5fe2"),n.e("chunk-1b29bed6"),n.e("import")]).then(n.bind(null,"47e0"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/organizations",name:"organizations",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-2d0d5fe2"),n.e("organizations")]).then(n.bind(null,"4f42"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/organization",name:"organization",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("organization")]).then(n.bind(null,"5186"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/pluginContainer",name:"pluginContainer",components:{default:function(){return n.e("pluginContainer").then(n.bind(null,"bd3b"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/conceptScheme",name:"conceptScheme",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("conceptScheme")]).then(n.bind(null,"5889"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/progressionModel",name:"progressionModel",components:{default:function(){return Promise.all([n.e("chunk-2d22bdc1"),n.e("progressionModel")]).then(n.bind(null,"e3ce"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}},{path:"/403",name:"Forbidden",component:function(){return n.e("forbidden").then(n.bind(null,"dc82"))}},{path:"/500",name:"InternalError",component:function(){return n.e("internalError").then(n.bind(null,"7f18"))}},{path:"/directory",name:"directory",components:{default:function(){return Promise.all([n.e("chunk-2d0a4fe9"),n.e("chunk-1b29bed6"),n.e("directory")]).then(n.bind(null,"1e7a"))},sidebar:function(){return n.e("sidenav").then(n.bind(null,"99b8"))},topbar:function(){return n.e("topbar").then(n.bind(null,"ddc0"))}}}]})},4360:function(e,t,n){"use strict";var r=n("2b0e"),o=n("2f62"),a=n("8596"),i=(n("14d9"),n("a434"),n("d3b7"),n("ac1f"),n("841c"),n("2ca0"),n("b64b"),n("b0c0"),n("4e82"),n("c7eb")),s=n("1da1"),c=n("2909");r["a"].use(o["a"]);var u={framework:null,organization:null,selectedCompetency:null,queryParams:{},defaultLanguage:null,webSocketBackoff:100,selectCompetencyRelation:null,selectingCompetencies:!1,private:!1,newCompetency:null,newFramework:null,t3Profile:!1,changedObject:null,configuration:null,commonPathIframe:"",iframeCompetencyPathInterframework:"",iframeConceptPath:"",addCommentAboutId:"",addCommentType:"",commentToEdit:{},commentToReply:{},frameworkCommentDataLoaded:!1,frameworkCommentList:[],frameworkCommentPersonMap:{},commentsToDelete:[],commentScrollTo:{},editsToUndo:[],lastEditToUndo:null,recomputeHierarchy:!1,recomputePrecedence:!1,recomputePrecedenceAfterReorder:!1,selectedCompetenciesAsProperties:null,refreshLevels:!1,refreshAlignments:!1,refreshProperties:!1,conceptMode:!1,collectionMode:!1,progressionMode:!1,cutId:null,copyId:null,paste:!1,cutOrCopyContainerId:null,nodeInFocus:null,relations:{},setPropertyLevel:null,addAnother:!1,itemToDelete:{},itemToRemove:{},itemToExport:{},manageAssertions:!1,assertions:[],badgePk:null,me:null,subject:null,people:[],firstSearchProcessing:!0,searchingAssertions:!1},d={framework:function(e,t){e.framework=t},organization:function(e,t){e.organization=t},selectedCompetency:function(e,t){e.selectedCompetency=t},queryParams:function(e,t){e.queryParams=t},defaultLanguage:function(e,t){e.defaultLanguage=t},webSocketBackoffIncrease:function(e){e.webSocketBackoff*=2},private:function(e,t){e.private=t},selectCompetencyRelation:function(e,t){e.selectCompetencyRelation=t},selectingCompetencies:function(e,t){e.selectingCompetencies=t},newCompetency:function(e,t){e.newCompetency=t},newFramework:function(e,t){e.newFramework=t},t3Profile:function(e,t){e.t3Profile=t},changedObject:function(e,t){e.changedObject=t},configuration:function(e,t){e.configuration=t},commonPathIframe:function(e,t){e.commonPathIframe=t},iframeCompetencyPathInterframework:function(e,t){e.iframeCompetencyPathInterframework=t},iframeConceptPath:function(e,t){e.iframeConceptPath=t},setAddCommentAboutId:function(e,t){e.addCommentAboutId=t},setAddCommentType:function(e,t){e.addCommentType=t},setCommentToEdit:function(e,t){e.commentToEdit=t},setCommentToReply:function(e,t){e.commentToReply=t},setCommentsToDelete:function(e,t){e.commentsToDelete=t},clearFrameworkCommentData:function(e){e.frameworkCommentDataLoaded=!1,e.frameworkCommentList=[],e.frameworkCommentPersonMap={}},setFrameworkCommentDataLoaded:function(e,t){e.frameworkCommentDataLoaded=t},setFrameworkCommentList:function(e,t){e.frameworkCommentList=t},setFrameworkCommentPersonMap:function(e,t){e.frameworkCommentPersonMap=t},setCommentScrollTo:function(e,t){e.commentScrollTo=t},addEditsToUndo:function(e,t){e.editsToUndo.push(t)},setLastEditToUndo:function(e,t){e.lastEditToUndo=t},recomputeHierarchy:function(e,t){e.recomputeHierarchy=t},recomputePrecedence:function(e,t){e.recomputePrecedence=t},recomputePrecedenceAfterReorder:function(e,t){e.recomputePrecedenceAfterReorder=t},selectedCompetenciesAsProperties:function(e,t){e.selectedCompetenciesAsProperties=t},refreshLevels:function(e,t){e.refreshLevels=t},refreshAlignments:function(e,t){e.refreshAlignments=t},refreshProperties:function(e,t){e.refreshProperties=t},conceptMode:function(e,t){t?(e.conceptMode=!0,e.progressionMode=!1):e.conceptMode=!1},collectionMode:function(e,t){e.collectionMode=t},progressionMode:function(e,t){t?(e.progressionMode=!0,e.conceptMode=!1):e.progressionMode=!1},cutId:function(e,t){e.cutId=t},copyId:function(e,t){e.copyId=t},paste:function(e,t){e.paste=t},cutOrCopyContainerId:function(e,t){e.cutOrCopyContainerId=t},nodeInFocus:function(e,t){e.nodeInFocus=t},relations:function(e,t){e.relations=t},setPropertyLevel:function(e,t){e.setPropertyLevel=t},addAnother:function(e,t){e.addAnother=t},setItemToDelete:function(e,t){e.itemToDelete=t},setItemToRemove:function(e,t){e.itemToRemove=t},setItemToExport:function(e,t){e.itemToExport=t},setManageAssertions:function(e,t){e.manageAssertions=t},setAssertions:function(e,t){e.assertions=t},removeAssertion:function(e,t){EcArray.setRemove(e.assertions,t)},removeAssertionAtIndex:function(e,t){e.assertions.splice(t,1)},addAssertion:function(e,t){EcArray.setAdd(e.assertions,t)},setBadgePk:function(e,t){e.badgePk=t},setMe:function(e,t){e.me=t},setSubject:function(e,t){e.subject=t},setPeople:function(e,t){e.people=t},setFirstSearchProcessing:function(e,t){e.firstSearchProcessing=t},setSearchingAssertions:function(e,t){e.searchingAssertions=t}},l={getDirectoryChildren:function(e,t){var n=[];return t.frameworks&&n.push.apply(n,Object(c["a"])(t.frameworks)),t.resources&&n.push.apply(n,Object(c["a"])(t.resources)),t.directories&&n.push.apply(n,Object(c["a"])(t.directories)),n},lastEditToUndo:function(e){return e.commit("setLastEditToUndo",e.state.editsToUndo.pop()),e.state.lastEditToUndo},getThing:function(e,t){return new Promise((function(e,n){var r=EcRemote.urlAppend(t.server,t.service);r=EcRemote.upgradeHttpToHttps(r),fetch(r,{headers:t.headers}).then((function(n){t.success&&t.success(n.data),e(n.data)})).catch((function(e){t.failure&&t.failure(e),n(e)}))}))},searchForAssertions:function(e){return new Promise((function(t,n){e.state.searchingAssertions=!0;var r=[],o=function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(n,a){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,u){EcAssertion.search(window.repo,'"'+e.state.me+'"',function(){var e=Object(s["a"])(Object(i["a"])().mark((function e(s){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.push.apply(r,Object(c["a"])(s)),n+=a,!(s.length>0)){e.next=5;break}return e.next=5,o(n,a);case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u,{size:a,start:n})})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();o(0,5e3).then((function(){var n=new EcAsyncHelper;n.each(r,(function(e,t){null!=e.assertionDateDecrypted?t():e.getAssertionDateAsync((function(n){e.assertionDateDecrypted=n,t()}),t)}),(function(n){e.state.assertions=n,e.state.searchingAssertions=!1,t()}))})).catch(appError)}))},computeBecause:function(e,t){return new Promise((function(e,n){var r=[];(new EcAsyncHelper).each(t,(function(e,t){var n="",o=e;if(null!=e.startsWith&&e.startsWith("{")&&(e=JSON.parse(e)),EcObject.isObject(e))null!=e.verb&&null!=e.verb.display&&null!=e.verb.display.en&&(n+=e.verb.display.en+" "),null!=e.object&&null!=e.object.definition&&"http://adlnet.gov/expapi/activities/assessment"===e.object.definition.type&&(n+='"'+e.object.definition.name.en+'" quiz with a ',null!=e.result&&null!=e.result.success&&(n+=e.result.success?" passing ":" not passing ",n+=Math.round(100*e.result.score.scaled)+"%")),null!=e.object&&null!=e.object.definition&&null!=e.object.definition.interactionType&&(n+='"'+e.object.definition.name.en+'" ',null!=e.result&&null!=e.result.success&&(n+=e.result.success?" correctly":" incorrectly")),""!==n&&r.push({text:n,original:o}),t();else if(null!=e.startsWith&&e.startsWith("http")){var a=function(){r.push({text:"did this",url:e,original:o})};EcRepository.get(e,(function(n){try{n.isAny((new ChooseAction).getTypes())?EcRepository.get(n.object,(function(e){r.push({text:"viewed "+e.name,url:e.url,original:o}),t()}),t):(a(),t())}catch(e){a(),t()}}),(function(e){a(),t()}))}else r.push({text:'"'+e+'"',original:o}),t()}),(function(t){e(r)}))}))}},p={framework:function(e){return e.framework},organization:function(e){return e.organization},selectedCompetency:function(e){return e.selectedCompetency},queryParams:function(e){return e.queryParams},defaultLanguage:function(e){return e.defaultLanguage},webSocketBackoff:function(e){return e.webSocketBackoff},selectCompetencyRelation:function(e){return e.selectCompetencyRelation},selectingCompetencies:function(e){return e.selectingCompetencies},private:function(e){return e.private},newCompetency:function(e){return e.newCompetency},newFramework:function(e){return e.newFramework},t3Profile:function(e){return e.t3Profile},changedObject:function(e){return e.changedObject},configuration:function(e){return e.configuration},addCommentAboutId:function(e){return e.addCommentAboutId},addCommentType:function(e){return e.addCommentType},commentToEdit:function(e){return e.commentToEdit},commentToReply:function(e){return e.commentToReply},commentsToDelete:function(e){return e.commentsToDelete},frameworkCommentDataLoaded:function(e){return e.frameworkCommentDataLoaded},frameworkCommentList:function(e){return e.frameworkCommentList},frameworkCommentPersonMap:function(e){return e.frameworkCommentPersonMap},commentScrollTo:function(e){return e.commentScrollTo},recomputeHierarchy:function(e){return e.recomputeHierarchy},recomputePrecedence:function(e){return e.recomputePrecedence},recomputePrecedenceAfterReorder:function(e){return e.recomputePrecedenceAfterReorder},selectedCompetenciesAsProperties:function(e){return e.selectedCompetenciesAsProperties},refreshLevels:function(e){return e.refreshLevels},refreshAlignments:function(e){return e.refreshAlignments},refreshProperties:function(e){return e.refreshProperties},conceptMode:function(e){return e.conceptMode},collectionMode:function(e){return e.collectionMode},progressionMode:function(e){return e.progressionMode},cutId:function(e){return e.cutId},copyId:function(e){return e.copyId},paste:function(e){return e.paste},cutOrCopyContainerId:function(e){return e.cutOrCopyContainerId},nodeInFocus:function(e){return e.nodeInFocus},relations:function(e){return e.relations},setPropertyLevel:function(e){return e.setPropertyLevel},addAnother:function(e){return e.addAnother},itemToDelete:function(e){return e.itemToDelete},itemToRemove:function(e){return e.itemToRemove},itemToExport:function(e){return e.itemToExport},manageAssertions:function(e){return e.manageAssertions},assertions:function(e){return e.assertions.sort((function(e,t){return t.assertionDateDecrypted-e.assertionDateDecrypted}))},badgePk:function(e){return e.badgePk},getMe:function(e){return e.me},getSubject:function(e){return e.subject},people:function(e){return e.people},firstSearchProcessing:function(e){return e.firstSearchProcessing},searchingAssertions:function(e){return e.searchingAssertions}},m={namespaced:!0,state:u,mutations:d,actions:l,getters:p},f=(n("c740"),n("7db0"),{sideNavEnabled:!0,showSideNav:!0,showRightAside:!1,rightAsideContent:"",rightAsideObject:null,canViewComments:!1,canAddComments:!1,pluginLastUpdate:null,pluginToLaunch:null,pluginToLaunchLastUpdate:0,framework:{showToolBar:!0,commentsEnabled:!0,versionsEnabled:!0,draggingEnabled:!1,isDragging:!1,draggable:{}},configuration:{contentSection:""},frameworks:{searchTerm:"",quickFilters:[],applySearchTo:[],sortResults:[],refreshSearch:!1,searchFrameworksInCompetencySearch:!1},modal:{framework:"",showModal:!1,dynamicModalContent:{},objForShareModal:null},directories:{directoryList:[],selectedDirectory:null,searchingInDirectory:!0,editDirectory:!1},import:{files:[],transition:"upload",status:"",type:"file",fileType:"",firstImport:Boolean,errors:[],feedback:"",duplicates:[],skip:[],framework:null,serverUrl:"",url:"",frameworkName:"",frameworkDescription:"",importCsv:{nameColumn:{},descriptionColumn:{},scopeColumn:{},idColumn:{},sourceColumn:{},relationColumn:{},targetColumn:{}},importText:"",csvColumns:[],csvRelationColumns:[],csvRelationFile:null,importModalParams:null},allowCancel:!1,banner:{message:"",color:"",background:""},motd:{message:"",title:""},curatedPlugins:[{id:"vlrcTestPlugin3",url:"https://raw.githubusercontent.com/cassproject/cass-vlrc/master/"}]}),h={showSideNav:function(){f.showSideNav=!0,f.showRightAside=!1},closeSideNav:function(){f.showSideNav=!1},showRightAside:function(e,t){e.showRightAside=!0,e.rightAsideContent=t},closeRightAside:function(e){e.showRightAside=!1,e.rightAsideContent="",e.rightAsideObject=null},rightAsideObject:function(){var e=Object(s["a"])(Object(i["a"])().mark((function e(t,n){var r,o;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.encryptedType){e.next=11;break}return r="Ec"+n.encryptedType,o=new window[r],e.t0=o,e.next=6,EcEncryptedValue.fromEncryptedValue(n);case 6:e.t1=e.sent,e.t0.copyFrom.call(e.t0,e.t1),t.rightAsideObject=o,e.next=12;break;case 11:t.rightAsideObject=n;case 12:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),showModal:function(e,t){e.modal.showModal=!0,e.modal.dynamicModalContent=t},closeModal:function(e){e.modal.showModal=!1,e.modal.dynamicModalContent={}},objForShareModal:function(e,t){e.modal.objForShareModal=t},draggingEnabled:function(e,t){e.framework.draggingEnabled=t},isDragging:function(e,t){e.framework.isDragging=t},draggable:function(e,t){e.framework.draggable=t},importFiles:function(e,t){e.import.files=t},setCanViewComments:function(e,t){e.canViewComments=t},setCanAddComments:function(e,t){e.canAddComments=t},clearImportFiles:function(e){e.import.files=[]},pluginLastUpdate:function(e,t){e.pluginLastUpdate=t},pluginToLaunch:function(e,t){e.pluginToLaunch=t},pluginToLaunchLastUpdate:function(e,t){e.pluginToLaunchLastUpdate=t},resetImport:function(e){e.import={files:[],transition:"upload",status:"",type:"file",fileType:"",firstImport:Boolean,errors:[],feedback:"",duplicates:[],skip:[],framework:null,serverUrl:"",url:"",frameworkName:"",frameworkDescription:"",importCsv:{nameColumn:{},descriptionCcolumn:{},scopeColumn:{},idColumn:{},sourceColumn:{},relationColumn:{},targetColumn:{}},importText:"",csvColumns:[],csvRelationColumns:[],csvRelationFile:null,importModalParams:null}},importTransition:function(e,t){e.import.transition=t},importFileType:function(e,t){e.import.fileType=t},importType:function(e,t){e.import.type=t},firstImport:function(e,t){e.import.firstImport=t},addImportError:function(e,t){e.import.errors.push(t)},clearImportErrors:function(e){e.import.errors=[]},importStatus:function(e,t){e.import.status=t},importAllowCancel:function(e,t){e.allowCancel=t},importFeedback:function(e,t){e.import.feedback=t},importDuplicates:function(e,t){e.import.duplicates=t},importSkip:function(e,t){e.import.skip=t},importFramework:function(e,t){e.import.framework=t},importFrameworkName:function(e,t){e.import.frameworkName=t},importFrameworkNameColumn:function(e,t){e.import.frameworkNameColumn=t},importFrameworkScopeColumn:function(e,t){e.import.frameworkScopeColumn=t},importFrameworkIdColumn:function(e,t){e.import.frameworkIdColumn=t},importFrameworkDescription:function(e,t){e.import.frameworkDescription=t},importText:function(e,t){e.import.importText=t},importServerUrl:function(e,t){e.import.serverUrl=t},importUrl:function(e,t){e.import.url=t},importNameColumn:function(e,t){e.import.importCsv.nameColumn=t},importDescriptionColumn:function(e,t){e.import.importCsv.descriptionColumn=t},importScopeColumn:function(e,t){e.import.importCsv.scopeColumn=t},importSourceColumn:function(e,t){e.import.importCsv.sourceColumn=t},importTargetColumn:function(e,t){e.import.importCsv.targetColumn=t},importRelationColumn:function(e,t){e.import.importCsv.relationColumn=t},importIdColumn:function(e,t){e.import.importCsv.idColumn=t},csvColumns:function(e,t){e.import.csvColumns=t},csvRelationColumns:function(e,t){e.import.csvRelationColumns=t},csvRelationFile:function(e,t){e.import.csvRelationFile=t},importModalParams:function(e,t){e.import.importModalParams=t},searchTerm:function(e,t){e.frameworks.searchTerm=t},applySearchTo:function(e,t){e.frameworks.applySearchTo=t},refreshSearch:function(e,t){e.frameworks.refreshSearch=t},sortResults:function(e,t){e.frameworks.sortResults=t},quickFilters:function(e,t){e.frameworks.quickFilters=t},singleQuickFilter:function(e,t){var n=e.frameworks.quickFilters.findIndex((function(e){return e.id===t.id}));n>=0?e.frameworks.quickFilters[n].checked=t.checked:e.frameworks.quickFilters.push(t)},clearSearchFilters:function(e){for(var t=e.frameworks.quickFilters,n=e.frameworks.sortResults,r=e.frameworks.applySearchTo,o=0;o<t.length;o++)t[o].checked=!1;for(var a=0;a<n.length;a++)n[a].checked=!1;for(var i=0;i<r.length;i++)r[i].checked=!1;e.frameworks.quickFilters=t,e.frameworks.sortResults=n,e.frameworks.applySearchTo=r},selectDirectory:function(e,t){e.directories.selectedDirectory=t},directoryList:function(e,t){e.directories.directoryList=t},searchingInDirectory:function(e,t){e.directories.searchingInDirectory=t},editDirectory:function(e,t){e.directories.editDirectory=t},searchFrameworksInCompetencySearch:function(e,t){e.frameworks.searchFrameworksInCompetencySearch=t},setBanner:function(e,t){t.message&&(e.banner.message=t.message),t.color&&(e.banner.color=t.color),t.background&&(e.banner.background=t.background)},setMotd:function(e,t){t.message&&(e.motd.message=t.message),t.title&&(e.motd.title=t.title)},setCuratedPlugins:function(e,t){e.curatedPlugins=t}},g={clearImport:function(e){var t=e.commit;t("importFramework",null),t("clearImportFiles"),t("clearImportErrors"),t("importTransition","upload"),t("importStatus",""),t("importAllowCancel",!1),t("importFeedback",""),t("importFileType",""),t("importDuplicates",[]),t("importSkip",[])},refreshDirectories:function(e){var t=e.commit,n=[],r=[],o={size:1e4};EcDirectory.search(window.repo,"",(function(e){for(var o=0;o<e.length;o++)e[o].canEditAny(EcIdentityManager.default.getMyPks())&&!EcArray.has(r,e[o].id)&&(n.push(e[o]),r.push(e[o].id));t("directoryList",n)}),appError,o)}},b={canViewComments:function(e){return e.canViewComments},canAddComments:function(e){return e.canAddComments},sideNavEnabled:function(e){return e.sideNavEnabled},showSideNav:function(e){return e.showSideNav},showRightAside:function(e){return e.showRightAside},rightAsideContent:function(e){return e.rightAsideContent},rightAsideObject:function(e){return e.rightAsideObject},framework:function(e){return e.framework},showModal:function(e){return e.modal.showModal},dynamicModalContent:function(e){return e.modal.dynamicModalContent},objForShareModal:function(e){return e.modal.objForShareModal},draggingEnabled:function(e){return e.modal.draggingEnabled},isDragging:function(e){return e.modal.isDragging},draggable:function(e){return e.framework.draggable},importFiles:function(e){return e.import.files},importTransition:function(e){return e.import.transition},importFileType:function(e){return e.import.fileType},importType:function(e){return e.import.type},firstImport:function(e){return e.import.firstImport},importErrors:function(e){return e.import.errors},importStatus:function(e){return e.import.status},importAllowCancel:function(e){return e.allowCancel},importFeedback:function(e){return e.import.feedback},importDuplicates:function(e){return e.import.duplicates},importSkip:function(e){return e.import.skip},importFramework:function(e){return e.import.framework},importFrameworkName:function(e){return e.import.frameworkName},importFrameworkNameColumn:function(e){return e.import.frameworkNameColumn},importFrameworkScopeColumn:function(e){return e.import.frameworkScopeColumn},importFrameworkIdColumn:function(e){return e.import.frameworkIdColumn},importFrameworkDescription:function(e){return e.import.frameworkDescription},importText:function(e){return e.import.importText},importServerUrl:function(e){return e.import.serverUrl},importUrl:function(e){return e.import.url},importNameColumn:function(e){return e.import.importCsv.nameColumn},importDescriptionColumn:function(e){return e.import.importCsv.descriptionColumn},importScopeColumn:function(e){return e.import.importCsv.scopeColumn},importIdColumn:function(e){return e.import.importCsv.idColumn},importSourceColumn:function(e){return e.import.importCsv.sourceColumn},importRelationColumn:function(e){return e.import.importCsv.relationColumn},importTargetColumn:function(e){return e.import.importCsv.targetColumn},importModalParams:function(e){return e.import.importModalParams},searchTerm:function(e){return e.frameworks.searchTerm},sortResults:function(e){return e.frameworks.sortResults},quickFilters:function(e){return e.frameworks.quickFilters},filterByOwnedByMe:function(e){var t=e.frameworks.quickFilters.find((function(e){return"ownedByMe"===e.id}));return!!t&&(Array.isArray(t)&&t.length>0?t[0].checked:t.checked)},filterByNotOwnedByMe:function(e){var t=e.frameworks.quickFilters.find((function(e){return"notOwnedByMe"===e.id}));return!!t&&(Array.isArray(t)&&t.length>0?t[0].checked:t.checked)},filterByConfigMatchDefault:function(e){var t=e.frameworks.quickFilters.find((function(e){return"configMatchDefault"===e.id}));return!!t&&(Array.isArray(t)&&t.length>0?t[0].checked:t.checked)},applySearchTo:function(e){return e.frameworks.applySearchTo},refreshSearch:function(e){return e.frameworks.refreshSearch},csvColumns:function(e){return e.import.csvColumns},csvRelationColumns:function(e){return e.import.csvRelationColumns},csvRelationFile:function(e){return e.import.csvRelationFile},pluginLastUpdate:function(e){return e.pluginLastUpdate},pluginToLaunch:function(e){return e.pluginToLaunch},pluginToLaunchLastUpdate:function(e){return e.pluginToLaunchLastUpdate},selectedDirectory:function(e){return e.directories.selectedDirectory},directoryList:function(e){return e.directories.directoryList},searchingInDirectory:function(e){return e.directories.searchingInDirectory},editDirectory:function(e){return e.directories.editDirectory},searchFrameworksInCompetencySearch:function(e){return e.frameworks.searchFrameworksInCompetencySearch},bannerMessage:function(e){return e.banner.message},bannerColor:function(e){return e.banner.color},bannerBackground:function(e){return e.banner.background},motdTitle:function(e){return e.motd.title},motdMessage:function(e){return e.motd.message},curatedPlugins:function(e){return e.curatedPlugins}},y={namespaced:!0,state:f,mutations:h,actions:g,getters:b};r["a"].use(o["a"]);var w={loggedOnPerson:{},repoInit:{ssoLogin:null,ssoLogout:null,ssoPublicKey:null},lastLogin:null},k={loggedOnPerson:function(e,t){e.loggedOnPerson=t,window.EcIdentityManager.default.ids.length>0?e.lastLogin=window.EcIdentityManager.default.ids[0].lastLogin:e.lastLogin=null},repositorySsoOptions:function(e,t){e.repoInit.ssoLogin=t.ssoLogin,e.repoInit.ssoLogout=t.ssoLogout,e.repoInit.ssoPublicKey=t.ssoPublicKey}},v={},E={loggedOnPerson:function(e){return e.loggedOnPerson},repositorySsoOptions:function(e){return e.repoInit},lastLogin:function(e){return e.lastLogin}},C={namespaced:!0,state:w,mutations:k,actions:v,getters:E},S=(n("4de4"),n("caad"),n("2532"),n("b85c"));r["a"].use(o["a"]);var A={step:0,frameworkSource:null,frameworkSourceRelationships:null,frameworkTarget:null,frameworkTargetRelationships:null,relevantExistingAlignmentsMap:null,relevantExistingAlignmentsMapLastUpdate:null,alignedCompetenciesList:[],workingAlignmentsMap:{source:"",targets:[],initialTargets:[],removedTargets:[],changed:!1,type:""},alignmentsToSave:[],alignmentsToDelete:[],sourceState:"ready",targetState:"ready",targetNodesToHighlight:[],enabledRelationshipTypes:[],enabledRelationshipTypesLastUpdate:null},P={enabledRelationshipTypesLastUpdate:function(e,t){e.enabledRelationshipTypesLastUpdate=t},enabledRelationshipTypes:function(e,t){e.enabledRelationshipTypes=t},targetNodesToHighlight:function(e,t){e.targetNodesToHighlight=t},frameworkSource:function(e,t){e.frameworkSource=t},frameworkTarget:function(e,t){e.frameworkTarget=t},frameworkSourceRelationships:function(e,t){e.frameworkSourceRelationships=t},frameworkTargetRelationships:function(e,t){e.frameworkTargetRelationships=t},relevantExistingAlignmentsMap:function(e,t){e.relevantExistingAlignmentsMap=t},relevantExistingAlignmentsMapLastUpdate:function(e,t){e.relevantExistingAlignmentsMapLastUpdate=t},alignedCompetenciesList:function(e,t){e.alignedCompetenciesList=t},step:function(e,t){e.step=t},workingAlignmentsSource:function(e,t){e.workingAlignmentsMap.source=t},workingAlignmentsTargets:function(e,t){e.workingAlignmentsMap.targets=t},workingAlignmentsType:function(e,t){e.workingAlignmentsMap.type=t},sourceState:function(e,t){e.sourceState=t},targetState:function(e,t){e.targetState=t},alignmentsToSave:function(e,t){e.alignmentsToSave=t},populateAlignedCompetenciesList:function(e){if(e.relevantExistingAlignmentsMap){for(var t=[],n=Object.keys(e.relevantExistingAlignmentsMap),r=0,o=n;r<o.length;r++){var a=o[r];t.push(a);for(var i=Object.keys(e.relevantExistingAlignmentsMap[a]),s=0,c=i;s<c.length;s++)for(var u=c[s],d=Object.keys(e.relevantExistingAlignmentsMap[a][u]),l=0,p=d;l<p.length;l++){var m=p[l];t.push(m)}}e.alignedCompetenciesList=t}},populateWorkingAlignmentMap:function(e){if(e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source]&&e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source][e.workingAlignmentsMap.type])for(var t=e.relevantExistingAlignmentsMap[e.workingAlignmentsMap.source][e.workingAlignmentsMap.type],n=Object.keys(t),r=0,o=n;r<o.length;r++){var a=o[r];e.workingAlignmentsMap.targets.push(a),e.workingAlignmentsMap.initialTargets.push(a)}e.workingAlignmentsMap.changed=!1},resetFrameworkSourceRelationships:function(e){e.frameworkSourceRelationships=null,e.relevantExistingAlignmentsMap=null},resetFrameworkTargetRelationships:function(e){e.frameworkTargetRelationships=null,e.relevantExistingAlignmentsMap=null},resetCrosswalkFrameworks:function(e){e.frameworkSource=null,e.frameworkTarget=null,e.frameworkSourceRelationships=null,e.frameworkTargetRelationships=null,e.relevantExistingAlignmentsMap=null},resetCrosswalkAlignmentsAndState:function(e){e.workingAlignmentsMap.source="",e.workingAlignmentsMap.targets=[],e.workingAlignmentsMap.initialTargets=[],e.workingAlignmentsMap.removedTargets=[],e.workingAlignmentsMap.changed=!1,e.workingAlignmentsMap.type="",e.sourceState="ready",e.targetState="ready",e.alignmentsToSave=[],e.alignmentsToDelete=[]},resetCrosswalk:function(e){e.step=0,e.workingAlignmentsMap.source="",e.workingAlignmentsMap.targets=[],e.workingAlignmentsMap.initialTargets=[],e.workingAlignmentsMap.removedTargets=[],e.workingAlignmentsMap.changed=!1,e.workingAlignmentsMap.type="",e.sourceState="ready",e.targetState="ready",e.alignmentsToSave=[],e.alignmentsToDelete=[]},resetWorkingAlignmentsMap:function(e){e.sourceState="ready",e.targetState="ready",e.workingAlignmentsMap={source:"",targets:[],initialTargets:[],removedTargets:[],changed:!1,type:""}},addWorkingAlignmentsTarget:function(e,t){var n=e.workingAlignmentsMap.removedTargets,r=n.filter((function(e){return e!==t}));if(e.workingAlignmentsMap.removedTargets=r,e.workingAlignmentsMap.targets.push(t),e.workingAlignmentsMap.removedTargets.length>0)e.workingAlignmentsMap.changed=!0;else{var o,a=!1,i=Object(S["a"])(e.workingAlignmentsMap.targets);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!e.workingAlignmentsMap.initialTargets.includes(s)){a=!0;break}}}catch(c){i.e(c)}finally{i.f()}e.workingAlignmentsMap.changed=!!a}},removeWorkingAlignmentsTarget:function(e,t){var n=e.workingAlignmentsMap.targets,r=n.filter((function(e){return e!==t}));if(e.workingAlignmentsMap.targets=r,e.workingAlignmentsMap.initialTargets.includes(t)&&e.workingAlignmentsMap.removedTargets.push(t),e.workingAlignmentsMap.removedTargets.length>0)e.workingAlignmentsMap.changed=!0;else{var o,a=!1,i=Object(S["a"])(e.workingAlignmentsMap.targets);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!e.workingAlignmentsMap.initialTargets.includes(s)){a=!0;break}}}catch(c){i.e(c)}finally{i.f()}e.workingAlignmentsMap.changed=!!a}},removeAlignmentFromRelevantAlignmentsMap:function(e,t){if(e.relevantExistingAlignmentsMap[t.source]&&e.relevantExistingAlignmentsMap[t.source][t.type]&&e.relevantExistingAlignmentsMap[t.source][t.type][t.target]){var n=e.relevantExistingAlignmentsMap;delete n[t.source][t.type][t.target],e.relevantExistingAlignmentsMap=n}},addAlignmentToRelevantAlignmentsMap:function(e,t){var n=e.relevantExistingAlignmentsMap;n[t.source]||(n[t.source]={}),n[t.source][t.relationType]||(n[t.source][t.relationType]={}),n[t.source][t.relationType][t.target]||(n[t.source][t.relationType][t.target]=t),e.relevantExistingAlignmentsMap=n},removeAlignmentFromAlignmentsToSave:function(e,t){var n,r=[],o=Object(S["a"])(e.alignmentsToSave);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.source===t.source&&a.target===t.target&&a.relationType===t.type||r.push(a)}}catch(i){o.e(i)}finally{o.f()}e.alignmentsToSave=r},removeAlignmentFromAlignmentsToDelete:function(e,t){var n,r=[],o=Object(S["a"])(e.alignmentsToDelete);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.source===t.source&&a.target===t.target&&a.relationType===t.type||r.push(a)}}catch(i){o.e(i)}finally{o.f()}e.alignmentsToDelete=r},appendAlignmentsToDelete:function(e,t){e.alignmentsToDelete.push(t)},appendAlignmentsToSave:function(e,t){e.alignmentsToSave.push(t)}},O={},M={enabledRelationshipTypesLastUpdate:function(e){return e.enabledRelationshipTypesLastUpdate},enabledRelationshipTypes:function(e){return e.enabledRelationshipTypes},frameworkSource:function(e){return e.frameworkSource},frameworkTarget:function(e){return e.frameworkTarget},frameworkSourceRelationships:function(e){return e.frameworkSourceRelationships},frameworkTargetRelationships:function(e){return e.frameworkTargetRelationships},relevantExistingAlignmentsMap:function(e){return e.relevantExistingAlignmentsMap},relevantExistingAlignmentsMapLastUpdate:function(e){return e.relevantExistingAlignmentsMapLastUpdate},workingAlignmentsSource:function(e){return e.workingAlignmentsMap.source},workingAlignmentsTargets:function(e){return e.workingAlignmentsMap.targets},workingAlignmentsType:function(e,t){return e.workingAlignmentsMap.type},sourceState:function(e){return e.sourceState},targetState:function(e){return e.targetState},alignmentsToSave:function(e){return e.alignmentsToSave},alignmentsToDelete:function(e){return e.alignmentsToDelete},alignedCompetenciesList:function(e){return e.alignedCompetenciesList}},T={namespaced:!0,state:A,mutations:P,actions:O,getters:M};r["a"].use(o["a"]);var I={cassApiLocation:""},x={cassApiLocation:function(e,t){e.cassApiLocation=t}},L={},j={cassApiLocation:function(e){return e.cassApiLocation}},R={namespaced:!0,state:I,mutations:x,actions:L,getters:j},F={CONFIG_SEARCH_SIZE:1e4,DEFAULT_CONFIGURATION_TYPE:"Configuration",DEFAULT_CONFIGURATION_CONTEXT:"https://schema.cassproject.org/0.4/",LANG_STRING_RANGE:"http://www.w3.org/2000/01/rdf-schema#langString",DEFAULT_HEADING:"General",LEVEL_SEARCH_SIZE:1e4,PERSON_SEARCH_SIZE:1e4,DEFAULT_CUSTOM_PROPERTY_CONTEXT:"https://schema.cassproject.org/0.4/",DEFAULT_CUSTOM_PROPERTY_RANGE:"http://schema.org/Text",defaultBrowserConfig:"",defaultBrowserConfigName:"",localDefaultBrowserConfig:"",configBusy:!1,configList:[],configView:"list",currentConfig:{},showConfirmDeleteConfigModal:!1,showMustBeLoggedInModal:!1,showBrowserConfigSetModal:!1,configToDelete:{},availableConcepts:[]},D={setConfigToDelete:function(e,t){e.configToDelete=t},setShowMustBeLoggedInModal:function(e,t){e.showMustBeLoggedInModal=t},setShowBrowserConfigSetModal:function(e,t){e.showBrowserConfigSetModal=t},setShowConfirmDeleteConfigModal:function(e,t){e.showConfirmDeleteConfigModal=t},setCurrentConfig:function(e,t){e.currentConfig=t},setConfigView:function(e,t){e.configView=t},setConfigList:function(e,t){e.setConfigList=t},setConfigBusy:function(e,t){e.configBusy=t},setDefaultBrowserConfig:function(e,t){e.defaultBrowserConfig=t},setDefaultBrowserConfigName:function(e,t){e.defaultBrowserConfigName=t},setLocalDefaultBrowserConfig:function(e,t){e.localDefaultBrowserConfig=t},setAvailableConcepts:function(e,t){e.availableConcepts=t},setAvailableTypes:function(e,t){e.availableTypes=t}},$={},N={configToDelete:function(e){return e.configToDelete},showConfirmDeleteConfigModal:function(e){return e.showConfirmDeleteConfigModal},showMustBeLoggedInModal:function(e){return e.showMustBeLoggedInModal},showBrowserConfigSetModal:function(e){return e.showBrowserConfigSetModal},LEVEL_SEARCH_SIZE:function(e){return e.LEVEL_SEARCH_SIZE},GROUP_SEARCH_SIZE:function(e){return e.GROUP_SEARCH_SIZE},PERSON_SEARCH_SIZE:function(e){return e.PERSON_SEARCH_SIZE},DEFAULT_CUSTOM_PROPERTY_CONTEXT:function(e){return e.DEFAULT_CUSTOM_PROPERTY_CONTEXT},DEFAULT_CUSTOM_PROPERTY_RANGE:function(e){return e.DEFAULT_CUSTOM_PROPERTY_RANGE},DEFAULT_CONFIGURATION_TYPE:function(e){return e.DEFAULT_CONFIGURATION_TYPE},DEFAULT_CONFIGURATION_CONTEXT:function(e){return e.DEFAULT_CONFIGURATION_CONTEXT},LANG_STRING_RANGE:function(e){return e.LANG_STRING_RANGE},DEFAULT_HEADING:function(e){return e.DEFAULT_HEADING},CONFIG_SEARCH_SIZE:function(e){return e.CONFIG_SEARCH_SIZE},currentConfig:function(e){return e.currentConfig},configView:function(e){return e.configView},configList:function(e){return e.configList},defaultBrowserConfig:function(e){return e.defaultBrowserConfig},defaultBrowserConfigName:function(e){return e.defaultBrowserConfigName},localDefaultBrowserConfig:function(e){return e.localDefaultBrowserConfig},configBusy:function(e){return e.configBusy},availableConcepts:function(e){return e.availableConcepts},availableTypes:function(e){return e.availableTypes}},q={namespaced:!0,state:F,mutations:D,actions:$,getters:N};r["a"].use(o["a"]);var V={crosswalkEnabled:!0,userManagementEnabled:!0,configurationsEnabled:!0,searchByOwnerNameEnabled:!0,pluginsEnabled:!0,loginEnabled:!0,legacyLoginEnabled:!0,apiLoginEnabled:!1,shareEnabled:!0,shareLink:!1,ownedByMe:!1},U={crosswalkEnabled:function(e,t){e.crosswalkEnabled=t},userManagementEnabled:function(e,t){e.userManagementEnabled=t},configurationsEnabled:function(e,t){e.configurationsEnabled=t},searchByOwnerNameEnabled:function(e,t){e.searchByOwnerNameEnabled=t},pluginsEnabled:function(e,t){e.pluginsEnabled=t},loginEnabled:function(e,t){e.loginEnabled=t},apiLoginEnabled:function(e,t){e.apiLoginEnabled=t},legacyLoginEnabled:function(e,t){e.legacyLoginEnabled=t},shareEnabled:function(e,t){e.shareEnabled=t},shareLink:function(e,t){e.shareLink=t},ownedByMe:function(e,t){e.ownedByMe=t}},_={},B={legacyLoginEnabled:function(e){return e.legacyLoginEnabled},apiLoginEnabled:function(e){return e.apiLoginEnabled},ownedByMe:function(e){return e.ownedByMe}},G={namespaced:!0,state:V,mutations:U,actions:_,getters:B};r["a"].use(o["a"]);t["a"]=new o["a"].Store({modules:{lode:a["a"],editor:m,app:y,user:C,crosswalk:T,environment:R,featuresEnabled:G,configuration:q}})},5:function(e,t){},5178:function(e,t,n){"use strict";n("6b9a")},"560b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),function(e){n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("ac1f"),n("841c"),n("14d9"),n("5319");var t=n("c7eb"),r=n("1da1"),o=n("2b0e"),a=n("26b9"),i=n.n(a),s=n("3dfd"),c=(n("560b"),n("b3be"),n("41cb")),u=n("2f62"),d=n("4ae6"),l=n.n(d),p=n("4360"),m=n("e166"),f=n.n(m),h=n("28dd"),g=n("85fe"),b=n("3003"),y=n("f13c"),w=e,k=w.fetch,v=0,E=10,C=10;e.fetch=Object(r["a"])(Object(t["a"])().mark((function n(){var r,o,a,i,s,c,u=arguments;return Object(t["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r=u.length,o=new Array(r),a=0;a<r;a++)o[a]=u[a];if(i=o[0],s=o[1],!(v>=E)){t.next=6;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){var n;t((n=e).fetch.apply(n,o))}),C)})));case 6:return v++,t.next=9,k(i,s);case 9:return c=t.sent,v=Math.max(0,v-1),t.abrupt("return",c);case 12:case"end":return t.stop()}}),n)}))),n("b904"),e.UUID=n("37a07");var S={color:"#68C8DB",failedColor:"#D74C44",thickness:"5px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1};o["a"].use(i.a,S),o["a"].use(n("2ead")),o["a"].use(u["a"]),o["a"].use(l.a),o["a"].use(y,{container:"#framework",duration:500,easing:"ease",offset:-150,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),o["a"].use(f.a),o["a"].use(h["a"]),o["a"].use(g["a"]),o["a"].use(b["a"]),o["a"].directive("click-outside",{bind:function(e,t,n){e.clickOutsideEvent=function(r){e===r.target||e.contains(r.target)||n.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),EcRepository.caching=!0,o["a"].config.productionTip=!1,o["a"].config.warnHandler=function(e,t,n){'Invalid prop: type check failed for prop "clickToLoad". Expected Boolean, got String with value "true".'!==e&&"Avoid using non-primitive value as key, use string/number value instead."!==e&&"Duplicate keys detected: '[object Object]'. This may cause an update error."!==e&&appError("[Vue warn]: "+e+n)},e.appLog=function(e){0},e.appError=function(e){0};var A=function(){if(null==window.document.location.search)return{};var e=window.document.location.search.split("?");if(e.length>1){for(var t={},n=e[1],r=n.split("&"),o=0;o<r.length;o++)t[r[o].split("=")[0]]?(t[r[o].split("=")[0]]=[t[r[o].split("=")[0]]],t[r[o].split("=")[0]].push(decodeURIComponent(r[o].replace(r[o].split("=")[0]+"=","")))):t[r[o].split("=")[0]]=decodeURIComponent(r[o].replace(r[o].split("=")[0]+"=",""));return t}return{}};window.queryParams=A(),window.app=new o["a"]({router:c["a"],store:p["a"],render:function(e){return e(s["a"])}}).$mount("#app")}.call(this,n("c8ba"))},"5da5":function(e,t,n){},6:function(e,t){},"6b9a":function(e,t,n){},7:function(e,t){},8:function(e,t){},8596:function(e,t,n){"use strict";(function(e){n("14d9"),n("b64b");var r=n("c7eb"),o=n("1da1"),a=n("b85c");e.jsonld=n("46bd");var i={schemata:{},isSavingProperty:!1,isSavingThing:!1,isAddingProperty:!1,addingProperty:"",addingValues:[],addingRange:[],addingChecked:[],removeAddingValueAtIndex:null,schemataLookup:{},rawSchemata:{},schemaFallback:{},objectModel:{},competencySearchModalOpen:!1,copyOrLink:!1,numPropertyComponentsVisible:{},searchType:null,includeRelations:!0},s={schemata:function(e,t){var n=e.state,r=e.commit;if(r("setSchemata",t),EcArray.isArray(t.obj)){r("setEmptySchemataLookup",t);for(var o=0;o<t.obj.length;o++){var i=t.obj[o];if(r("setSchemataLookup",{index:o,schema:t}),null!=i["http://schema.org/domainIncludes"]){var s,c=Object(a["a"])(i["http://schema.org/domainIncludes"]);try{for(c.s();!(s=c.n()).done;){var u=s.value;null==n.objectModel[u["@id"]]&&r("setObjectModel",{type:u,val:{}});var d=n.objectModel[u["@id"]];d[i["@id"]]=i}}catch(l){c.e(l)}finally{c.f()}}}}},schemaFallback:function(e,t){for(var n=e.state,r=0;r<t.length;r++){var o=t[r];if(n.schemaFallback[o["@id"]]=t[r],null!=o["http://schema.org/domainIncludes"]){var i,s=Object(a["a"])(o["http://schema.org/domainIncludes"]);try{for(s.s();!(i=s.n()).done;){var c=i.value;null==n.objectModel[c["@id"]]&&(n.objectModel[c["@id"]]={});var u=n.objectModel[c["@id"]];u[o["@id"]]=o}}catch(d){s.e(d)}finally{s.f()}}}}},c={setIsSavingProperty:function(e,t){e.isSavingProperty=t},setIsSavingThing:function(e,t){e.isSavingThing=t},setIsAddingProperty:function(e,t){e.isAddingProperty=t},setAddingProperty:function(e,t){e.addingProperty=t},setAddingValues:function(e,t){e.addingValues=t},addToAddingValues:function(e,t){e.addingValues||(e.addingValues=[]),e.addingValues.push(t)},setAddingRange:function(e,t){e.addingRange=t},setAddingChecked:function(e,t){e.addingChecked=t},removeAddingValueAtIndex:function(e,t){e.removeAddingValueAtIndex=t},setSchemata:function(e,t){e.schemata[t.id]=t.obj},setSchemataLookup:function(e,t){var n=t.index,r=t.schema;e.schemataLookup[r.id][r.obj[n]["@id"]]=r.obj[n]},setEmptySchemataLookup:function(e,t){e.schemataLookup[t.id]={}},setObjectModel:function(e,t){var n=t.type,r=t.val;e.objectModel[n["@id"]]=r},rawSchemata:function(e,t){e.rawSchemata[t.id]=t.obj},competencySearchModalOpen:function(e,t){e.competencySearchModalOpen=t},copyOrLink:function(e,t){e.copyOrLink=t},incrementNumPropertyComponents:function(e,t){e.numPropertyComponentsVisible[t]||(e.numPropertyComponentsVisible[t]=0),e.numPropertyComponentsVisible[t]++},decrementNumPropertyComponents:function(e,t){e.numPropertyComponentsVisible[t]--,0===e.numPropertyComponentsVisible[t]&&delete e.numPropertyComponentsVisible[t]},searchType:function(e,t){e.searchType=t},includeRelations:function(e,t){e.includeRelations=t}},u={isSavingProperty:function(e){return e.isSavingProperty},isSavingThing:function(e){return e.isSavingThing},isAddingProperty:function(e){return e.isAddingProperty},addingProperty:function(e){return e.addingProperty},addingValues:function(e){return e.addingValues},addingRange:function(e){return e.addingRange},addingChecked:function(e){return e.addingChecked},removeAddingValueAtIndex:function(e){return e.removeAddingValueAtIndex},includeRelations:function(e){return e.includeRelations}};jsonld.documentLoader=function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t){var n,o,a,s,c;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t in i.rawSchemata)){e.next=4;break}return e.abrupt("return",{contextUrl:null,document:i.rawSchemata[t],documentUrl:t});case 4:return o=new XMLHttpRequest,o.onreadystatechange=function(){4===this.readyState&&200===this.status&&(n=JSON.parse(this.responseText),i.rawSchemata[a]=n)},a=t,s=t.indexOf("schema.cassproject.org"),c="",-1===t.substring(t.lastIndexOf("/")).indexOf("2")&&(c="/index.json-ld"),-1!==s&&(t=t.substring(s),t=window.location.origin+window.location.pathname+t+c),o.open("GET",t,!1),o.setRequestHeader("Accept","application/json"),o.send(),e.abrupt("return",{contextUrl:null,document:n,documentUrl:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t["a"]={namespaced:!0,state:i,getters:u,actions:s,mutations:c}}).call(this,n("c8ba"))},"872c":function(e,t,n){"use strict";n("b64b"),n("2ca0"),n("d3b7"),n("ddb0"),n("e9c4"),n("b0c0"),n("ac1f"),n("841c"),n("5319"),n("14d9"),n("fb6a"),n("caad"),n("2532");var r=n("c7eb"),o=n("1da1"),a=n("b9b9");t["a"]={data:function(){return{conceptCtids:null,conceptRegistryUrls:null}},computed:{ctids:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;if(this.$store.getters["editor/queryParams"]&&"true"!==this.$store.getters["editor/queryParams"].ceasnDataFields)return null;var t={};if(t[e.shortId()]=[{"@value":this.getCTID(e.shortId())}],e.competency)for(var n=0;n<e.competency.length;n++)t[e.competency[n]]=[{"@value":this.getCTID(e.competency[n])}];return t},registryURLs:function(){var e=this.framework;if(e||(e=this.$store.getters["editor/framework"]),!e||!e.id)return null;if(this.$store.getters["editor/queryParams"]&&"true"!==this.$store.getters["editor/queryParams"].ceasnDataFields)return null;var t={};if(t[e.shortId()]=[{"@id":this.ceasnRegistryUriTransform(e.shortId())}],e.competency)for(var n=0;n<e.competency.length;n++)t[e.competency[n]]=[{"@id":this.ceasnRegistryUriTransform(e.competency[n])}];return t}},methods:{canEditAny:function(e){return!!this.isAdmin()||(null==e.canEditAny||e.canEditAny(EcIdentityManager.default.getMyPks()))},isAdmin:function(){return EcIdentityManager.default.ids.length>0&&null!=window.repo.adminKeys&&window.repo.adminKeys.length>0&&window.repo.adminKeys[0]===EcIdentityManager.default.ids[0].ppk.toPk().toPem()},getConceptCtids:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(){var t,n,a,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.conceptCtids=null,t=this.framework,t||(t=this.$store.getters["editor/framework"]),t&&t.id){e.next=5;break}return e.abrupt("return");case 5:if(n=this,"true"===this.queryParams.ceasnDataFields){e.next=8;break}return e.abrupt("return");case 8:if(a={},a[t.shortId()]=[{"@value":this.getCTID(t.shortId())}],i=function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t){var o,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=12;break}return a[t[o]]=[{"@value":n.getCTID(t[o])}],e.next=5,EcConcept.get(t[o]);case 5:if(s=e.sent,!s["skos:narrower"]){e.next=9;break}return e.next=9,i(s["skos:narrower"]);case 9:o++,e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!t["skos:hasTopConcept"]){e.next=14;break}return e.next=14,i(t["skos:hasTopConcept"]);case 14:this.conceptCtids=a;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getConceptRegistryUrls:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(){var t,n,a,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.conceptRegistryUrls=null,t=this.framework,t||(t=this.$store.getters["editor/framework"]),t&&t.id){e.next=5;break}return e.abrupt("return");case 5:if(n=this,"true"===this.queryParams.ceasnDataFields){e.next=8;break}return e.abrupt("return");case 8:if(a={},a[t.shortId()]=[{"@id":this.ceasnRegistryUriTransform(t.shortId())}],i=function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t){var o,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=12;break}return a[t[o]]=[{"@value":n.ceasnRegistryUriTransform(t[o])}],e.next=5,EcConcept.get(t[o]);case 5:if(s=e.sent,!s["skos:narrower"]){e.next=9;break}return e.next=9,i(s["skos:narrower"]);case 9:o++,e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!t["skos:hasTopConcept"]){e.next=14;break}return e.next=14,i(t["skos:hasTopConcept"]);case 14:this.conceptRegistryUrls=a;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),spitEvent:function(e,t,n){var r=this.framework?this.framework:this.$store.state.editor.framework,o=this.$store.state.editor.selectedCompetency,a=null;r&&(a=r["dcterms:title"]?schema.Thing.getDisplayStringFrom(r["dcterms:title"]):r.getName());var i=null;o&&(i=o["skos:prefLabel"]?schema.Thing.getDisplayStringFrom(o["skos:prefLabel"]):o.getName());var s={message:e,changed:t,selectedFramework:null==r?null:r.shortId(),selectedCompetency:null==o?null:o.shortId(),selectedFrameworkObject:null==r?null:JSON.parse(r.toJson()),selectedCompetencyObject:null==o?null:JSON.parse(o.toJson()),selectedFrameworkName:a,selectedCompetencyName:i,visiblePage:n};this.queryParams&&"true"===this.queryParams.ceasnDataFields&&(null!=r&&null!=r.getGuid&&(r.getGuid().startsWith("ce-")?s.selectedFrameworkCtid=null==r?null:r.getGuid():r.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?s.selectedFrameworkCtid=null==r?null:"ce-"+r.getGuid():s.selectedFrameworkCtid="ce-"+new UUID(3,"nil",r.shortId()).format()),null!=o&&null!=o.getGuid&&(o.getGuid().startsWith("ce-")?s.selectedCompetencyCtid=null==o?null:o.getGuid():o.getGuid().matches("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")?s.selectedCompetencyCtid=null==o?null:"ce-"+o.getGuid():s.selectedCompetencyCtid="ce-"+new UUID(3,"nil",this.framework.shortId()+o.shortId()).format())),appLog(s),null!=parent&&this.queryParams&&null!=this.queryParams.origin&&""!==this.queryParams.origin&&parent.postMessage(s,this.queryParams.origin)},setDefaultLanguage:function(){var e;e=this.framework&&this.framework["ceasn:inLanguage"]?EcArray.isArray(this.framework["ceasn:inLanguage"])?this.framework["ceasn:inLanguage"][0]:this.framework["ceasn:inLanguage"]:this.framework&&this.framework["schema:inLanguage"]?EcArray.isArray(this.framework["schema:inLanguage"])?this.framework["schema:inLanguage"][0]:this.framework["schema:inLanguage"]:this.framework&&this.framework["dcterms:language"]?EcArray.isArray(this.framework["dcterms:language"])?this.framework["dcterms:language"][0]:this.framework["dcterms:language"]:navigator.language||navigator.userLanguage?navigator.language||navigator.userLanguage:"en",this.$store.commit("editor/defaultLanguage",e)},get:function(e,t,n,r,o){var a=EcRemote.urlAppend(e,t);a=EcRemote.upgradeHttpToHttps(a);var i=null;if("undefined"===typeof httpStatus){if(i=new XMLHttpRequest,i.open("GET",a,!0),null!=n)for(var s=EcObject.keys(n),c=0;c<s.length;c++)i.setRequestHeader(s[c],n[s[c]]);var u=i;i.onreadystatechange=function(){4===u.readyState&&200===u.status&&(null!=r?r(u.responseText):4===u.readyState&&null!=o&&o(u.status+" "+u.responseText))},i.onload=function(){200!==i.status&&o(i.status)},i.onerror=function(){o("Failed while sending request.")}}null!=i&&(i["timeout"]=EcRemote.timeout),"undefined"!==typeof httpStatus?null!=r&&r(JSON.stringify(httpGet(a))):i.send()},resolveNameFromUrl:function(e){this.get(e,null,null,(function(e){var t=null;if(e){if("<"===e[0])return;if(e=JSON.parse(e),e["ceterms:name"]?t=e["ceterms:name"]:e["ceasn:competencyText"]?t=e["ceasn:competencyText"]:e["name"]?t=e["name"]:e["schema:name"]?t=e["schema:name"]:e["title"]?t=e["title"]:e["skos:prefLabel"]?t=e["skos:prefLabel"]:e["title"]?t=e["title"]:e["@graph"]&&e["@graph"][0]&&(e["@graph"][0]["ceterms:name"]?t=e["@graph"][0]["ceterms:name"]:e["@graph"][0]["name"]?t=e["@graph"][0]["name"]:e["@graph"][0]["schema:name"]?t=e["@graph"][0]["schema:name"]:e["@graph"][0]["title"]?t=e["@graph"][0]["title"]:e["@graph"][0]["skos:prefLabel"]&&(t=e["@graph"][0]["skos:prefLabel"])),t=schema.Thing.getDisplayStringFrom(t),EcObject.isObject(t)){var n=Object.keys(t);t=t[n[0]]}}return t}),(function(e){appLog(e)}))},conditionalDelete:function(e,t){var n=this;(function(e,t){Task.asyncImmediate((function(a){void 0!==t&&null!=t||(t=0),null!=e&&void 0!==e||appLog("ID is undefined."),t<5?EcFramework.search(window.repo,'"'+e+'"',function(){var i=Object(o["a"])(Object(r["a"])().mark((function o(i){var s;return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(i.length<=0)){r.next=8;break}return appLog("No references found for "+e+"... deleting."),r.next=4,EcRepository.get(e);case 4:s=r.sent,window.repo.deleteRegistered(s,(function(e){"Level"===s.type&&n.$store.commit("editor/refreshLevels",!0),a()}),(function(e){appLog(e),a()})),r.next=11;break;case 8:appLog(i.length+" references found for "+e+"... Not deleting. Will see again in another second."),a(),setTimeout((function(){n.conditionalDelete(e,t+1)}),1e3);case 11:case"end":return r.stop()}}),o)})));return function(e){return i.apply(this,arguments)}}(),appError,{}):a()}))})(e,t)},selectButton:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t){var n,o,a,i,s,c,u,d;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],t||(t=this.selectedArray),o=0;case 3:if(!(o<t.length)){e.next=36;break}if("true"!==this.queryParams.selectVerbose||!0===this.$store.getters["editor/conceptMode"]||!0===this.$store.getters["editor/progressionMode"]){e.next=22;break}if("ctdlasn"!==this.queryParams.selectExport){e.next=13;break}return a=!1===EcRepository.shouldTryUrl(t[o])&&-1===t[o].indexOf(window.repo.selectedServer)?window.repo.selectedServer+"ceasn/"+EcCrypto.md5(t[o]):t[o].replace("/data/","/ceasn/"),e.next=9,EcRemote.getExpectingObject(a);case 9:i=e.sent,i&&n.push(i),e.next=20;break;case 13:return e.t0=n,e.t1=JSON,e.next=17,EcCompetency.get(t[o]);case 17:e.t2=e.sent.toJson(),e.t3=e.t1.parse.call(e.t1,e.t2),e.t0.push.call(e.t0,e.t3);case 20:e.next=33;break;case 22:if("true"!==this.queryParams.selectVerbose){e.next=32;break}return e.t4=n,e.t5=JSON,e.next=27,EcConcept.get(t[o]);case 27:e.t6=e.sent.toJson(),e.t7=e.t5.parse.call(e.t5,e.t6),e.t4.push.call(e.t4,e.t7),e.next=33;break;case 32:n.push(t[o]);case 33:o++,e.next=3;break;case 36:if("true"!==this.queryParams.selectRelations||!this.framework.relation){e.next=46;break}o=0;case 38:if(!(o<this.framework.relation.length)){e.next=46;break}return e.next=41,EcAlignment.get(this.framework.relation[o]);case 41:s=e.sent,EcArray.has(t,s.target)&&("true"===this.queryParams.selectVerbose?n.push(JSON.parse(s.toJson())):n.push(s.shortId()));case 43:o++,e.next=38;break;case 46:if(c=this.framework,"ctdlasn"!==this.queryParams.selectExport||!0===this.$store.getters["editor/conceptMode"]||!0===this.$store.getters["editor/progressionMode"]){e.next=54;break}if(null==this.framework){e.next=54;break}return a=!1===EcRepository.shouldTryUrl(this.framework.id)&&-1===this.framework.id.indexOf(window.repo.selectedServer)?window.repo.selectedServer+"ceasn/"+EcCrypto.md5(this.framework.shortId()):this.framework.id.replace("/data/","/ceasn/"),e.next=52,EcRemote.getExpectingObject(a);case 52:u=e.sent,u&&u["@graph"]&&(c=u["@graph"][0]);case 54:d={message:"selected",selected:n,type:!0===this.$store.getters["editor/conceptMode"]||!0===this.$store.getters["editor/progressionMode"]?"Concept":"Competency",selectedFramework:c},d=JSON.parse(JSON.stringify(d)),appLog(d),parent.postMessage(d,this.queryParams.origin);case 58:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addLevel:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t,n){var a,i,s,c;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,s=this.framework?this.framework:this.$store.getters["editor/framework"],c=s.level?s.level.slice():null,n&&n.includes("http")){e.next=11;break}a=new EcLevel,null!=this.queryParams.newObjectEndpoint?a.generateShortId(this.queryParams.newObjectEndpoint):a.generateId(window.repo.selectedServer),a["schema:dateCreated"]=(new Date).toISOString(),a.name=n&&""!==n?n:"New Level",a.competency=t,e.next=17;break;case 11:return n=n[0],e.next=14,EcRepository.get(n);case 14:a=e.sent,a.competency?EcArray.isArray(a.competency)||(a.competency=[a.competency]):a.competency=[],a.competency.push(t);case 17:s["schema:dateModified"]=(new Date).toISOString(),window.repo.saveTo(a,Object(o["a"])(Object(r["a"])().mark((function e(){var t;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.addLevel(a.shortId()),t=[],n&&n.includes("http")||t.push({operation:"addNew",id:a.shortId()}),t.push({operation:"update",id:s.shortId(),fieldChanged:["level"],initialValue:[c],changedValue:[s.level]}),i.$store.commit("editor/addEditsToUndo",t),i.$store.commit("editor/framework",s),!0!==i.$store.state.editor.private){e.next=11;break}if(!0===EcEncryptedValue.encryptOnSaveMap[s.id]){e.next=11;break}return e.next=10,EcEncryptedValue.toEncryptedValue(s);case 10:s=e.sent;case 11:window.repo.saveTo(s,(function(){i.$store.commit("lode/setIsAddingProperty",!1),i.$store.commit("editor/refreshLevels",!0)}),appError);case 12:case"end":return e.stop()}}),e)}))),appError);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),saveCheckedLevels:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t,n,o){var a,i,s,c,u,d,l,p,m,f,h,g;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=[],EcArray.isArray(t)?a=t:a.push(EcRemoteLinkedData.trimVersionFromUrl(t["@id"])),i=this.framework.level?this.framework.level.slice():null,s=!1,c=[],u=this,d=0;case 7:if(!(d<o.length)){e.next=32;break}if(this.framework.level||(this.framework.level=[]),-1===n.indexOf(o[d].val)){e.next=21;break}return e.next=12,EcLevel.get(o[d].val);case 12:for(f in l=e.sent,p=JSON.parse(JSON.stringify(l.competency)),EcArray.isArray(l.competency)||(l.competency=null==l.competency?[]:[l.competency]),m=!1,a)-1===l.competency.indexOf(a[f])&&(l.competency.push(a[f]),m=!0);m&&(c.push({operation:"update",id:l.shortId(),fieldChanged:["competency"],initialValue:[p],changedValue:[l.competency]}),window.repo.saveTo(l,(function(){u.$store.commit("editor/refreshLevels",!0)}),appError)),-1===this.framework.level.indexOf(l.shortId())&&(this.framework.addLevel(l.shortId()),s=!0),e.next=29;break;case 21:return e.next=23,EcLevel.get(o[d].val);case 23:for(g in l=e.sent,p=JSON.parse(JSON.stringify(l.competency)),h=!1,a)l.competency&&-1!==l.competency.indexOf(a[g])&&(EcArray.setRemove(l.competency,a[g]),h=!0);h&&(c.push({operation:"update",id:l.shortId(),fieldChanged:["competency"],initialValue:[p],changedValue:[l.competency]}),window.repo.saveTo(l,(function(){u.$store.commit("editor/refreshLevels",!0)}),appError)),(!l.competency||l.competency&&0===l.competency.length)&&-1!==this.framework.level.indexOf(l.shortId())&&(EcArray.setRemove(this.framework.level,l.shortId()),s=!0);case 29:d++,e.next=7;break;case 32:s&&(c.push({operation:"update",id:this.framework.shortId(),fieldChanged:["level"],initialValue:[i],changedValue:[this.framework.level]}),this.saveFramework()),this.$store.commit("editor/addEditsToUndo",c),this.$store.commit("lode/setAddingChecked",[]),this.$store.commit("lode/setIsAddingProperty",!1);case 36:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),saveFramework:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(){var t;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.framework["schema:dateModified"]=(new Date).toISOString(),t=this.framework,this.$store.commit("editor/framework",t),!0!==this.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[t.id]){e.next=7;break}return e.next=6,EcEncryptedValue.toEncryptedValue(t);case 6:t=e.sent;case 7:window.repo.saveTo(t,(function(){}),appError);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeLevelFromFramework:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t){var n,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.framework.level?this.framework.level.slice():null,this.framework.removeLevel(t),e.next=4,EcRepository.get(t);case 4:o=e.sent,this.$store.commit("editor/addEditsToUndo",[{operation:"delete",obj:o},{operation:"update",id:this.framework.shortId(),fieldChanged:[this.framework.level],initialValue:[n],changedValue:[this.framework.level]}]),this.conditionalDelete(t),this.saveFramework(),this.$store.commit("editor/refreshLevels",!0);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addRelationsToFramework:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t,n,o){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(o.length>0)){e.next=6;break}return e.next=3,EcRepository.get(t);case 3:return t=e.sent,e.next=6,this.addAlignments(o,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),addAlignments:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t,n,a,i){var s,c=this;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("true"!==this.$store.getters["editor/queryParams"].concepts&&!0!==this.$store.getters["editor/conceptMode"]&&!0!==this.$store.getters["editor/progressionMode"]){e.next=2;break}return e.abrupt("return",this.addConceptAlignments(t,n,a));case 2:if(s=["ceasn:knowledgeEmbodied","ceasn:skillEmbodied","ceasn:taskEmbodied","ceasn:abilityEmbodied","ceasn:comprisedOf","ceasn:derivedFrom","ceasn:inferredCompetency","ceasn:isVersionOf","ceasn:alignTo","ceasn:alignFrom"],!s.includes(a)){e.next=5;break}return e.abrupt("return",this.addRelationAsCompetencyField(t,n,a,i));case 5:return e.abrupt("return",new Promise(function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(o,i){var s,u,d,l,p,m,f,h,g,b,y;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=c.$store.state.editor.framework,u=[],d=s.relation?s.relation.slice():null,l=0;case 4:if(!(l<t.length)){e.next=28;break}if(p=new EcAlignment,null!=c.$store.getters["editor/queryParams"].newObjectEndpoint?p.generateShortId(c.$store.getters["editor/queryParams"].newObjectEndpoint):p.generateId(window.repo.selectedServer),u.push({operation:"addNew",id:p.shortId()}),p["schema:dateCreated"]=(new Date).toISOString(),p.target=EcRemoteLinkedData.trimVersionFromUrl(t[l]),n.id?p.source=n.shortId():p.source=EcRemoteLinkedData.trimVersionFromUrl(n["@id"]),p.target!==p.source){e.next=13;break}return e.abrupt("return");case 13:if(p.relationType=a,"broadens"===p.relationType&&(m=p.target,p.target=p.source,p.source=m,p.relationType="narrows"),EcIdentityManager.default.ids.length>0&&p.addOwner(EcIdentityManager.default.ids[0].ppk.toPk()),s.owner&&s.owner.length>0)for(f=0;f<s.owner.length;f++)h=s.owner[f],p.addOwner(EcPk.fromPem(h));if(s.reader&&s.reader.length>0)for(f=0;f<s.reader.length;f++)g=s.reader[f],p.addReader(EcPk.fromPem(g));if(!0!==c.$store.state.editor.private){e.next=22;break}return e.next=21,EcEncryptedValue.toEncryptedValue(p);case 21:p=e.sent;case 22:return e.next=24,new Promise((function(e,t){window.repo.saveTo(p,e,t)}));case 24:if("Concept"===n.type){null==s.relation&&(s.relation=[]),b=!0,y=0;while(b&&y<s.relation.length)EcRemoteLinkedData.trimVersionFromUrl(s.relation[y]).equals(p.id)&&(b=!1),y++;b&&s.relation.push(p.id)}else s.addRelation(p.id);case 25:l++,e.next=4;break;case 28:if(u.push({operation:"update",id:s.shortId(),fieldChanged:["relation"],initialValue:[d],changedValue:[s.relation]}),c.$store.commit("editor/addEditsToUndo",u),c.$store.commit("editor/framework",s),!0!==c.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[s.id]){e.next=35;break}return e.next=34,EcEncryptedValue.toEncryptedValue(s);case 34:s=e.sent;case 35:window.repo.saveTo(s,o,i);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}(),addRelationAsCompetencyField:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t,n,a,i){var s=this;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(o,i){var c,u;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(c=n[a]?n[a].slice():null,u=0;u<t.length;u++)null==n[a]&&(n[a]=[]),n[a].push(t[u]);if(s.$store.commit("editor/addEditsToUndo",[{operation:"update",id:n.shortId(),fieldChanged:[a],initialValue:[c],changedValue:[n[a]]}]),n["schema:dateModified"]=(new Date).toISOString(),!0!==s.$store.state.editor.private){e.next=9;break}if(!0===EcEncryptedValue.encryptOnSaveMap[n.id]){e.next=9;break}return e.next=8,EcEncryptedValue.toEncryptedValue(n);case 8:n=e.sent;case 9:window.repo.saveTo(n,o,i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}(),removeRelationFromFramework:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t,n,a){var i=this;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,s){var c=i,u=i.framework.relation?i.framework.relation.slice():null,d=[];(new EcAsyncHelper).each(i.framework.relation,(function(e,r){EcAlignment.get(e,(function(e){"broadens"===n?e.target===t&&e.source===a&&"narrows"===e.relationType?(c.framework.removeRelation(e.shortId()),d.push({operation:"delete",obj:e}),c.conditionalDelete(e.shortId()),r()):r():e.source===t&&e.target===a&&e.relationType===n?(c.framework.removeRelation(e.shortId()),d.push({operation:"delete",obj:e}),c.conditionalDelete(e.shortId()),r()):r()}),r)}),Object(o["a"])(Object(r["a"])().mark((function t(){var n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=c.framework,d.push({operation:"update",id:n.shortId(),fieldChanged:["relation"],initialValue:[u],changedValue:[n.relation]}),c.$store.commit("editor/framework",n),c.$store.commit("editor/addEditsToUndo",d),!0!==c.$store.state.editor.private||!0===EcEncryptedValue.encryptOnSaveMap[n.id]){t.next=8;break}return t.next=7,EcEncryptedValue.toEncryptedValue(n);case 7:n=t.sent;case 8:window.repo.saveTo(n,e,s);case 9:case"end":return t.stop()}}),t)}))))})));case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),ceasnRegistryUriTransform:function(e){var t=null;if(this.$store.getters["editor/queryParams"]&&this.$store.getters["editor/queryParams"].newObjectEndpoint&&(t=this.queryParams.newObjectEndpoint),null==t)return e;if(e.startsWith(t))return e;var n=this.getCTID(e);return-1!==t.indexOf("ce-")&&(n=n.substring(3)),t+n},getCTID:function(e){var t=null,n=EcRemoteLinkedData.trimVersionFromUrl(e).split("/");return t=n[n.length-1],e=EcRemoteLinkedData.trimVersionFromUrl(e),t.matches("^(ce-)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")||(t=new UUID(3,"nil",e).format()),-1===t.indexOf("ce-")&&(t="ce-"+t),t},canViewCommentsCurrentFramework:function(){var e=this.$store.state.user.loggedOnPerson;return!(!e||!e.id||""===e.id)},canAddCommentsCurrentFramework:function(){var e=this.$store.state.user.loggedOnPerson;return!(!e||!e.id||""===e.id)},toPrettyDateString:function(e){try{var t=new Date(e);return Object(a["a"])(t,"mm/dd/yy, h:MM:ss TT")}catch(n){return"unknown"}}}}},9:function(e,t){},9224:function(e){e.exports=JSON.parse('{"a":"1.5.37"}')},b3be:function(e,t,n){},eeb8:function(e,t,n){"use strict";n("5da5")}});
//# sourceMappingURL=app.4c71845e.js.map