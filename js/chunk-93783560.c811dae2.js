(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93783560"],{"26bb":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("modal-template",{attrs:{type:"danger",size:"small",active:!0},on:{close:e.closeModal}},[o("template",{slot:"modal-header"},[e._v(" Confirm Delete Concept ")]),o("template",{slot:"modal-body"},[o("section",[o("b",[e._v(" Warning! This action is permanent. ")])])]),o("template",{slot:"modal-foot"},[o("button",{staticClass:"is-danger is-outlined button",on:{click:function(t){return e.deleteItem()}}},[e._v(" Delete Concept ")]),o("button",{staticClass:"is-dark button",on:{click:function(t){return e.closeModal()}}},[e._v(" Cancel ")])])],2)},r=[],s=(o("fb6a"),o("a434"),o("af07")),n=o("872c"),i={name:"DeleteConceptConfirm",components:{ModalTemplate:s["a"]},mixins:[n["a"]],computed:{obj:function(){return this.$store.getters["editor/itemToDelete"]},framework:function(){return this.$store.getters["editor/framework"]}},data:function(){return{editsToUndo:[]}},methods:{deleteItem:function(){this.deleteObject(this.obj),this.closeModal()},closeModal:function(){this.$store.commit("app/closeModal"),this.$store.commit("editor/setItemToDelete",{})},deleteObject:function(e){appLog("deleting "+e.id),this.deleteConceptInner(e),this.framework["schema:dateModified"]=(new Date).toISOString(),this.$store.commit("editor/selectedCompetency",null)},deleteConceptInner:function(e){var t=this;if(null!=e["skos:broader"])for(var o=0;o<e["skos:broader"].length;o++)EcConcept.get(e["skos:broader"][o],(function(o){var a=o["skos:narrower"].slice();EcArray.setRemove(o["skos:narrower"],e.shortId()),o["schema:dateModified"]=(new Date).toISOString(),t.editsToUndo.push({operation:"update",id:o.shortId(),fieldChanged:["skos:narrower"],initialValue:[a]}),!0===t.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[o.id]&&(o=EcEncryptedValue.toEncryptedValue(o)),repo.saveTo(o,(function(){t.$store.commit("editor/framework",t.framework)}),appError)}),appError);if(null!=e["skos:narrower"])for(o=0;o<e["skos:narrower"].length;o++)EcConcept.get(e["skos:narrower"][o],(function(e){t.deleteConceptInner(e)}),appError);if(null!=e["skos:topConceptOf"]){var a=this.framework["skos:hasTopConcept"].slice();EcArray.setRemove(this.framework["skos:hasTopConcept"],e.shortId()),t.editsToUndo.push({operation:"update",id:this.framework.shortId(),fieldChanged:["skos:hasTopConcept"],initialValue:[a]});var r=this.framework;r["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[r.id]&&(r=EcEncryptedValue.toEncryptedValue(r)),repo.saveTo(r,(function(){t.$store.commit("editor/framework",t.framework)}),appError)}this.spitEvent("conceptDeleted",e.shortId(),"editFrameworkPage"),t.editsToUndo.push({operation:"delete",obj:e}),repo.deleteRegistered(e,(function(){t.$store.commit("editor/framework",t.framework),t.$store.commit("editor/addEditsToUndo",JSON.parse(JSON.stringify(t.editsToUndo))),t.editsToUndo.splice(0,t.editsToUndo.length)}),appError)}}},d=i,l=o("2877"),c=Object(l["a"])(d,a,r,!1,null,null,null);t["default"]=c.exports},"984b":function(e,t,o){},a434:function(e,t,o){"use strict";var a=o("23e7"),r=o("23cb"),s=o("a691"),n=o("50c4"),i=o("7b0b"),d=o("65f0"),l=o("8418"),c=o("1dde"),p=c("splice"),m=Math.max,u=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var o,a,c,p,k,b,g=i(this),w=n(g.length),v=r(e,w),C=arguments.length;if(0===C?o=a=0:1===C?(o=0,a=w-v):(o=C-2,a=u(m(s(t),0),w-v)),w+o-a>f)throw TypeError(h);for(c=d(g,a),p=0;p<a;p++)k=v+p,k in g&&l(c,p,g[k]);if(c.length=a,o<a){for(p=v;p<w-a;p++)k=p+a,b=p+o,k in g?g[b]=g[k]:delete g[b];for(p=w;p>w-a+o;p--)delete g[p-1]}else if(o>a)for(p=w-a;p>v;p--)k=p+a-1,b=p+o-1,k in g?g[b]=g[k]:delete g[b];for(p=0;p<o;p++)g[p+v]=arguments[p+2];return g.length=w-a+o,c}})},a907:function(e,t,o){},ad86:function(e,t,o){"use strict";var a=o("a907"),r=o.n(a);r.a},af07:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"modal cass-editor___modal",class:[{"is-active":e.active},"is-"+e.size,"cass-editor__modal--"+e.content],attrs:{id:"cass-modal"}},[o("div",{staticClass:"modal-background"}),o("div",{staticClass:"modal-card",class:"cass-editor__modal-card--"+e.size},[o("header",{staticClass:"modal-card-head is-size-4 has-text-weight-bold",class:["has-background-"+e.type,"has-text-"+e.fontColor]},[o("p",{staticClass:"modal-card-title"},[e._t("modal-header")],2),e.canClose?o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){e.$store.commit("app/closeModal"),e.$emit("close")}}}):e._e()]),o("div",{staticClass:"modal-card-body has-text-dark"},[e._t("modal-body")],2),o("footer",{staticClass:"modal-card-foot has-background-white"},[e._t("modal-foot")],2)])])},r=[],s=(o("984b"),{name:"ModalTemplate",props:{canClose:{type:Boolean,default:!0},active:{type:Boolean,default:!1},type:{default:"primary",type:String},fontColor:{type:String,default:"white"},size:{type:String,default:"medium"},content:{defualt:"default",type:String}},data:function(){return{}},computed:{}}),n=s,i=(o("ad86"),o("2877")),d=Object(i["a"])(n,a,r,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-93783560.c811dae2.js.map