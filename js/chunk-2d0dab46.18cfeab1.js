(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dab46","chunk-2d0dab46"],{"6d79":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t("ac1f"),t("841c"),t("d3b7"),t("25f0"),t("caad"),t("2532"),t("14d9");var r=t("c7eb"),a=t("b85c"),i=t("1da1"),o={name:"cassUtil",data:function(){return{}},methods:{getOrganizationByEcPk:function(e,n,t){var o=e.toPem(),c={size:1e4};EcOrganization.search(window.repo,"",function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(i){var c,u,s,d,f,l,g;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=Object(a["a"])(i),e.prev=1,c.s();case 3:if((u=c.n()).done){e.next=34;break}return s=u.value,e.prev=5,e.next=8,s.getOrgKeys();case 8:d=e.sent,f=Object(a["a"])(d),e.prev=10,f.s();case 12:if((l=f.n()).done){e.next=19;break}if(g=l.value,!g||!g.toPk().toPem().equals(o)){e.next=17;break}return n(s),e.abrupt("return");case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](10),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e["catch"](5),t(e.t1.toString());case 32:e.next=3;break;case 34:e.next=39;break;case 36:e.prev=36,e.t2=e["catch"](1),c.e(e.t2);case 39:return e.prev=39,c.f(),e.finish(39);case 42:n(null);case 43:case"end":return e.stop()}}),e,null,[[1,36,39,42],[5,29],[10,21,24,27]])})));return function(n){return e.apply(this,arguments)}}(),(function(e){t(e)}),c)},getOrganizationEcPk:function(e){return Object(i["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.getCurrentOrgKey();case 3:return n.abrupt("return",n.sent.toPk());case 6:return n.prev=6,n.t0=n["catch"](0),n.abrupt("return",null);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},getPersonEcPk:function(e){var n=this.generateProbablePersonFingerprintFromShortId(e.shortId());if(e.owner){var t,r=Object(a["a"])(e.owner);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=EcPk.fromPem(i);if(n.equals(o.fingerprint()))return o}}catch(c){r.e(c)}finally{r.f()}}return null},addAllOwnersFromObjectToObject:function(e,n){if(e&&e.owner){var t,r=Object(a["a"])(e.owner);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=EcPk.fromPem(i);n.addOwner(o)}}catch(c){r.e(c)}finally{r.f()}}},setDefaultBrowserConfigId:function(e){localStorage.setItem("cassAuthoringToolDefaultBrowserConfigId",e)},removeDefaultBrowserConfig:function(){localStorage.removeItem("cassAuthoringToolDefaultBrowserConfigId")},getDefaultBrowserConfigId:function(){return localStorage.getItem("cassAuthoringToolDefaultBrowserConfigId")},getBooleanValue:function(e){return"boolean"===typeof e?e:"string"===typeof e&&!!e.equalsIgnoreCase("true")},addAllIdentityPksAsOwners:function(e){if(EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0)for(var n=0;n<EcIdentityManager.default.ids.length;n++)e.addOwner(EcIdentityManager.default.ids[n].ppk.toPk())},isObjectOwnerless:function(e){return!e.owner||0===e.owner.length},doesAnyIdentityOwnObject:function(e){return!!this.isAdmin()||(null==e.canEditAny||e.canEditAny(EcIdentityManager.default.getMyPks()))},canEditAny:function(e){return!!this.isAdmin()||(null==e.canEditAny||e.canEditAny(EcIdentityManager.default.getMyPks()))},isAdmin:function(){return EcIdentityManager.default.ids.length>0&&null!=window.repo.adminKeys&&window.repo.adminKeys.length>0&&window.repo.adminKeys[0]===EcIdentityManager.default.ids[0].ppk.toPk().toPem()},generateProbablePersonFingerprintFromShortId:function(e){return e.substring(e.lastIndexOf("/")+1)},isPersonIdAnObjectOwner:function(e,n){if(!n.owner||0===n.owner.length)return!1;var t,r=this.generateProbablePersonFingerprintFromShortId(e),i=Object(a["a"])(n.owner);try{for(i.s();!(t=i.n()).done;){var o=t.value,c=EcPk.fromPem(o).fingerprint();if(c.equals(r))return!0}}catch(u){i.e(u)}finally{i.f()}return!1},isPersonIdAnObjectReader:function(e,n){if(!n.reader||0===n.reader.length)return!1;var t,r=this.generateProbablePersonFingerprintFromShortId(e),i=Object(a["a"])(n.reader);try{for(i.s();!(t=i.n()).done;){var o=t.value,c=EcPk.fromPem(o).fingerprint();if(c.equals(r))return!0}}catch(u){i.e(u)}finally{i.f()}return!1},areAnyIdentitiesThisPerson:function(e){var n=e.getFingerprint();if(EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0)for(var t=0;t<EcIdentityManager.default.ids.length;t++)if(EcIdentityManager.default.ids[t].ppk.toPk().fingerprint().equals(n))return!0;return!1},isPersonalIdentityAnObjectOwner:function(e){if(this.isAdmin())return!0;if(!e.owner||0===e.owner.length)return!1;var n=this.getPersonalIdentityPk().toPem();return e.owner.includes(n)},getPersonalIdentityPk:function(){return EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0?EcIdentityManager.default.ids[0].ppk.toPk():null},buildEcAlignmentsFromRemoteLinkedData:function(e){var n,t=[],r=Object(a["a"])(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=new EcAlignment;o.copyFrom(i),t.push(o)}}catch(c){r.e(c)}finally{r.f()}return t}},computed:{amLoggedIn:function(){return!!(EcIdentityManager&&EcIdentityManager.default.ids&&EcIdentityManager.default.ids.length>0)}}}}}]);
//# sourceMappingURL=chunk-2d0dab46.18cfeab1.js.map